(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["everyDayList"],{"0577":function(t,e,s){},"80e2":function(t,e,s){"use strict";s("a422")},a422:function(t,e,s){},d61e:function(t,e,s){"use strict";s("0577")},dd2a:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"navBar"},[s("a",{staticClass:"nav-bar-back",attrs:{href:"javascript:;"},on:{click:t.goBack}}),s("img",{staticClass:"navTitleImg",attrs:{src:t._f("imageToHttps")("//cdn09.ehaier.com/shunguang/H5/www//img/hotSale/title.png"),alt:""}})]),s("every-day-list-top",{attrs:{countItem:t.countItem,activeIndex:t.activeIndex},on:{changeCountItem:t.changeCountItem,getCountItem:t.getCountItem,getCategoryId:t.getCategoryId}}),s("div",{staticClass:"productList",attrs:{id:"productList"}},[t.haveNews?s("ul",t._l(t.list,(function(e,i){return s("li",{key:i,on:{click:function(s){return t.goProductDetailsPage(e)}}},[s("img",{staticClass:"list_left",attrs:{src:t._f("imageToHttps")(e.imageUrl)}}),s("div",{staticClass:"list_right"},[s("div",{staticClass:"title"},[t._v(t._s(e.name))]),s("div",{staticClass:"text"},[t._v(t._s(e.title))]),s("div",{staticClass:"priceAndCommission"},[s("span",{staticClass:"price"},[s("em",[t._v("￥")]),t._v(t._s(e.price))]),s("div",{class:1==t.isWdHost&&t.$toggleSwitch.commissionDisplay?"earnCommission":"noShow"},[t._v("赚")]),s("span",{class:1==t.isWdHost&&t.$toggleSwitch.commissionDisplay?"commission":"noShow"},[t._v("￥"+t._s(e.commission))])]),i<3?s("img",{staticClass:"list_right_img",attrs:{src:t._f("imageToHttps")(t.countImg+(i+1)+".png"),alt:""}}):t._e(),i>2?s("div",{staticClass:"rankingPictures"},[s("img",{attrs:{src:t._f("imageToHttps")("//cdn09.ehaier.com/shunguang/H5/www/img/hotSale/4.png"),alt:""}}),s("span",{staticClass:"span"},[i<9?s("span",[t._v("0")]):t._e(),t._v(t._s(i+1))])]):t._e()])])})),0):t._e(),t.noNews?s("div",{staticClass:"noNews"},[s("div",{staticClass:"noNewsDiv"},[s("img",{attrs:{alt:"",src:t._f("imageToHttps")(t.$cdnImageUrl+"/everyDayList/noRanking.png")}}),s("div",[t._v("暂无排行")])])]):t._e()]),t.goNextList&&t.nextName&&t.nextName.length>0&&t.list.length>0?s("div",{staticClass:"bottomToNextPage",on:{touchend:t.touchEnd,touchstart:t.touchStart}},[t._v("上滑进入"+t._s(t.nextName)+"热卖榜单")]):t._e()],1)},a=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[t.listClose?s("div",{staticClass:"top"},[s("div",{staticClass:"top_left",attrs:{id:"menu-top"}},[s("van-tabs",{attrs:{color:"#2e7eed"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.everyText,(function(e,i){return s("van-tab",{key:i,attrs:{id:"listUlLi"+i,title:e.labelName},on:{click:function(s){return t.change(e,i,e+1)}}})})),1)],1),s("div",{staticClass:"divid"}),s("div",{staticClass:"top_right",on:{click:function(e){return e.stopPropagation(),t.chooseList.apply(null,arguments)}}},[s("img",{attrs:{src:t.$cdnImageUrl+"/everyDayList/blueDown.png",alt:""}})])]):t._e(),t.listOpen?s("div",{staticClass:"top_open"},[s("div",{staticClass:"top_open_top"},[s("div",[t._v("请选择类别:")]),s("img",{attrs:{src:t.$cdnImageUrl+"/everyDayList/blueUp.png",alt:""},on:{click:t.closeList}})]),s("div",{staticClass:"top_open_foot"},[s("ul",t._l(t.everyText,(function(e,i){return s("li",{key:i,class:["originalLi",t.selectId==i?"selectLiStyle":""],on:{click:function(s){return t.listActived(e,i)}}},[t._v(" "+t._s(e.labelName)+" ")])})),0)])]):t._e(),t.show?s("div",{staticClass:"overlayClick",style:{height:t.Height},on:{click:t.overlayClick}}):t._e()])},n=[],c=s("1c03"),l=s("bbc2"),r=function(t){return c["a"].request({url:l["a"].everyDayList,method:"get",params:t})},h=function(t){return c["a"].request({url:l["a"].everyDayListTop,method:"get",params:t})},d={data:function(){return{textClass:!1,selectId:0,listClose:!0,listOpen:!1,show:!1,windowHeight:"",countId:0,everyText:[],marginLeft:0,listLi:"",touchStartX:"",touchMoveX:"",listClickCount:1,listClickNum:0,ulWidth:"",active:0}},props:["countItem","activeIndex"],watch:{activeIndex:function(t){this.active=t},active:function(t){var e;(this.selectId=t,this.everyText.length>this.everyText.length-1)&&(e=7===t?"":this.everyText[t+1].labelName,this.$emit("getCountItem",{first:this.everyText[t],second:e}));this.$emit("changeCountItem",t)}},computed:{Height:function(){return this.windowHeight+"px"}},created:function(){this.windowHeight=document.body.clientHeight},methods:{chooseList:function(){this.listClose=!1,this.listOpen=!0,this.show=!0},closeList:function(){this.listClose=!0,this.listOpen=!1,this.show=!1},listActived:function(t,e){this.$emit("changeCountItem",t.countId),this.listOpen=!1,this.listClose=!0,this.show=!1},overlayClick:function(){this.listOpen=!1,this.listClose=!0,this.show=!1}},mounted:function(){var t=this;h({type:1}).then((function(e){for(var s=0;s<e.data.data.length;s++)e.data.data[s].countId=t.countId,t.countId++;t.everyText=e.data.data,t.$emit("getCategoryId",e.data.data)}))}},u=d,g=(s("80e2"),s("2877")),m=Object(g["a"])(u,o,n,!1,null,"2d49c480",null),v=m.exports,p={name:"everyDayList",data:function(){return{activeIndex:0,countImg:"http://cdn09.ehaier.com/shunguang/H5/www/img/hotSale/",categoryId:"",countItem:0,list:[],noNews:!1,haveNews:!0,allHeight:"",scrolltop:"",clientheight:"",nextName:"",getName:"",productListTop:[],goNextList:!0}},computed:{isWdHost:function(){return this.$store.getters.getHasStore}},components:{everyDayListTop:v},methods:{goBack:function(){this.$store.dispatch("doHistoryBack")},goProductDetailsPage:function(t){this.$router.push({path:"./goodsDetail",query:{productId:t.id}})},touchStart:function(t){this.activeIndex++,this.touchY=t.changedTouches[0].pageY},touchEnd:function(t){var e=this,s=t.changedTouches[0].pageY-this.touchY;s<-10&&this.goNextList&&this.countItem<this.productListTop.length-1&&setTimeout((function(){e.countItem++}),500)},changeCountItem:function(t){this.activeIndex=t},getCountItem:function(t){this.countItem=t.first.countId,this.nextName=t.second,this.getName=t.first.labelName,this.changeProduct(this.getName)},changeProduct:function(t){var e=this;switch(window.scrollTo(0,0),t){case"冰箱":this.categoryId=8;break;case"热水器":this.categoryId=11;break;case"空调":this.categoryId=9;break;case"洗衣机":this.categoryId=10;break;case"厨房电器":this.categoryId=12;break;case"电视":this.categoryId=13;break;case"冷柜":this.categoryId=18;break;case"生活小电":this.categoryId=69;break}var s={categoryId:this.categoryId,provinceId:this.$store.state.provinceId,cityId:this.$store.state.cityId,regionId:this.$store.state.districtId,streetId:this.$store.state.townshipId};this.list=[],r(s).then((function(t){e.list=t.data.data,null===t.data.data||t.data.data.length<1?(e.noNews=!0,e.haveNews=!1,e.goNextList=!1):(e.noNews=!1,e.haveNews=!0,e.goNextList=!0)}))},getCategoryId:function(t){this.productListTop=t,this.nextName=t[1].labelName,this.changeProduct(t[0].labelName)}},mounted:function(){var t=this;window.onscroll=function(){this.allHeight=document.documentElement.scrollHeight,this.scrolltop=document.documentElement.scrollTop,this.clientheight=document.documentElement.clientHeight,t.list.length>=1&&this.scrolltop+this.clientheight>=this.allHeight&&(t.goNextList=!0)}}},I=p,f=(s("d61e"),Object(g["a"])(I,i,a,!1,null,"61fd098a",null));e["default"]=f.exports}}]);
//# sourceMappingURL=everyDayList.c9d2125f.js.map