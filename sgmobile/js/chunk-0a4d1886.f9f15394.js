(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a4d1886"],{"39d1":function(t,e,n){"use strict";var o=n("d282"),i=n("ea8e"),r=n("1325"),s=n("3875"),a=n("78eb"),c=n("ad06"),u=Object(o["a"])("rate"),l=u[0],d=u[1];function f(t,e,n){return t>=e?"full":t+.5>=e&&n?"half":"void"}e["a"]=l({mixins:[s["a"],a["a"]],props:{size:[Number,String],color:String,gutter:[Number,String],readonly:Boolean,disabled:Boolean,allowHalf:Boolean,voidColor:String,iconPrefix:String,disabledColor:String,value:{type:Number,default:0},icon:{type:String,default:"star"},voidIcon:{type:String,default:"star-o"},count:{type:[Number,String],default:5},touchable:{type:Boolean,default:!0}},computed:{list:function(){for(var t=[],e=1;e<=this.count;e++)t.push(f(this.value,e,this.allowHalf));return t},sizeWithUnit:function(){return Object(i["a"])(this.size)},gutterWithUnit:function(){return Object(i["a"])(this.gutter)}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{select:function(t){this.disabled||this.readonly||t===this.value||(this.$emit("input",t),this.$emit("change",t))},onTouchStart:function(t){var e=this;if(!this.readonly&&!this.disabled&&this.touchable){this.touchStart(t);var n=this.$refs.items.map((function(t){return t.getBoundingClientRect()})),o=[];n.forEach((function(t,n){e.allowHalf?o.push({score:n+.5,left:t.left},{score:n+1,left:t.left+t.width/2}):o.push({score:n+1,left:t.left})})),this.ranges=o}},onTouchMove:function(t){if(!this.readonly&&!this.disabled&&this.touchable&&(this.touchMove(t),"horizontal"===this.direction)){Object(r["c"])(t);var e=t.touches[0].clientX;this.select(this.getScoreByPosition(e))}},getScoreByPosition:function(t){for(var e=this.ranges.length-1;e>0;e--)if(t>this.ranges[e].left)return this.ranges[e].score;return this.allowHalf?.5:1},genStar:function(t,e){var n,o=this,i=this.$createElement,r=this.icon,s=this.color,a=this.count,u=this.voidIcon,l=this.disabled,f=this.voidColor,h=this.disabledColor,g=e+1,b="full"===t,p="void"===t;return this.gutterWithUnit&&g!==+a&&(n={paddingRight:this.gutterWithUnit}),i("div",{ref:"items",refInFor:!0,key:e,attrs:{role:"radio",tabindex:"0","aria-setsize":a,"aria-posinset":g,"aria-checked":String(!p)},style:n,class:d("item")},[i(c["a"],{attrs:{size:this.sizeWithUnit,name:b?r:u,color:l?h:b?s:f,classPrefix:this.iconPrefix,"data-score":g},class:d("icon",{disabled:l,full:b}),on:{click:function(){o.select(g)}}}),this.allowHalf&&i(c["a"],{attrs:{size:this.sizeWithUnit,name:p?u:r,color:l?h:p?f:s,classPrefix:this.iconPrefix,"data-score":g-.5},class:d("icon",["half",{disabled:l,full:!p}]),on:{click:function(){o.select(g-.5)}}})])}},render:function(){var t=this,e=arguments[0];return e("div",{class:d({readonly:this.readonly,disabled:this.disabled}),attrs:{tabindex:"0",role:"radiogroup"}},[this.list.map((function(e,n){return t.genStar(e,n)}))])}})},4142:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("8199")},"77ba3":function(t,e,n){"use strict";n("8dc9")},8199:function(t,e,n){},"8dc9":function(t,e,n){},c3f5:function(t,e,n){"use strict";n.r(e),n.d(e,"manage",(function(){return s})),n.d(e,"collectStore",(function(){return a})),n.d(e,"enterprise",(function(){return c})),n.d(e,"getNavigations",(function(){return u})),n.d(e,"getImgCaptcha",(function(){return l})),n.d(e,"getViewCouponCate",(function(){return d})),n.d(e,"getCouponsCenter",(function(){return f})),n.d(e,"receiveCoupon",(function(){return h})),n.d(e,"commonLoadItemNew",(function(){return g})),n.d(e,"getPriceByProductList",(function(){return b})),n.d(e,"wdMarketFiltrate",(function(){return p})),n.d(e,"getNearbyList",(function(){return S})),n.d(e,"getBusinessCustomer",(function(){return m})),n.d(e,"GET_BANNER",(function(){return v})),n.d(e,"getLiveByStoreId",(function(){return O})),n.d(e,"getStoreFlashSale",(function(){return I})),n.d(e,"getCate",(function(){return C})),n.d(e,"getStoreSign",(function(){return w})),n.d(e,"getSelectedModel",(function(){return y})),n.d(e,"getCustomPageModel",(function(){return j})),n.d(e,"getUserCases",(function(){return B})),n.d(e,"getRecommendList",(function(){return _})),n.d(e,"getVRPreviews",(function(){return P})),n.d(e,"getPreSales",(function(){return k})),n.d(e,"getStoreSceneTabs",(function(){return L})),n.d(e,"getStoreScene",(function(){return $})),n.d(e,"getStoreSceneNew",(function(){return N})),n.d(e,"getSubStoreList",(function(){return x})),n.d(e,"getShopPreview",(function(){return E})),n.d(e,"getCustomPagePreview",(function(){return T})),n.d(e,"getStoreSignPreview",(function(){return U})),n.d(e,"getStoreNewProducts",(function(){return R})),n.d(e,"checkPrivateDomain",(function(){return F})),n.d(e,"getSuitList",(function(){return H})),n.d(e,"getSuitImage",(function(){return M})),n.d(e,"getSuitDetail",(function(){return W})),n.d(e,"validateTabOrSpace",(function(){return z})),n.d(e,"checkIdentity",(function(){return D})),n.d(e,"getFindGoods",(function(){return q}));var o=n("bbc2"),i=n("1c03"),r=n("f121"),s=function(t){return Object(i["b"])(o["a"].manage,t)},a=function(t){return Object(i["b"])(o["a"].collectStore,t)},c=function(t){return Object(i["b"])(o["a"].enterprise,t)},u=function(t){return Object(i["b"])(o["a"].getNavigations,t)},l=function(t){return Object(i["b"])(o["a"].getImgCaptcha,t)},d=function(t){return Object(i["b"])(o["a"].getViewCouponCate,t)},f=function(t){return Object(i["b"])(o["a"].getCouponsCenter,t,{},!0)},h=function(t){return Object(i["b"])(o["a"].receiveCoupon,t)},g=function(t){return Object(i["b"])(o["a"].commonLoadItemNew,t,{baseURL:r["a"].SHOST},!0)},b=function(t){return Object(i["b"])(o["a"].getPriceByProductList,t,{baseURL:r["a"].SHOST},!0)},p=function(t){return Object(i["b"])(o["a"].wdMarketFiltrate,t,{baseURL:r["a"].SHOST})},S=function(t){return Object(i["b"])(o["a"].nearbyList,t,{})},m=function(t){return Object(i["b"])(o["a"].getBusinessCustomer,t,{baseURL:r["a"].HOST4})},v=function(t){return Object(i["b"])(o["a"].GET_BANNER,t)},O=function(t){return Object(i["b"])(o["a"].getLiveByStoreId,t)},I=function(t){return Object(i["b"])(o["a"].getStoreFlashSale,t)},C=function(t){return Object(i["b"])(o["a"].getCate,t)},w=function(t){return Object(i["b"])(o["a"].storeSign,t)},y=function(t){return Object(i["b"])(o["a"].storeSelectedModel,t)},j=function(t){return Object(i["b"])(o["a"].getCustomPage,t)},B=function(t){return Object(i["b"])(o["a"].GET_STORE_SCENE,t)},_=function(t){return Object(i["b"])(o["a"].recommendProducts,t)},P=function(t){return Object(i["b"])(o["a"].storeVRPreviewList,t)},k=function(t,e){return e?Object(i["b"])(o["a"].platformPreSale,t):Object(i["c"])("".concat(o["a"].preSaleList,"?storeId=").concat(t.storeId))},L=function(t){return Object(i["b"])(o["a"].sceneTabList,t)},$=function(t){return Object(i["c"])(o["a"].sceneList,t)},N=function(t){return Object(i["b"])(o["a"].sceneListNew,t,{baseURL:r["a"].DHOST})},x=function(t){return Object(i["b"])(o["a"].subStoreList,t)},E=function(t){return Object(i["c"])(o["a"].shopPreview,t,{baseURL:r["a"].STOREHOST})},T=function(t){return Object(i["c"])(o["a"].customPagePreview,t,{baseURL:r["a"].STOREHOST})},U=function(t){return Object(i["b"])(o["a"].storeSignPreview,t,{baseURL:r["a"].STOREHOST})},R=function(t){return Object(i["b"])(o["a"].storeNewProducts,t)},F=function(t){return Object(i["b"])(o["a"].checkPrivateDomain,t,{cancelRepeat:!0})},H=function(t){return Object(i["b"])(o["a"].getShopSuitList,t)},M=function(t){return Object(i["b"])(o["a"].getShopSuitImage,t)},W=function(t){return Object(i["c"])(o["a"].getShopSuitDetail,t,{cancelRepeat:!0})},z=function(t){return Object(i["c"])(o["a"].validateTabOrSpace,t)},D=function(t){return Object(i["b"])(o["a"].checkIdentity,t)},q=function(t){return Object(i["b"])(o["a"].storeFindGoods,t)}},dca3:function(t,e,n){"use strict";n.r(e);var o,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container flex-column"},[n("div",{staticClass:"pic-top-bg",style:{background:"url("+t.storeSign.storeBgImg+") 0% 0% / 100% 5.96rem no-repeat"}},[n("div",{staticClass:"top-bg-masking"}),n("div",{staticClass:"top-gradient"})]),n("div",{staticClass:"nav-header flex-row"},[t.$route.query.browerFirstIn?t._e():n("div",{staticClass:"back-btn",on:{click:t.goBack}}),n("div",{staticClass:"nav-title"},[t._v("店铺印象")]),t.showShare?n("div",{staticClass:"share-btn",on:{click:t.doShare}}):t._e()]),n("div",{staticClass:"shop-row-bg flex-row"},[n("img",{staticClass:"shop-avatar",attrs:{src:t._f("imageToHttps")(t.storeSign.logoUrl)}}),n("div",{staticClass:"flex-column",staticStyle:{"margin-left":".16rem",position:"relative",flex:"1"}},[n("div",{staticClass:"store-name"},[t._v(" "+t._s(t.storeSign.o2oStoreName||t.storeSign.storeName)+" ")]),n("div",{staticClass:"flex-row"},[t._m(0),n("div",{staticClass:"fans"},[t._v(" 粉丝数"+t._s(t._f("formatNumber")(t.shopBasicInfo.collectors))+" ")])])]),n("div",{staticClass:"collection flex-row",on:{click:t.changeCollection}},[t.shopBasicInfo.isCollection?t._e():n("div",{staticClass:"icon"}),n("span",[t._v(t._s(t.shopBasicInfo.isCollection?"已关注":"关注"))])])]),n("div",{staticClass:"shop-row-bg flex-column"},[n("div",{staticClass:"row-title"},[t._v("店铺星级")]),n("div",{staticClass:"flex-row",staticStyle:{"margin-top":".24rem"}},[n("div",{staticClass:"star-des"},[t._v("商品描述")]),n("van-rate",{attrs:{size:".24rem",gutter:".1rem",count:5,color:"#f0ba3a","void-icon":"star","void-color":"#e3e3e3",readonly:""},model:{value:t.shopBasicInfo.pg,callback:function(e){t.$set(t.shopBasicInfo,"pg",e)},expression:"shopBasicInfo.pg"}}),n("div",{staticClass:"star-rate"},[t._v(t._s(t.shopBasicInfo.pg?t.shopBasicInfo.pg.toFixed(1):"0"))])],1),n("div",{staticClass:"flex-row",staticStyle:{"margin-top":".24rem"}},[n("div",{staticClass:"star-des"},[t._v("卖家服务")]),n("van-rate",{attrs:{size:".24rem",gutter:".1rem",count:5,color:"#f0ba3a","void-icon":"star","void-color":"#e3e3e3",readonly:""},model:{value:t.shopBasicInfo.sg,callback:function(e){t.$set(t.shopBasicInfo,"sg",e)},expression:"shopBasicInfo.sg"}}),n("div",{staticClass:"star-rate"},[t._v(t._s(t.shopBasicInfo.sg?t.shopBasicInfo.sg.toFixed(1):"0"))])],1),n("div",{staticClass:"flex-row",staticStyle:{"margin-top":".24rem"}},[n("div",{staticClass:"star-des"},[t._v("物流服务")]),n("van-rate",{attrs:{size:".24rem",gutter:".1rem",count:5,color:"#f0ba3a","void-icon":"star","void-color":"#e3e3e3",readonly:""},model:{value:t.shopBasicInfo.lg,callback:function(e){t.$set(t.shopBasicInfo,"lg",e)},expression:"shopBasicInfo.lg"}}),n("div",{staticClass:"star-rate"},[t._v(t._s(t.shopBasicInfo.lg?t.shopBasicInfo.lg.toFixed(1):"0"))])],1)]),n("div",{staticClass:"shop-row-bg flex-row",on:{click:function(e){t.showShopEWMFlag=!0}}},[n("div",{staticClass:"row-title"},[t._v("店铺二维码")]),n("img",{staticClass:"icon-tag",attrs:{src:t.$cdnImageUrl+"/shop/icon_shop_qr.png"}})]),t.$store.getters.getLoginStatus?n("div",{staticClass:"shop-row-bg flex-row",on:{click:t.goCertification}},[n("div",{staticClass:"row-title"},[t._v("店铺资质")]),n("img",{staticClass:"icon-tag",attrs:{src:t.$cdnImageUrl+"/shop/icon_shop_ certification_new.png"}})]):t._e(),t.showShopEWMFlag?n("shop-ewm",{attrs:{shopBasicInfo:t.shopBasicInfo},on:{fnShowShopEWM:t.fnShowShopEWM}}):t._e()],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"store-tag"},[n("span",[t._v("官方")])])}],s=(n("4142"),n("39d1")),a=n("2f62"),c=n("c3f5");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(){return Promise.all([n.e("chunk-3a072327"),n.e("chunk-53825816")]).then(n.bind(null,"19b9"))},h={components:(o={},d(o,s["a"].name,s["a"]),d(o,"shopEwm",f),o),data:function(){return{rateList:[{name:"商品描述",rate:4},{name:"卖家服务",rate:3},{name:"物流服务",rate:5}],shopBasicInfo:{},avatar:"",storeSign:{logoUrl:"",storeName:"",o2oStoreName:""},showShopEWMFlag:!1,showShare:this.$util.isSgRn()||this.$util.isHaierApp()}},computed:l(l({},Object(a["d"])(["mId"])),{},{location:function(){return this.$store.getters["getlocationInfo"]}}),mounted:function(){this.getStoreSign()},methods:{goBack:function(){this.$store.dispatch("doHistoryBack")},shareLinkFactory:function(){var t="".concat(location.origin,"/sgmobile/shopDetail"),e=this.getCleanQuerys();this.mId&&(e.shareId=this.mId),this.storeSign.mdCode&&(e.mdCode=this.storeSign.mdCode);var n=this.$util.parseParamsToQuery(e);return t+n},doShare:function(){var t=this.shareLinkFactory();console.log(t),this.$util.inAppShare({title:this.storeSign.o2oStoreName||this.storeSign.storeName,desc:this.$util.isSyBird()?"定制智慧家 就找三翼鸟":"海尔智家商城，海尔家电正品保障",url:t})},getShopInfo:function(){var t=this;Object(c["manage"])({storeId:this.$route.query.storeId,provinceId:this.location.provinceId,cityId:this.location.cityId,ionId:this.location.districtId,street:this.location.townshipId}).then((function(e){e.success?(t.shopBasicInfo=e.data,[4,5,6].includes(t.storeSign.storeType)&&(t.shopBasicInfo.lg=5,t.shopBasicInfo.pg=5,t.shopBasicInfo.sg=5),t.shopBasicInfo.storeName=t.storeSign.o2oStoreName||t.storeSign.storeName,t.shopBasicInfo.avatarImageFileId=t.storeSign.logoUrl):t.$toast(e.message)}))},getStoreSign:function(){var t=this,e="",n="";this.location&&(e=this.location.longitude,n=this.location.latitude),Object(c["getStoreSign"])({storeId:this.$route.query.storeId,latitude:n,longitude:e,shareId:sessionStorage.getItem("shareUserId")||"",mdCode:sessionStorage.getItem("shareMdCode")||""}).then((function(e){e.success&&(t.storeSign=e.data,t.getShopInfo(),e.data.logoUrl||(9!==Number(e.data.synStoreType)||t.$util.isSyBird()?t.storeSign.logoUrl="".concat(t.$cdnImageUrl,"/sybird_default_logo.png"):t.storeSign.logoUrl="".concat(t.$cdnImageUrl,"/uplus_logo.png")))}))},changeCollection:function(){var t=this;this.$store.getters.getLoginStatus?Object(c["collectStore"])({collectId:this.$route.query.storeId,type:1}).then((function(e){e.success?e.data&&(t.shopBasicInfo.isCollection=1===e.totalCount,t.getShopInfo()):t.$toast(e.message)})):this.$store.dispatch("doLogin")},fnShowShopEWM:function(){this.showShopEWMFlag=!this.showShopEWMFlag},goCertification:function(){this.$router.push({path:"/certification",query:{ownerId:this.shopBasicInfo.storeId}})}},filters:{formatNumber:function(t){return t?t>=1e4?"".concat((t/1e4).toFixed(2),"万"):t:0}}},g=h,b=(n("77ba3"),n("2877")),p=Object(b["a"])(g,i,r,!1,null,"42f6225c",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-0a4d1886.f9f15394.js.map