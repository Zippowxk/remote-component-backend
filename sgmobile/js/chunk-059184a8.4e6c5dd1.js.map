{"version":3,"sources":["webpack:///./src/http/service/groupBooking.js","webpack:///./src/views/shopDetail/component/top-bar/selected/groupBooking.vue?6c3c","webpack:///./src/views/shopDetail/component/top-bar/selected/groupBooking.vue?d396","webpack:///src/views/shopDetail/component/top-bar/selected/groupBooking.vue","webpack:///./src/views/shopDetail/component/top-bar/selected/groupBooking.vue?6d23","webpack:///./src/views/shopDetail/component/top-bar/selected/groupBooking.vue"],"names":["getMainGroupBooking","params","get","Url","getShopGroupList","getGoodsGroupList","getGroupBuyByOrderSn","isGroupBuyOrder","render","_vm","this","_h","$createElement","_c","_self","prodList","staticClass","_v","attrs","on","$event","goMore","picture","_s","productName","sellPoints","replace","staticStyle","_f","activityPrice","clustersNum","timeDown","_e","goProduct","staticRenderFns","inheritAttrs","props","data","type","Object","default","storeId","String","storeSign","components","CountDown","productInfo","sellPoint","computed","watch","handler","immediate","mId","methods","res","success","length","startTime","sysTime","time","endTime","$util","gioTrackWithVariable","modelName","modelCode","site_number","itemCode","$emit","productId","$router","push","component"],"mappings":"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","file":"js/chunk-059184a8.4e6c5dd1.js","sourcesContent":["/**\n * 拼团相关\n */\nimport Url from '../url.js';\n// import HOST from '@/config';\nimport { get } from '../http'\n\n/**\n  * 首页拼团列表\n  */\nexport const getMainGroupBooking = params => get(Url.getMainGroupBooking, params);\n/**\n  * 店铺首页拼团列表\n  */\nexport const getShopGroupList = params => get(Url.getShopGroupList, params);\n/**\n  * 单品页待成团列表\n  */\nexport const getGoodsGroupList = params => get(Url.getGoodsGroupList, params);\n/**\n  * 根据订单号查询拼团信息\n  */\nexport const getGroupBuyByOrderSn = params => get(Url.getGroupBuyByOrderSn, params);\n/**\n  * 根据orderId查询orderSn\n  */\nexport const isGroupBuyOrder = params => get(Url.isGroupBuyOrder, params);\n\nexport default {\n  getMainGroupBooking,\n  getShopGroupList,\n  getGoodsGroupList,\n  getGroupBuyByOrderSn,\n  isGroupBuyOrder\n};\n","export * from \"-!../../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupBooking.vue?vue&type=style&index=0&id=53e6b77f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.prodList.length)?_c('div',{staticClass:\"presell\"},[_c('div',{staticClass:\"bg-tag\"}),_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"拼团专区\")]),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.goMore()}}},[_vm._v(\"更多 \"),_c('i')])]),_c('div',{staticClass:\"prod-row\"},[_c('img',{attrs:{\"src\":_vm.prodList[0].picture}}),_c('div',{staticClass:\"prod-info\"},[_c('div',{staticClass:\"prod-title\"},[_vm._v(\" \"+_vm._s(_vm.prodList[0].productName)+\" \")]),_c('div',{staticClass:\"sale-point\"},[_vm._v(\" \"+_vm._s((_vm.prodList[0].sellPoints && _vm.prodList[0].sellPoints !== 'null') ? _vm.prodList[0].sellPoints.replace(/,/g, ' | ') : '')+\" \")]),_c('div',{staticClass:\"flex-row\",staticStyle:{\"position\":\"absolute\",\"bottom\":\"0\"}},[_c('div',{staticClass:\"sale-price\"},[_vm._v(\" ¥\"),_c('span',[_vm._v(_vm._s(_vm._f(\"formatPriceInt\")(_vm._f(\"formatPrice\")(_vm.prodList[0].activityPrice))))]),_c('p',{staticClass:\"symbol\"},[_vm._v(_vm._s(_vm._f(\"formatPriceFloat\")(_vm._f(\"formatPrice\")(_vm.prodList[0].activityPrice))))])]),_c('div',{staticClass:\"book-num\"},[_c('span',[_vm._v(_vm._s(_vm.prodList[0].clustersNum)+\"人团\")])])]),_c('div',{staticClass:\"absolute-row\"},[(_vm.timeDown > 0)?_c('div',{staticClass:\"time-down\"},[_vm._v(\" 仅剩 \"),_c('count-down',{attrs:{\"time\":_vm.timeDown}})],1):_vm._e(),_c('div',{staticClass:\"pre-btn\",on:{\"click\":_vm.goProduct}},[_c('span',[_vm._v(\"立即抢购\")])])])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"presell\" v-if=\"prodList.length\">\n    <div class=\"bg-tag\"/>\n    <div class=\"title\">\n      <span class=\"text\">拼团专区</span>\n      <a href=\"javascript:;\" @click=\"goMore()\">更多 <i></i></a>\n    </div>\n    <div class=\"prod-row\">\n      <img :src=\"prodList[0].picture\"/>\n      <div class=\"prod-info\">\n        <div class=\"prod-title\">\n          {{prodList[0].productName}}\n        </div>\n        <div class=\"sale-point\">\n          {{(prodList[0].sellPoints && prodList[0].sellPoints !== 'null') ? prodList[0].sellPoints.replace(/,/g, ' | ') : ''}}\n        </div>\n        <div class=\"flex-row\" style=\"position: absolute; bottom: 0\">\n          <div class=\"sale-price\">\n            ¥<span>{{prodList[0].activityPrice | formatPrice | formatPriceInt}}</span><p class=\"symbol\">{{prodList[0].activityPrice | formatPrice | formatPriceFloat}}</p>\n          </div>\n          <div class=\"book-num\">\n            <span>{{prodList[0].clustersNum}}人团</span>\n          </div>\n        </div>\n        <div class=\"absolute-row\">\n          <div class=\"time-down\" v-if=\"timeDown > 0\">\n            仅剩\n              <!-- @finish=\"getPreSale\" -->\n            <count-down\n              :time=\"timeDown\"\n            />\n          </div>\n          <div class=\"pre-btn\" @click=\"goProduct\">\n            <span>立即抢购</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  getShopGroupList\n} from '@/http/service/groupBooking'\nimport { CountDown } from 'vant';\nimport { mapGetters } from 'vuex';\n/** 精选页 发现好货组件--暂时不加 */\nexport default {\n  inheritAttrs: false,\n  props: {\n    data: {\n      type: Object,\n      default: () => {},\n    },\n    storeId: {\n      type: String,\n      default: '',\n    },\n    storeSign: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  components: {\n    CountDown,\n  },\n  data() {\n    return {\n      prodList: [],\n      productInfo: {\n        productName: '海尔洗衣机155L水库容量全自动滚水库容量全自动滚',\n        sellPoint: ['风冷无霜', '杀菌净味', '三挡变温'],\n      },\n      timeDown: 0,\n    }\n  },\n  computed: {\n    ...mapGetters(['mId']),\n  },\n  watch: {\n    storeId: {\n      handler(newVal) {\n        this.getShopGroupList();\n      },\n      immediate: true,\n    },\n    mId() {\n      this.getShopGroupList();\n    }\n  },\n  methods: {\n    getShopGroupList() {\n      this.timeDown = 0;\n      getShopGroupList({\n        storeId: this.storeId,\n      }).then(res => {\n        if (res.success && res.data && res.data.length) {\n          this.prodList = res.data;\n          const startTime = res.data[0].startTime || 0;\n          const sysTime = res.data[0].sysTime || 0;\n          const endTime = res.data[0].endTime || 0;\n          let time = 0;\n          if (startTime > sysTime) {\n            time = startTime - sysTime;\n          } else if (endTime > sysTime) {\n            time = endTime - sysTime;\n          }\n          this.timeDown = time;\n        }\n      });\n    },\n    goMore() {\n      // 25093埋点\n      this.$util.gioTrackWithVariable('mall_store_click_model', {\n        modelName: '拼团专区',\n        modelCode: 'group_buy',\n        site_number: 'null',\n        itemCode: '更多',\n      })\n      this.$emit('changeBar', 2);\n    },\n    goProduct() {\n      // 25093埋点\n      this.$util.gioTrackWithVariable('mall_store_click_model', {\n        modelName: '拼团专区',\n        modelCode: 'group_buy',\n        site_number: '1',\n        itemCode: this.prodList[0].productId + '',\n      })\n      this.$router.push(`/goodsDetail?productId=${this.prodList[0].productId}&visitStore=${this.storeId}`);\n    }\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.presell {\n  position: relative;\n  margin: .24rem;\n  margin-bottom: 0;\n  width: 7.02rem;\n  padding: 0 .24rem;\n  box-sizing: border-box;\n  background: #ffffff;\n  border-radius: .24rem;\n}\n.bg-tag {\n  position: absolute;\n  top: .24rem;\n  left: .16rem;\n  height: .4rem;\n  width: .4rem;\n  border-radius: .2rem;\n  background: linear-gradient(270deg,#f8faff 27%, #d6e5ff 87%);\n  z-index: 0;\n}\n.title{\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: .28rem;\n  padding-bottom: .24rem;\n  .text{\n    font-size: .28rem;\n    line-height: .44rem;\n    height: .44rem;\n    color: #333;\n    font-weight: 700;\n    z-index: 0;\n  }\n  a{\n    display: inline-flex;\n    align-items: center;\n    color: #999;\n    font-size: .24rem;\n    line-height: .36rem;\n    i{\n      display: inline-block;\n      width: .24rem;\n      height: .24rem;\n      @include icon-more;\n    }\n  }\n}\n.flex-row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.prod-row {\n  display: flex;\n  flex-direction: row;\n  padding-bottom: .24rem;\n  img {\n    height: 1.6rem;\n    width: 1.6rem;\n    border: 1px solid #e6e6e6;\n    border-radius: .08rem;\n    margin-right: .24rem;\n  }\n  .prod-info {\n    position: relative;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    .prod-title {\n      padding-top: .08rem;\n      font-size: .24rem;\n      color: #333;\n      width: 100%;\n      line-height: .34rem;\n      height: .34rem;\n      padding-bottom: .08rem;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    .sale-point {\n      font-size: .20rem;\n      color: #666;\n      line-height: .24rem;\n      height: .24rem;\n      padding-bottom: .12rem;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n    .origin-price {\n      color: #999;\n      font-size: .24rem;\n      display: inline-block;\n      transform: scale(.84);\n      margin-left: -.40rem;\n      padding-bottom: .14rem;\n      .price {\n        text-decoration: line-through;\n        .number {\n          font-family: DINAlternate, DINAlternate-Bold;\n          font-size: .29rem;\n        }\n      }\n    }\n\n    .sale-price {\n      font-family: DINAlternate, DINAlternate-Bold;\n      font-size: .24rem;\n      margin-right: .08rem;\n      color: #FF2E2E;\n      vertical-align: bottom;\n      .symbol {\n        font-size: .2rem;\n        display: inline-block;\n        /* transform: scale(0.84);\n        display:inline-block; */\n      }\n      span {\n        font-size: .32rem;\n        font-weight: bold;\n      }\n    }\n    .pre-tag {\n      height: .32rem;\n      width: .32rem;\n      /* padding: .03rem; */\n      background: #ff2e2e;\n      border-radius: .08rem 0 0 .08rem;\n      line-height: .32rem;\n      display:inline-block;\n      font-size:.24rem;\n      transform:scale(0.75);\n      color: white;\n      text-align: center;\n      vertical-align: middle;\n      margin-right: -.08rem;\n      /* font-size: .18rem; */\n      /* span {\n        line-height: .24rem;\n        display:inline-block;\n        font-size:.24rem;\n        transform:scale(0.75);\n        color: white;\n        text-align: center;\n        vertical-align: middle;\n      } */\n    }\n    .price-discount {\n      height: .32rem;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 0 .08rem 0.08rem 0;\n      border:  1px solid #ff2e2e;\n      height: .32rem;\n      line-height: .32rem;\n      display:inline-block;\n      font-size:.24rem;\n      transform:scale(0.75);\n      color:  #ff2e2e;\n      text-align: center;\n      vertical-align: middle;\n      margin-left: -.08rem;\n      /* span {\n        height: .24rem;\n        line-height: .24rem;\n        display:inline-block;\n        font-size:.24rem;\n        transform:scale(0.75);\n        color:  #ff2e2e;\n        text-align: center;\n        vertical-align: middle;\n      } */\n    }\n    .absolute-row {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      display: flex;\n      flex-direction: column;\n    }\n    .pre-btn {\n      width: 1.52rem;\n      height: .54rem;\n      background-color: #2878ff;\n      border-radius: .3rem;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      span {\n        font-size: .24rem;\n        text-align: center;\n        color: white;\n      }\n    }\n    .time-down {\n      font-size: .24rem;\n      color: #333;\n      display: inline-block;\n      transform: scale(.84);\n      margin-bottom: -.04rem;\n    }\n  }\n}\n.van-count-down {\n  color: #333;\n  font-size: .24rem;\n  display: inline-block;\n  /* transform: scale(.84); */\n}\n.book-num {\n  height: 0.24rem;\n  opacity: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(90deg,#ff2b2b 13%, #ff7f25 83%);\n  border-radius: 0.06rem;\n  span {\n    color: white;\n    font-size: .24rem;\n    display: inline-block;\n    transform: scale(.75);\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupBooking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupBooking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./groupBooking.vue?vue&type=template&id=53e6b77f&scoped=true&\"\nimport script from \"./groupBooking.vue?vue&type=script&lang=js&\"\nexport * from \"./groupBooking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./groupBooking.vue?vue&type=style&index=0&id=53e6b77f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53e6b77f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}