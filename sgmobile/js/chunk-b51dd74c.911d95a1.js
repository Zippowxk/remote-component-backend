(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b51dd74c"],{"0a10":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"answer-warp"},[n("Header",[n("router-link",{attrs:{slot:"right",to:"/goodsAnswerMine"},slot:"right"},[t._v("我的问答")])],1),n("GoodsInfo",{ref:"goodsInfo",attrs:{sku:t.sku}}),n("div",{staticClass:"answer-search"},[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/search.png",alt:""}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"搜索已有问题",maxlength:"40"},domProps:{value:t.searchText},on:{input:[function(e){e.target.composing||(t.searchText=e.target.value)},t.doSearch]}})]),t.list.length?n("div",{staticClass:"answer-list"},[n("van-list",{staticClass:"answer-list",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e){return n("div",{key:e.questionId,staticClass:"answer-item",on:{click:function(n){return t.goDetail(e)}}},[n("h4",[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/question.png",alt:""}}),n("p",[t._v(t._s(e.question))])]),e.bestAnswer?n("div",[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/answer.png",alt:""}}),n("p",[t._v(t._s(e.bestAnswer))])]):n("div",[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/answer_disable.png",alt:""}}),n("p",[t._v("暂无回答")])]),e.answerCount?n("a",{attrs:{href:"javascript:;"}},[t._v("全部"+t._s(e.answerCount)+"个回答 "),n("van-icon",{attrs:{name:"arrow",size:".26rem",color:"#2878FF"}})],1):t._e()])})),0)],1):t._e(),!t.list.length&&t.finished?n("AnswerEmpty"):t._e(),n("div",{staticClass:"answer-add-btn"},[n("router-link",{attrs:{to:"/goodsAnswerAdd?sku="+t.sku}},[t._v("我要提问")])],1)],1)},r=[],i=n("e725"),o=n("6e57"),a=n("791f"),c=n("85e4"),u=n("2f62");function l(t){return h(t)||f(t)||d(t)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t){if(Array.isArray(t))return p(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={name:"answerList",components:{Header:i["a"],GoodsInfo:o["a"],AnswerEmpty:a["a"]},data:function(){return{sku:"",rowsCount:"",timer:null,curPage:1,pageSize:20,searchText:"",list:[],loading:!1,finished:!1}},activated:function(){console.log("========"),console.log(this.getAnswerInfo,"getAnswerInfo"),this.sku=this.$route.query.sku,this.init(),this.sku&&this.$refs.goodsInfo&&this.$refs.goodsInfo.getProductQuestionInfo()},methods:w(w({},Object(u["e"])("answerArea",["setQuestionInfo"])),{},{init:function(){this.curPage=1,this.list=[],this.finished=!1,this.loading=!1,this.searchText="",this.getPageProductQuestion()},onLoad:function(){this.getPageProductQuestion()},doSearch:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){clearTimeout(t.timer),t.list=[],t.curPage=1,t.loading=!1,t.finished=!1,t.getPageProductQuestion()}),500)},getPageProductQuestion:function(){var t=this;this.loading=!0;var e={start:this.curPage,offset:this.pageSize,sku:this.sku};this.searchText&&(e.question=this.searchText),Object(c["V"])(e).then((function(e){var n=e.result,s=e.success,r=e.pager;s?(t.rowsCount=r.rowsCount,t.curPage+=1,t.loading=!1,t.list=[].concat(l(t.list),l(n)),t.finished=n.length<t.pageSize):(t.loading=!1,t.finished=!0)}))},goDetail:function(t){this.setQuestionInfo(t),this.$router.push("/goodsAnswerDetail/"+t.questionId)}})},y=v,_=(n("c933"),n("2877")),O=Object(_["a"])(y,s,r,!1,null,"68375548",null);e["default"]=O.exports},"507c":function(t,e,n){"use strict";n("7eb3")},"6e57":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail-info",on:{click:t.goDetail}},[n("img",{attrs:{src:t.info.defaultImageUrl,alt:""}}),n("div",[n("h4",[t._v(t._s(t.info.productFullName))]),n("p",[t._v("共"+t._s(t.info.questionCount)+"个问题")])])])},r=[],i=n("85e4"),o={name:"answerGoodsInfo",props:["sku"],data:function(){return{info:{}}},watch:{sku:{handler:function(){this.getProductQuestionInfo()},immediate:!0}},methods:{getProductQuestionInfo:function(){var t=this;this.sku&&Object(i["ab"])({sku:this.sku}).then((function(e){var n=e.result;t.info=n}))},goDetail:function(){this.$router.push({path:"/goodsDetail",query:{productId:this.info.productId}})}}},a=o,c=(n("916c"),n("2877")),u=Object(c["a"])(a,s,r,!1,null,"3b330227",null);e["a"]=u.exports},"791f":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 1==t.type?n("div",{staticClass:"empty"},[n("img",{staticClass:"small",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/answer_empty.png",alt:""}}),n("p",[t._v("正在来回答的路上~")])]):n("div",{staticClass:"empty"},[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/tipImg.png",alt:""}}),n("p",[t._v("暂无问答")])])},r=[],i={name:"empty",props:["type"]},o=i,a=(n("507c"),n("2877")),c=Object(a["a"])(o,s,r,!1,null,"7ee40ae2",null);e["a"]=c.exports},"7eb3":function(t,e,n){},"835b":function(t,e,n){},"916c":function(t,e,n){"use strict";n("835b")},c933:function(t,e,n){"use strict";n("cbb9")},cbb9:function(t,e,n){}}]);
//# sourceMappingURL=chunk-b51dd74c.911d95a1.js.map