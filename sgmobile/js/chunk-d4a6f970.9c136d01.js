(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4a6f970"],{"347c":function(e,t,n){},3498:function(e,t,n){"use strict";n("adc7")},"80cc":function(e,t,n){"use strict";n("347c")},"9a20":function(e,t,n){"use strict";var a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("."),a=t.split("."),o=Math.max(n.length,a.length),i=0,r=0;r<o;r++){var s=n.length>r?n[r]:0,u=isNaN(Number(s))?s.charCodeAt():Number(s),c=a.length>r?a[r]:0,l=isNaN(Number(c))?c.charCodeAt():Number(c);if(u<l){i=-1;break}if(u>l){i=1;break}}return i};t["a"]={gte:function(e,t){return a(e,t)>=0},gt:function(e,t){return a(e,t)>0},lte:function(e,t){return a(e,t)<=0},lt:function(e,t){return a(e,t)<0},eq:function(e,t){return 0===a(e,t)}}},a73f:function(e,t,n){"use strict";var a=function(e,t){var n=t._c;return t.props.nums>0?n("div",{staticClass:"m-skeleton",style:{"z-index":t.props.zIndex||0}},[n("div",{style:{background:t.props.bgColor,height:t.props.fheight}}),t._l(t.props.nums-1,(function(e){return n("div",{key:e,style:{background:t.props.bgColor,height:t.props.iheight}})}))],2):t._e()},o=[],i=(n("80cc"),n("2877")),r={},s=Object(i["a"])(r,a,o,!0,null,null,null);t["a"]=s.exports},aa19:function(e,t,n){"use strict";var a=n("1c03"),o=n("bbc2"),i=function(e,t){return a["a"].request({url:o["a"].register,headers:{deviceId:t+"",Authorization:"open the gate"},method:"GET",params:e})},r=function(e,t){return a["a"].request({url:o["a"].login,method:"POST",params:e})},s=function(e){return a["a"].request({url:o["a"].password,method:"GET",params:e})},u=function(e){return a["a"].request({url:o["a"].needImg,method:"GET",params:e})},c=function(e){return a["a"].request({url:o["a"].getImg,method:"GET",params:e})},l=function(e){return a["a"].request({url:o["a"].retrieve,method:"GET",params:e})},d=function(e){return a["a"].request({url:o["a"].changePassword,method:"POST",params:e})},h=function(e,t){return a["a"].request({url:o["a"].registerAccount,method:"POST",params:e})};t["a"]={register:i,login:r,password:s,needImg:u,getImg:c,retrieve:l,changePassword:d,registerAccount:h}},adc7:function(e,t,n){},d354:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d}));var a=n("1c03"),o=n("bbc2"),i=function(e,t){return a["a"].request({url:o["a"].myManage,method:"get",params:{_t:Date.now()},noLogin:t})},r=function(e){return a["a"].request({url:o["a"].getOrderCount,method:"get",params:{chId:60}})},s=function(e){return a["a"].request({url:o["a"].wallet,method:"get",params:{}})},u=function(e){return a["a"].request({url:o["a"].checkBindByType,method:"get",params:e})},c=function(e){return a["a"].request({url:o["a"].getComminsionSumInfo,method:"POST",data:e,headers:{"Content-Type":"application/json"}})},l=function(e){return a["a"].request({url:o["a"].getGoodsAmountList,method:"POST",data:e,headers:{"Content-Type":"application/json"}})},d=function(e){return a["a"].request({url:o["a"].getServiceCharge,method:"get",params:e})}},eb13:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return h}));var a=n("1c03"),o=n("bbc2"),i=function(){return a["a"].request({url:o["a"].GET_JOBS,method:"get"})},r=function(e){return a["a"].request({url:o["a"].submitApplyInfo,method:"POST",data:e,headers:{"Content-Type":"application/json"}})},s=function(e){return a["a"].request({url:o["a"].applyResult,method:"get",params:e})},u=function(){return a["a"].request({url:o["a"].queryApplyInfo,method:"get"})},c=function(e){return a["a"].request({url:o["a"].bindWxAccount,method:"get",params:e})},l=function(e){return a["a"].request({url:o["a"].queryMemberInfo,method:"get",params:e})},d=function(e){return a["a"].request({url:o["a"].submitStandardMemberInfo,method:"POST",data:e,headers:{"Content-Type":"application/json"}})},h=function(e){return a["a"].request({url:o["a"].queryEmployeeInfo,method:"POST",data:e,headers:{"Content-Type":"application/json"}})}},fde0:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isSkeletonLoading?n("skeleton",{attrs:{nums:2,fheight:"4rem",iheight:"2rem"}}):n("div",{staticClass:"partners"},[n("div",{staticClass:"partners-background"}),n("van-nav-bar",{staticClass:"partners-header",attrs:{"left-arrow":""},on:{"click-left":e.back}}),n("div",{staticClass:"partners-content"},[n("div",{staticClass:"partners-slogan"},[e._v(" 邀请您成为"+e._s(e.$util.isSyBird()?"三翼鸟":"智家")+"平台合伙人，一起开启海尔新零售！ ")]),n("div",{staticClass:"partners-submit"},[n("van-field",{attrs:{placeholder:"请输入手机号",type:"tel",maxlength:13,disabled:e.disable},on:{keyup:e.telPhoneBlur},scopedSlots:e._u([{key:"right-icon",fn:function(){return[e.telPhone?n("van-icon",{attrs:{name:"clear"},on:{click:function(t){t.stopPropagation(),e.telPhone=""}}}):e._e()]},proxy:!0}]),model:{value:e.telPhone,callback:function(t){e.telPhone=t},expression:"telPhone"}}),e.imgCodeShow?n("van-field",{attrs:{placeholder:"请输入图形验证码",maxlength:4,disabled:e.disable},scopedSlots:e._u([{key:"button",fn:function(){return[n("img",{staticClass:"partners-submit_imgCode",attrs:{src:e.src},on:{click:e.getPhoto}})]},proxy:!0}],null,!1,3687316091),model:{value:e.imgCode,callback:function(t){e.imgCode=t},expression:"imgCode"}}):e._e(),n("van-field",{attrs:{maxlength:6,type:"number",placeholder:"请输入验证码",disabled:e.disable},scopedSlots:e._u([{key:"button",fn:function(){return[n("div",{class:{"partners-submit_code":!0,"partners-submit_code--disable":!e.allow},on:{click:e.getMessage}},[e._v(e._s(e.codeText))])]},proxy:!0}]),model:{value:e.yzCode,callback:function(t){e.yzCode=t},expression:"yzCode"}}),n("div",{staticClass:"partners-agreement"},[n("van-checkbox",{staticStyle:{display:"inline-block","margin-bottom":"-.1rem"},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" 若为新用户提交即代表同意 "),n("a",{attrs:{href:"https://m.ehaier.com/v3/mstore/sg/helpDetail.html?id=1002"}},[e._v("《海尔智家商城用户服务协议》")]),e._v("、 "),n("a",{attrs:{href:"https://m.ehaier.com/v3/mstore/sg/helpDetail.html?id=1206"}},[e._v("《海尔智家商城用户隐私权政策》")]),e._v("、 "),n("a",{attrs:{href:"http://account.haier.com/html/privacypolicy.html"}},[e._v("《海尔家电隐私权政策》")])],1),n("van-button",{attrs:{round:"",type:"info",disabled:!e.isChecked,loading:e.isLoading},on:{click:e.submit}},[e._v("提交")])],1)])],1)],1)},o=[],i=(n("66b9"),n("b650")),r=(n("3c32"),n("417e")),s=(n("be7f"),n("565f")),u=n("2b0e"),c=n("aa19"),l=n("d354"),d=n("eb13"),h=n("a73f"),f=n("21b1"),g=n("9a20"),m=n("fa7d"),p=n("bbc2"),b=new f["a"];u["a"].use(s["a"]),u["a"].use(r["a"]),u["a"].use(i["a"]);var v={name:"partners",components:{skeleton:h["a"]},data:function(){return{isSkeletonLoading:!0,storeName:"这是商店名称",mobileAccount:"",messageMM:"",codeText:"获取验证码",yzCode:"",telPhone:"",isChecked:!1,allow:!0,imgCodeShow:!1,imgCode:"",src:"",isLoading:!1,disable:!1,unionid:""}},created:function(){this.$util.smMsgSdk();var e=this.$route.query,t=this;e.share&&e.activityId?m["a"].isWeixin()?e.code?(t.isSkeletonLoading=!1,t.$http.get(p["a"].getWechatUserInfo,{params:{code:e.code}}).then((function(e){var n=e.data;n.success?n.data.unionid?(t.unionid=n.data.unionid,t.$store.state.isLogin?(t.checkInfo(),t.isSkeletonLoading=!1):t.isSkeletonLoading=!1):t.$toast({message:"获取UnionId失败，请刷新页面",duration:0}):t.$toast({message:n.message,duration:0}),console.log(n)}))):(t._doGetWxCode(),this.isSkeletonLoading=!1):this.$toast({message:"请在微信环境打开邀请链接",duration:0}):this.$store.state.isLogin?this.checkInfo():this.isSkeletonLoading=!1},methods:{_logout:function(){this.$store.dispatch("logout")},bindWxAccount:function(){var e=this;Object(d["b"])({unionId:this.unionid,bindType:7}).then((function(t){var n=t.data,a=n.message,o=n.success;o?e.success():e.$toast({message:a,duration:3e3,onClose:function(){e._logout()}})}))["catch"]((function(t){e.$toast({message:t.message,duration:3e3,onClose:function(){e._logout()}})}))},telFormatter:function(e,t){return e.replace(/(\d{3})(\d{4})/,"$1 $2 ")},getMessage:function(){var e=this;if(this.allow){var t=this.telPhone.replace(/\s/g,"");11===t.length&&/^1[3456789]\d{9}$/.test(t)?this.$util.dealSmDeviceId().then((function(n){c["a"].register({mobile:t,imgCaptcha:e.imgCode},n).then((function(t){if(!1===t.data.success)e.$toast(t.data.message);else{e.allow=!1,e.$toast("短信验证码发送成功，请及时验证！");var n=60;e.timer=setInterval((function(){0===n?(e.allow=!0,clearInterval(e.timer),e.codeText="重发验证码"):(e.codeText="重新发送("+n+"s)",e.allow=!1,n--)}),1e3)}}))})):this.$toast({message:"请输入正确的手机号吗!"})}},submit:function(){var e=this,t=this.telPhone.replace(/\s/g,"");if(11===t.length&&/^1[3456789]\d{9}$/.test(t))if(this.yzCode){this.isLoading=!0;var n={type:"mobile",mobile:t,regSource:"PtpartnerReg",captcha:this.yzCode};this.$util.isSyBird()&&(n.regSource="SynApp"),this.$store.dispatch("doH5Login",n).then((function(t){t.mid?e.checkInfo():e.$toast({message:t.message})}))["finally"]((function(){e.isSkeletonLoading=!1,e.isLoading=!1}))}else this.$toast({message:"请输入验证码!"});else this.$toast({message:"请输入正确的手机号吗!"})},getPhoto:function(){this.src=this.$HOST+"/v3/platform/web/member/register/getImgCaptcha.html?rnd="+Math.random()+"&flag="+localStorage.getItem("sessionValue")},telPhoneBlur:function(){var e=this.telPhone.replace(/\s/g,"");11===e.length&&/^1[3456789]\d{9}$/.test(e)?(this.getPhoto(),this.imgCodeShow=!0):11!==e.length||/^1[3456789]\d{9}$/.test(e)||this.$toast({message:"请输入正确的手机号吗!"})},back:function(){this.$store.dispatch("doHistoryBack")},success:function(){var e=this.$route.query;this.$router.replace({path:"/applyPartner",query:{activityId:e.activityId||"",inviteStoreId:e.share||"",sg_rn_app:e.sg_rn_app||""}})},checkInfo:function(){var e=this;setTimeout((function(){Object(l["g"])(null,!0).then((function(t){var n=t.data.data,a="";if(n)if(0===n.identifyFlag){var o=e.$route.query;0===n.bindWx&&o.share&&o.activityId?e.unionid?e.bindWxAccount():e._doGetWxCode():e.success()}else a=[21,22].includes(n.identifyFlag)?"您已是店铺合伙人":31===n.identifyFlag?"您已是平台合伙人":Number(n.identifyFlag)>=10&&Number(n.identifyFlag)<=20?"您已是商家身份":"您暂无申请权限",e.disable=!0,e.$toast(a),setTimeout((function(){e._toHome()}),1500);else e.isSkeletonLoading=!1}))["catch"]((function(t){e.isSkeletonLoading=!1}))}),600)},_toHome:function(){var e=this;this.$util.isHaierApp()?b.initDeviceReady().then((function(){b.upAppinfoModule.getAppInfo().then((function(t){var n=t.retData.appVersion;n&&g["a"].gte(n,"6.20.0")?e.$util.openNewWindow("https://uplus.haier.com/uplusapp/customize/index.html?close_current_page=true",!0,!0):b.initDeviceReady().then((function(){b.closeH5ContainerView()}))}))})):this.$router.replace({path:"/"})},_doGetWxCode:function(){var e=location.href;m["a"].getWxUserInfoCode("wxb03a523baf487993",e)}},watch:{telPhone:function(e,t){this.telPhone=e.length>t.length?e.replace(/[^0-9]/g,"").replace(/(\d{3})(\d{0,4})(\d{0,4})/,"$1 $2 $3"):this.telPhone.trim()}}},y=v,k=(n("3498"),n("2877")),C=Object(k["a"])(y,a,o,!1,null,"2ff2eb31",null);t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-d4a6f970.9c136d01.js.map