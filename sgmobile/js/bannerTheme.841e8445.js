(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bannerTheme"],{"0446":function(t,e,i){"use strict";i("ba91")},"347c":function(t,e,i){},5194:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t.isSkeletonLoading?i("skeleton",{attrs:{nums:4,iheight:".4rem"}}):i("div",[i("div",{ref:"contentContainer",staticClass:"content-container"},[t.$route.query.browerFirstIn?t._e():i("div",{staticClass:"icon-back",on:{click:t.goBack}},[i("img",{attrs:{src:t.$globalIcon.whiteBackIcon}})]),t.isUplus||t.isFromRN||t.isFromIhaier?i("div",{staticClass:"share-btn",on:{click:t.doShare}},[i("img",{attrs:{alt:"",src:t.$globalIcon.whiteShareIcon}})]):t._e(),i("van-grid",{attrs:{border:!1,"column-num":2}},t._l(t.dataList,(function(e,o){return i("van-grid-item",{key:o,on:{click:function(i){return t.imgClick(e)}}},[i("van-image",{attrs:{"lazy-load":"",width:"50vw",src:t._f("imageToWebp")(e.imageUrl.replace("http:","https:"),t.$webpSurpport)}})],1)})),1)],1)])],1)},n=[],a=i("2f62"),r=i("6beb"),s=i("a73f"),c=i("fa7d"),u=i("f121");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h={activityInfo:{},isHost:0,storeId:"",scrollTopMap:new Map},f={name:"bannerTheme",components:{Skeleton:s["a"]},data:function(){return{isSkeletonLoading:!0,isUplus:!1,isFromRN:!1,isFromIhaier:this.$util.isIhaierApp(),dataList:[]}},watch:{"$route.path":function(t,e){t.includes("bannerTheme")&&this.isWdHost()}},beforeRouteEnter:function(t,e,i){if(c["a"].isSgRn()){var o=t.params.id,n=t.query.storeId;window.postMessage(JSON.stringify({type:"goBannerTheme",data:{bannerThemeId:o,storeId:n}})),i(!1)}else i()},mounted:function(){var t=this;this.$util.gioTrackWithVariable("mall_activity_view",{activity_id:this.$route.query.id,activity_type:"主题活动"}),this.isUplus=this.$util.isHaierApp(),this.isFromRN=-1!==location.search.indexOf("sg_rn_app"),console.log("mounted--数据"),this.isWdHost(),this.$route.query.taskCode&&this.$store.dispatch("doReviewTime",this.$route.query).then((function(e){e&&t.$toast("已达成浏览时长")}))},activated:function(){var t=this,e=h.scrollTopMap.get(this.$route.params.id);this.$nextTick((function(){t.$refs.contentContainer.scrollTo&&t.$refs.contentContainer.scrollTo(0,e||0)}))},computed:p({},Object(a["d"])(["mId"])),methods:{doShare:function(){var t=h.activityInfo.title,e=h.activityInfo.content||"海尔智家商城",i=h.activityInfo.imgUrl,o=u["a"].HOST+"/sgmobile/bannerSubject?id="+this.$route.params.id+"&shareId="+this.mId;this.isFromRN?window.postMessage("custPageShare|"+t+"|"+e+"|"+i+"|"+o):(this.$util.isHaierApp()||this.$util.isIhaierApp())&&this.$util.inAppShare({title:t,url:o,desc:e,thumImage:i}).then((function(t){return console.log(t)}))},goBack:function(){h.scrollTopMap["delete"](this.$route.params.id),this.$store.dispatch("doHistoryBack"),this.dataList=[]},isWdHost:function(t){var e=this;r["a"].isWdHost().then((function(i){console.log("isWdHost:",i.data),i.data.success&&(h.isHost=i.data.data.isHost,h.storeId=i.data.data.storeMemberId,e.getActivityPage(t))}))["catch"]((function(t){console.log(t),h.isHost=0,h.storeId=0,e.getActivityPage()}))},getActivityPage:function(t){var e=this,i=this.$route.params.id;r["a"].getActivityPage({bannerId:i,storeId:h.storeId,isHost:h.isHost,backUrl:""}).then((function(o){if(console.log(o.data),o.data.success){e.isSkeletonLoading=!1,h.activityInfo=o.data.data,e.dataList=o.data.data.productList;var n=h.scrollTopMap.get(i);setTimeout((function(){e.$refs.contentContainer.scrollTo(0,n||0)}),500)}t&&t(),e.$store.dispatch("WeChatSecondShare",{title:h.activityInfo.title,desc:h.activityInfo.content,thumImage:h.activityInfo.imgUrl})}))},imgClick:function(t){console.log("item：",t),h.scrollTopMap.set(this.$route.params.id,this.$refs.contentContainer.scrollTop),this.$store.dispatch("goPageByType",{type:Number(t.activityUrlType),params:t.activityUrl,elementId:t.id})}}},g=f,m=(i("0446"),i("2877")),b=Object(m["a"])(g,o,n,!1,null,"a25c51b8",null);e["default"]=b.exports},"6beb":function(t,e,i){"use strict";var o=i("bbc2"),n=i("1c03"),a=function(t){return n["a"].get(o["a"].GET_CUSTOM_PAGE,{params:t})},r=function(t){return n["a"].get(o["a"].GET_ACTIVITY_PAGE,{params:t})},s=function(t){return n["a"].get(o["a"].GET_COUPON_DETAIL,{params:t})},c=function(t){return n["a"].get(o["a"].REMIND_COUPONS_LIST,{params:t})},u=function(t){return n["a"].get(o["a"].receiveCoupon,{params:t})},l=function(t){return n["a"].get(o["a"].isWdHost,{params:t})};e["a"]={getCustomPage:a,getActivityPage:r,getCouponDetail:s,setCouponRemind:c,getCoupon:u,isWdHost:l}},"80cc":function(t,e,i){"use strict";i("347c")},a73f:function(t,e,i){"use strict";var o=function(t,e){var i=e._c;return e.props.nums>0?i("div",{staticClass:"m-skeleton",style:{"z-index":e.props.zIndex||0}},[i("div",{style:{background:e.props.bgColor,height:e.props.fheight}}),e._l(e.props.nums-1,(function(t){return i("div",{key:t,style:{background:e.props.bgColor,height:e.props.iheight}})}))],2):e._e()},n=[],a=(i("80cc"),i("2877")),r={},s=Object(a["a"])(r,o,n,!0,null,null,null);e["a"]=s.exports},ba91:function(t,e,i){}}]);
//# sourceMappingURL=bannerTheme.841e8445.js.map