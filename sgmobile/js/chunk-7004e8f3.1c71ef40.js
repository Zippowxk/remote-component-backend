(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7004e8f3","chunk-079cb250"],{"5f10":function(t,a,e){"use strict";e("e1b4")},8261:function(t,a,e){},8483:function(t,a,e){},"8d70":function(t,a,e){},cff8:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[!t.soNo&&t.productTrackList&&t.productTrackList.packageNum>0?e("div",{staticClass:"tips-container"},[e("div",{staticClass:"icon"}),"detail"!==t.from?e("span",{staticClass:"tips-text"},[t._v("您的订单"+t._s(t.productTrackList?t.productTrackList.packageNum:"")+"个包裹已发出")]):e("span",{staticClass:"tips-text"},[t._v("您的订单已拆成"+t._s(t.productTrackList?t.productTrackList.packageNum:"")+"个包裹发出")])]):t._e(),e("div",{class:{content:!0,"content-margin":t.productTrackList&&t.productTrackList.packageNum&&t.productTrackList.packageNum>0}},[e("van-pull-refresh",{on:{refresh:t.onRefresh},scopedSlots:t._u([{key:"pulling",fn:function(){return[e("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loosing",fn:function(){return[e("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loading",fn:function(){return[e("refreshLoading",{attrs:{text:"加载中"}})]},proxy:!0},{key:"success",fn:function(){return[e("refreshLoading",{attrs:{text:"加载完成"}})]},proxy:!0}]),model:{value:t.isLoading,callback:function(a){t.isLoading=a},expression:"isLoading"}},[t.productTrackList?e("van-list",{attrs:{finished:t.finished,finishedText:"",offset:"100","van-clearfix":"","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[e("div",t._l(t.productTrackList.cards,(function(t,a){return e("tracking-item",{key:t.expressNumber+a,attrs:{parentData:t}})})),1)]):t._e(),t.finished&&t.productTrackList&&0===t.productTrackList.cards.length?e("div",{staticClass:"no-data"},[e("div",{staticClass:"nodata-icon"}),e("div",{staticClass:"no-bottom"},[t._v("当前订单暂无物流信息")])]):t._e()],1)],1)])},n=[],r=e("d3c8"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"item-content"},[e("div",{staticClass:"header"},[e("div",{staticClass:"status"},[t.parentData.nodeStatus?[e("div",{class:{"icon-install":"install"===t.parentData.nodeStatus.toLowerCase(),"icon-yixiadan":"order"===t.parentData.nodeStatus.toLowerCase(),"icon-paisong":"deliver"===t.parentData.nodeStatus.toLowerCase(),"icon-chulizhong":"depot"===t.parentData.nodeStatus.toLowerCase(),"icon-yunshuzhong":"shipping"===t.parentData.nodeStatus.toLowerCase(),"icon-yiqianshou":"sign"===t.parentData.nodeStatus.toLowerCase(),"icon-yiquxiao":"cancel"===t.parentData.nodeStatus.toLowerCase()}}),"order"===t.parentData.nodeStatus.toLowerCase()?e("span",{staticClass:"text"},[t._v("已下单")]):t._e(),"depot"===t.parentData.nodeStatus.toLowerCase()?e("span",{staticClass:"text"},[t._v("仓库处理中")]):t._e(),"shipping"===t.parentData.nodeStatus.toLowerCase()?e("span",{staticClass:"text"},[t._v("运输中")]):t._e(),"deliver"===t.parentData.nodeStatus.toLowerCase()?e("span",{staticClass:"text"},[t._v("配送中")]):t._e(),"sign"===t.parentData.nodeStatus.toLowerCase()?e("span",{staticClass:"text"},[t._v("已签收")]):t._e(),"cancel"===t.parentData.nodeStatus.toLowerCase()?e("span",{staticClass:"text"},[t._v("已取消")]):t._e(),"install"===t.parentData.nodeStatus.toLowerCase()?e("span",{staticClass:"text"},[t._v("安装服务")]):t._e()]:t._e()],2),e("div",{staticClass:"express"},[2===t.parentData.logisticsType?e("span",{staticClass:"express-content"},[e("span",{staticClass:"text"},[t._v(t._s(t.parentData.expressCompany)+"："+t._s(t.parentData.expressNumber))]),t.parentData.offline?t._e():e("div",{staticClass:"copy",on:{click:t.copy}})]):t._e(),1===t.parentData.logisticsType?e("span",{staticClass:"express-content"},[e("span",{staticClass:"text"},[t._v("此商品由商家配送")]),e("div",{staticClass:"self-icon"})]):t._e()])]),e("div",{staticClass:"description"},[t._v(t._s(t.parentData.newNode.nodeContent))]),e("div",{staticClass:"content"},[t._l(t.parentData.orderProductInfos,(function(a,s){return[e("div",{key:"devider"+a.corderSn+s,staticClass:"devider"}),e("product",{key:a.corderSn+s,attrs:{parentData:a,offline:t.parentData.offline}})]}))],2)])])},i=[],c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",on:{click:t.toTrackInfo}},[e("div",{staticClass:"left"},[e("img",{staticClass:"thumb",attrs:{src:t.parentData.defaultImageUrl||"http://cdn02.ehaier.com/product/4e2fbaa934198c4c7a00001e.jpg"}})]),e("div",{staticClass:"right"},[e("span",{staticClass:"text"},[t._v(t._s(t.parentData.productFullName))]),t.parentData&&t.parentData.amount?e("span",{staticClass:"amount"},[t._v("x"+t._s(t.parentData.amount))]):t._e()])])},d=[],u={name:"product",props:{parentData:{type:null,default:function(){return{}}},offline:{type:Boolean,default:function(){return!1}}},data:function(){return{}},mounted:function(){},methods:{toTrackInfo:function(){this.offline?this.$router.push({path:"/trackingOrders?soNo=".concat(this.parentData.corderSn)}):110===this.parentData.opStatus||0===this.parentData.opStatus||1===this.parentData.opStatus||"B2B2C"!==this.parentData.shippingMode||"WA"!==this.parentData.stockType&&"OCO"!==this.parentData.stockType?this.$router.push({path:"/trackingOrders?cOrderSn=".concat(this.parentData.corderSn,"&expressNumber=").concat(this.parentData.expressNumber,"&expressCompany=").concat(this.parentData.expressCompany)}):this.$router.push({path:"/mapTrackingOrders?cOrderSn=".concat(this.parentData.corderSn,"&expressNumber=").concat(this.parentData.expressNumber,"&expressCompany=").concat(this.parentData.expressCompany)})}}},p=u,l=(e("d14c"),e("2877")),f=Object(l["a"])(p,c,d,!1,null,"6fc3a52e",null),h=f.exports,m=e("b311"),g=e.n(m),v={name:"trackingItem",components:{product:h},props:{parentData:{type:null,default:function(){return{}}}},data:function(){return{}},mounted:function(){},methods:{copy:function(){var t=this,a=new g.a(".copy",{text:function(a){return t.parentData.expressNumber}});a.on("success",(function(){t.$toast.success("复制成功")})),a.on("error",(function(){t.$toast.success("复制失败")}))}}},C=v,k=(e("e3a9"),Object(l["a"])(C,o,i,!1,null,"7a8d81de",null)),L=k.exports,x=e("d7a6"),_={name:"trackingDetail",components:{trackingItem:L,refreshLoading:x["default"]},props:{parentData:{type:null,default:function(){return{}}}},data:function(){return{orderSn:"",soNo:"",cOrderSn:"",productTrackList:null,loading:!1,finished:!1,isLoading:!1,from:"",routerkey:null,reqParam:{orderSn:"",corderSn:"",pageNo:1,pageSize:5}}},created:function(){this.soNo=this.$route.query.soNo,this.soNo&&(this.finished=!0)},beforeRouteLeave:function(t,a,e){var s=document.querySelector("#app-warp"),n=s?s.scrollTop:0;a.meta.scrollTop=n,e()},mounted:function(){var t=this;this.productTrackList=null,this.reqParam.orderSn=this.$route.query.orderSn,this.reqParam.corderSn=this.$route.query.cOrderSn,this.from=this.$route.query.from;var a=this;a.$util.isHaierApp()?a.$store.dispatch("handleUpAuth").then((function(e){console.log(e),e?a.onRefresh():t.$store.dispatch("doLogin")})):a.onRefresh()},methods:{initOrderProductTrackList:function(){var t=this;this.loading=!0,r["a"].orderProductTrackList(this.reqParam).then((function(a){a.data.success&&(t.productTrackList&&1!==t.reqParam.pageNo?t.productTrackList.cards=t.productTrackList.cards.concat(a.data.data.cards):t.productTrackList=a.data.data,t.reqParam.pageNo+=1,t.finished=!1,t.loading=!1,t.isLoading&&(t.isLoading=!1),(t.productTrackList.cards.length>=a.data.data.count||!a.data.data.cards||a.data.data.cards&&0===a.data.data.cards.length)&&(t.finished=!0))}))},initSoTrackList:function(){var t=this;r["a"].getGoodsMsgList({retailOrderCode:this.soNo}).then((function(a){if(console.log("res"),console.log(a),a.data.success){var e={cards:[]},s=a.data.data;s&&s.length>0&&s.forEach((function(t){var a={expressCompany:"发货单号",expressNumber:t.deliveryOrderCode,logisticsType:2,offline:!0,newNode:{nodeContent:t.nodeContents,nodeId:"",nodeName:"",nodeTime:"",sortNum:0},nodeStatus:t.nodeStatus,orderProductInfos:[]};t.goods.forEach((function(t){var e={corderSn:t.deliveryOrderCode,defaultImageUrl:t.picUrl,productFullName:t.productName,productName:t.productName,amount:t.amount};a.orderProductInfos.push(e)})),e.cards.push(a)})),t.isLoading&&(t.isLoading=!1),console.log("transObj:"),console.log(e),t.productTrackList=e}}))},onRefresh:function(){var t=this;t.reqParam.pageNo=1,t.loading=!1,t.finished=!0,t.isLoading=!0,t.soNo?t.initSoTrackList():t.initOrderProductTrackList()},onLoad:function(){this.soNo||this.initOrderProductTrackList()}}},D=_,y=(e("5f10"),Object(l["a"])(D,s,n,!1,null,"7a5832d3",null));a["default"]=y.exports},d14c:function(t,a,e){"use strict";e("8483")},d7a6:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"refresh-load"},[e("div",{staticClass:"spinner"},t._l(t.rectlist,(function(a){return e("div",{key:a,class:"rect"+a,style:{"background-color":t.color}})})),0),t.text?e("div",{staticClass:"spinner-text",style:{color:t.textColor}},[t._v(t._s(t.text))]):t._e()])},n=[],r={name:"refreshLoading",props:["text","color","textColor"],data:function(){return{rectlist:[1,2,3,4,5]}}},o=r,i=(e("ef69"),e("2877")),c=Object(i["a"])(o,s,n,!1,null,"9448457e",null);a["default"]=c.exports},e1b4:function(t,a,e){},e3a9:function(t,a,e){"use strict";e("8d70")},ef69:function(t,a,e){"use strict";e("8261")}}]);
//# sourceMappingURL=chunk-7004e8f3.1c71ef40.js.map