(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b5e99e7","chunk-079cb250","productList"],{"08a0":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper-box"},[i("div",{staticClass:"sort"},[t.withOption?i("span",{staticClass:"list",on:{click:function(e){return t.$emit("clickOption")}}}):t._e(),t._l(t.sorts,(function(e){return i("div",{key:e.id},[i("span",{class:e.id===t.activedSort?"actived":"",on:{click:function(i){return t.clickSort(e)}}},[t._v(" "+t._s(e.name)+" "),i("span",{staticClass:"sort-icon"},[i("img",{attrs:{src:e.id!==t.activedSort||e.byBig?t.upIcon.normal:t.upIcon.active}}),i("img",{attrs:{src:e.id===t.activedSort&&e.byBig?t.downIcon.active:t.downIcon.normal}})])])])}))],2),i("van-pull-refresh",{on:{refresh:t.refresh},scopedSlots:t._u([{key:"pulling",fn:function(){return[i("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loosing",fn:function(){return[i("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loading",fn:function(){return[i("refreshLoading",{attrs:{text:"加载中"}})]},proxy:!0},{key:"success",fn:function(){return[i("refreshLoading",{attrs:{text:"加载完成"}})]},proxy:!0}]),model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{staticClass:"product-list",attrs:{finished:t.finished,"finished-text":"没有更多啦~"},on:{load:t.load},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("public-product-list",{attrs:{productList:t.products,switchStyle:!0}})],1)],1)],1)},r=[],a=i("d7a6"),s=i("7f84"),c=i("5adf"),o=i("e569");function d(t){return h(t)||u(t)||g(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t){if(Array.isArray(t))return p(t)}function f(t,e){return m(t)||b(t,e)||g(t,e)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(t,e){if(t){if("string"===typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function b(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a=[],s=!0,c=!1;try{for(i=i.call(t);!(s=(n=i.next()).done);s=!0)if(a.push(n.value),e&&a.length===e)break}catch(o){c=!0,r=o}finally{try{s||null==i["return"]||i["return"]()}finally{if(c)throw r}}return a}}function m(t){if(Array.isArray(t))return t}var I={mixins:[s["a"]],props:{withOption:{default:!1},info:{},cateId:{}},components:{refreshLoading:a["default"],publicProductList:o["default"]},data:function(){return{regionId:this.info||this.$route.query.regionId||this.$route.query.id,upIcon:{normal:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAAAXNSR0IArs4c6QAAAINJREFUGBl1TzsOgCAMpSYsHoWd82hYOJEkMHAhd4/iwoA+Ugya2oS0vE/ynlLCpJRWPIFS9AVzzqaUsgPXWlvn3DFqXoYY43yTEBsWQWy99yf/1dQP3uHeXQzIENHGXFuPgTMvI4m71vrq0yINuRFJmrP3ISG3ZADW+iDSN/efAd3CBeBWKlZ4eQN9AAAAAElFTkSuQmCC",active:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAAAXNSR0IArs4c6QAAAJFJREFUGBljYMAClFufJIAwFikGRnRBlbbnWv/+/jkNEmdiZjG9UyV5DVkNEzLHeOYzrv//fq9mYPjPBcIgNkgMWQ2Khg+v/0z7/59BC6YAxAaKTYXxQTRcA8jNQAXxyJIgNlAMxT9gPyDcDXIKNsD4DeYfRpAbgdaeRnYKVi2MDNcERFlMmdDdjU0xSAzqn2kART1KVjS8VrEAAAAASUVORK5CYII="},downIcon:{normal:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAAAXNSR0IArs4c6QAAAINJREFUGBljnDlz5gIGBoZ4ICYGLGQCqsoC4mtEqAapyWIEKZw3b57W79+/TwOZXCA+FvCNlZXVNCkp6RrIBgYQg5GRMRuLQrAQSA6kBsQBawAx0tLSFgCphSA2GlgIlQMLwzVAFaH7B+xuZAPAfkAWQPIPA8zdyPJY2bNmzUoAYWySAB1bJ40myOHYAAAAAElFTkSuQmCC",active:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAAAXNSR0IArs4c6QAAAI5JREFUGBljVG55tOD/f4Z4BiIAIyPDQiYBUZYsIOMaIfUgNSC1TGfTpb4xMrGGMjAwfsOtiRGsBqSWCaToTpXkNUYmxmxcGkByIDUgebAGEONutcwCkBtBbGQAEgPJwcTgGkAC6P6BuRumGEQzInNAbJW251r//v45DWIzMbOYwpwC4uMEyq1PEkAYmwIAGAQowDyhBC4AAAAASUVORK5CYII="},sorts:[{id:"1",name:"销量",byBig:!0,flag:["saleDesc","sale"]},{id:"2",name:"价格",byBig:!1,flag:["priceDesc","price"]}],activedSort:"1",products:[],lastProducts:[],pageIndex:1,pageSize:10,shareId:"",refreshing:!1,loading:!1,finished:!1}},computed:{location:function(){return this.$store.getters["getlocationInfo"]},getQs:function(){var t=this,e=this.sorts.find((function(e){return e.id===t.activedSort}));return e.byBig?e.flag[0]:e.flag[1]}},watch:{cateId:{handler:function(t){this.finished=!1,this.pageIndex=1,this.products=[],this.lastProducts=[],this.load()}}},methods:{clickSort:function(t){t.id===this.activedSort?t.byBig=!t.byBig:(this.activedSort=t.id,this.sorts.forEach((function(t){t.byBig=!1})),t.byBig=!0),this.finished=!1,this.pageIndex=1,this.load()},toDetail:function(t){this.$router.push({path:"/goodsDetail",query:{productId:t.productId}})},refresh:function(){this.finished=!1,this.loading=!1,this.lastProducts=[],this.pageIndex=1,this.resetSort(),this.load()},resetSort:function(){this.activedSort=this.sorts[0].id,this.sorts.forEach((function(t){return t.byBig=!1})),this.sorts[0].byBig=!0},load:function(){var t=this;if(!this.finished){var e={pageIndex:this.pageIndex,pageSize:this.pageSize,storeMemberId:this.shareId,productCateId:this.cateId||0,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,streetId:this.location.townshipId,filterData:"",qs:this.getQs,pageId:this.regionId};Object(c["d"])(e).then((function(e){if(e.success){e.totalCount<t.pageSize&&(t.finished=!0);var i=e.data.productList,n=e.data.traceId;if(!i||i.length<1)return;return new Promise((function(t,e){Object(c["a"])({traceId:n}).then((function(e){e.success&&t([i,e.products])}),(function(t){e(t)}))}))}})).then((function(e){if(t.refreshing=!1,t.loading=!1,e){var i=f(e,2),n=i[0],r=i[1];if(n.length!==t.lastProducts.length||n[0].productId!==t.lastProducts[0].productId){var a,s=n.map((function(t,e){return t.finalPrice=r[e].finalPrice,t.plusPrice=r[e].plusPrice,t}));1===t.pageIndex?t.products=s:(a=t.products).push.apply(a,d(s)),t.pageIndex+=1}t.lastProducts=n}}))}}},created:function(){this.shareId=localStorage.getItem("usi")||"",document.body.classList.add("nomore-repeat-load")},beforeDestroy:function(){document.body.classList.remove("nomore-repeat-load")}},y=I,v=(i("ace1"),i("2877")),S=Object(v["a"])(y,n,r,!1,null,"35c6ba02",null);e["a"]=S.exports},1439:function(t,e,i){"use strict";i("3c9b")},"3c9b":function(t,e,i){},"5adf":function(t,e,i){"use strict";i.d(e,"e",(function(){return s})),i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return l}));var n=i("bbc2"),r=i("1c03"),a=i("f121"),s=function(t){return Object(r["b"])(n["a"].provinceInfo,t,{},!0)},c=function(t){return Object(r["b"])(n["a"].productList,t,{baseURL:a["a"].SHOST},!0)},o=function(t){return Object(r["b"])(n["a"].asyncPrice,t,{baseURL:a["a"].SHOST},!0)},d=function(t){return Object(r["b"])(n["a"].cateList,t)},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r["b"])("/sg/cms/chara/cityChara.json",t,e)}},"6d76":function(t,e,i){"use strict";i("7539")},"6d84":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"check-box-container",style:{width:t.width,height:t.height},on:{click:function(e){return t.toggleCheck()}}},[i("div",{staticClass:"checkbox-icon"},[t.checked&&!t.disabled?i("img",{key:"select",attrs:{alt:"",src:t.$cdnImageUrl+"/common/checked.svg",width:t.width,height:t.height}}):t._e(),t.checked||t.disabled?t._e():i("img",{key:"unselected",attrs:{alt:"",src:t.$cdnImageUrl+"/cart/icon-unselected.png",width:t.width,height:t.height}}),t.disabled&&!t.defaultSelect?i("img",{key:"unselected",staticClass:"disabled",attrs:{alt:"",src:t.$cdnImageUrl+"/cart/icon-unselected.png",width:t.width,height:t.height}}):t._e(),t.disabled&&t.defaultSelect?i("img",{key:"defaultSelected",staticClass:"disabled",attrs:{alt:"",src:t.$cdnImageUrl+"/common/checked.svg",width:t.width,height:t.height}}):t._e()]),t._t("default")],2)},r=[],a={name:"CommonCkeckBox",model:{prop:"checked",event:"changeCheck"},props:{checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},defaultSelect:{type:Boolean,default:!1},width:{type:String,default:"16px"},height:{type:String,default:"16px"}},created:function(){console.log("disabled",this.disabled)},data:function(){return{}},methods:{toggleCheck:function(){this.disabled||(this.$emit("changeCheck",!this.checked),this.$emit("toggleCheck"))}},watch:{checked:{handler:function(t,e){this.$emit("onChange")},deep:!0}}},s=a,c=(i("1439"),i("2877")),o=Object(c["a"])(s,n,r,!1,null,"52924c86",null);e["a"]=o.exports},"6ff3":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"small"==t.size?i("div",{staticClass:"tag"},[i("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/search/living.gif",alt:""}}),t._v(" 直播中 ")]):i("div",{staticClass:"tag-big"},[i("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/search/live_big.gif",alt:""}})])},r=[],a={name:"LiveTag",props:["size"]},s=a,c=(i("6d76"),i("2877")),o=Object(c["a"])(s,n,r,!1,null,"3d20227a",null);e["a"]=o.exports},7539:function(t,e,i){},"7f84":function(t,e,i){"use strict";e["a"]={filters:{clipText:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:19;if(t){var i=t.length>e?"".concat(t.slice(0,e),"..."):t;return i}}},methods:{}}},8261:function(t,e,i){},"94ca2":function(t,e,i){},ace1:function(t,e,i){"use strict";i("94ca2")},d7a6:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"refresh-load"},[i("div",{staticClass:"spinner"},t._l(t.rectlist,(function(e){return i("div",{key:e,class:"rect"+e,style:{"background-color":t.color}})})),0),t.text?i("div",{staticClass:"spinner-text",style:{color:t.textColor}},[t._v(t._s(t.text))]):t._e()])},r=[],a={name:"refreshLoading",props:["text","color","textColor"],data:function(){return{rectlist:[1,2,3,4,5]}}},s=a,c=(i("ef69"),i("2877")),o=Object(c["a"])(s,n,r,!1,null,"9448457e",null);e["default"]=o.exports},ef69:function(t,e,i){"use strict";i("8261")}}]);
//# sourceMappingURL=chunk-0b5e99e7.117e2e42.js.map