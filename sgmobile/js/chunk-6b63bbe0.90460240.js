(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b63bbe0","chunk-2b4715e4"],{"0460":function(t,e,o){},"23d3":function(t,e,o){"use strict";var i=o("c63d");e["a"]={components:{topFeedBack:i["default"]},data:function(){return{showToTopFlag:!1}},activated:function(){this.fnScroll()},beforeRouteLeave:function(t,e,o){document.getElementById("app-warp").removeEventListener("scroll",this.addEventScrollFn),o()},beforeMount:function(){this.debouncedAction=this.$util.throttle(this.option,100)},methods:{fnScrollToTop:function(){this.scrollSmoothTo(0)},hiddenFeedBack:function(){this.showToTopFlag=!1},scrollSmoothTo:function(t){console.log("#app-warp scroll"),window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)});var e=document.querySelector("#app-warp"),o=e.scrollTop;console.log(o,"scrollTop");var i=function i(){var n=t-o;o+=n/10,Math.abs(n)<1?e.scrollTo(0,t):(e.scrollTo(0,o),requestAnimationFrame(i))};i()},fnScroll:function(){document.getElementById("app-warp").addEventListener("scroll",this.addEventScrollFn)},addEventScrollFn:function(t){this.debouncedAction(t)},option:function(t){var e=t.target.scrollTop;this.showToTopFlag=e>200}}}},"347c":function(t,e,o){},"3eef":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"parent"},[o("img",{staticClass:"img",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_rank_empty.png"}}),o("div",{staticClass:"title"},[t._v("当前定位没有符合的品类排行榜")]),o("div",{staticClass:"text"},[t._v("您可以去商城逛逛~")]),o("div",{staticClass:"button",on:{click:t.toShopHome}},[t._v(" 去商城逛逛 ")])])},n=[],s={name:"empty",methods:{toShopHome:function(){this.$util.isSgRn()||this.$util.isUplus()?this.$store.dispatch("doHistoryBack"):this.$router.replace("/")}}},r=s,a=(o("d243"),o("2877")),c=Object(a["a"])(r,i,n,!1,null,"06adbf2c",null);e["a"]=c.exports},"4b7d":function(t,e,o){"use strict";o("7fdc")},6184:function(t,e,o){"use strict";o("7a7e")},"6d63":function(t,e,o){"use strict";o("0460")},"77d1":function(t,e,o){},"7a7e":function(t,e,o){},"7f07":function(t,e,o){},"7fdc":function(t,e,o){},"80cc":function(t,e,o){"use strict";o("347c")},"8c95":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"toTop",staticStyle:{"background-color":"#f3f3f3",height:"100%",position:"relative"}},[o("nav-header",{attrs:{leftArrow:!t.$route.query.browerFirstIn}},[t.shareShow?o("div",{staticClass:"share-btn",style:{backgroundImage:"url("+t.$globalIcon.blackShareIcon+")"},attrs:{slot:"right"},on:{click:t.doShare},slot:"right"}):t._e()]),o("div",{staticStyle:{height:".92rem"}}),t.isSkeletonLoading?o("skeleton",{attrs:{nums:4,iheight:".4rem"}}):t._e(),t.showEmpty?o("empty"):t._e(),t.showEmpty||t.isSkeletonLoading?t._e():o("div",[o("div",{staticStyle:{"background-color":"#f3f3f3",height:"100%",display:"flex","flex-direction":"column","align-items":"center"}},[o("div",{staticClass:"top-bg"},[t.topProds.length>1?o("div",{staticClass:"top-prod-row top-prod-two",on:{click:function(e){return t.toDetail(t.topProds[1].productId)}}},[o("img",{staticClass:"prod-img",attrs:{src:t._f("imageToHttps")(t.topProds[1].image)}}),o("img",{staticClass:"hot-top-number",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_top_hot_two.png"}})]):t._e(),t.topProds.length>0?o("div",{staticClass:"top-prod-row top-prod-one",on:{click:function(e){return t.toDetail(t.topProds[0].productId)}}},[o("img",{staticClass:"prod-img",attrs:{src:t._f("imageToHttps")(t.topProds[0].image)}}),o("img",{staticClass:"hot-top-number",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_top_hot_one.png"}})]):t._e(),t.topProds.length>2?o("div",{staticClass:"top-prod-row top-prod-three",on:{click:function(e){return t.toDetail(t.topProds[2].productId)}}},[o("img",{staticClass:"prod-img",attrs:{src:t._f("imageToHttps")(t.topProds[2].image)}}),o("img",{staticClass:"hot-top-number",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_top_hot_three.png"}})]):t._e(),o("div",{staticClass:"hot-list-more",on:{click:t.toMoreRank}})]),o("div",{staticClass:"list-container"},t._l(t.catesList,(function(e){return o("category-item",{key:e.id,attrs:{categoryInfo:e,location:t.location,shareId:t.getShareId}})})),1),t.showRankEmpty?o("no-rank"):o("div",{staticClass:"no-more"},[t._v("没有更多啦~")])],1)]),o("top-feedBack",{attrs:{isShow:t.showToTopFlag},on:{hiddenFeedBack:t.hiddenFeedBack,toTop:t.fnScrollToTop}})],1)},n=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.prodList&&t.prodList.length>2?o("div",{staticClass:"container"},[o("div",{staticClass:"title-row"},[o("div",{staticClass:"title"},[t._v(t._s(t.categoryInfo.navigationName)+"热销榜")]),o("div",{staticClass:"more-text",on:{click:t.toCategoryList}},[t._v(t._s(t.saleNum)+"人买过")]),o("div",{staticClass:"arrow",on:{click:t.toCategoryList}})]),o("div",{staticClass:"prod-row"},t._l(t.prodList.slice(0,3),(function(e,i){return o("div",{key:e.productId,staticClass:"prod-item",on:{click:function(o){return t.toDetail(e.productId)}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}],staticClass:"prod-img"}),o("div",{staticClass:"prod-text"},[t._v(" "+t._s(e.productFullName)+" ")]),o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_hot"+(i+1)+".png",expression:"`https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_hot${index + 1}.png`"}],staticClass:"prod-rank-number"})])})),0)]):t._e()},r=[],a=o("fcee"),c=o("2f62");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){u(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function u(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var p={name:"categoryItem",props:{categoryInfo:{type:Object,default:function(){}},location:{type:Object,default:function(){}},shareId:{type:String,default:""}},data:function(){return{prodList:[],saleNum:""}},watch:{categoryInfo:{handler:function(t){this.prodList=t.products,this.getSaleNum()},immediate:!0}},activated:function(){},methods:d(d({},Object(c["c"])("rankList",["getNavigationCates"])),{},{getTopProds:function(){var t=this;Object(a["getHotSaleProducts"])({streetId:this.location.townshipId,cityId:this.location.cityId,regionId:this.location.districtId,provinceId:this.location.provinceId,productCateIds:this.categoryInfo.catesId,shareId:this.shareId}).then((function(e){var o=e.data;o.success&&(t.prodList=o.data.sgHotProducts)}))},getSaleNum:function(){var t=this;Object(a["d"])(this.categoryInfo.catesId).then((function(e){var o=e.data;o.success&&(t.saleNum=o.data>=1e4?"".concat((o.data/1e4).toFixed(2),"万"):o.data)}))},toCategoryList:function(){this.$router.push("/rankCategoryList?categoryId=".concat(this.categoryInfo.catesId,"&categoryName=").concat(this.categoryInfo.navigationName))},toDetail:function(t){this.$util.gioTrackWithVariable("MB15613",{productId_var:t+""}),this.$router.push("/goodsDetail?productId=".concat(t))}})},h=p,g=(o("6d63"),o("2877")),f=Object(g["a"])(h,s,r,!1,null,"6c40977a",null),m=f.exports,v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"no-rank"},[o("img",{attrs:{src:"//cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_rank_no_rank.png"}}),o("div",{staticClass:"no-rank-title"},[t._v(" 当前定位没有品类榜单 ")]),o("div",{staticClass:"tag"},[t._v(" 您可以去商城逛逛~ ")])])}],w=(o("6184"),{}),y=Object(g["a"])(w,v,b,!1,null,"b00cd45a",null),I=y.exports,k=o("e725"),_=o("3eef"),C=o("a73f"),O=o("23d3");function S(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function P(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?S(Object(o),!0).forEach((function(e){j(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function j(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var L={scrollTop:0},T={name:"rankList",mixins:[O["a"]],components:{NavHeader:k["a"],CategoryItem:m,empty:_["a"],Skeleton:C["a"],noRank:I},data:function(){return{isSkeletonLoading:!0,shareShow:this.$util.isUplus()||this.$util.isSgRn(),topProds:[],showEmpty:!1,showRankEmpty:!1,catesList:[]}},computed:P(P(P({},Object(c["d"])(["mId"])),Object(c["d"])({location:"getlocationInfo"})),{},{getShareId:function(){return sessionStorage.getItem("shareUserId")||""}}),watch:{location:function(t){this.getTopProds(),this.getCateList()}},activated:function(){this.getTopProds(),this.getCateList(),this.$nextTick((function(){document.querySelector(".app-warp").scrollTo(0,L.scrollTop||0)}))},beforeRouteLeave:function(t,e,o){L.scrollTop=document.querySelector(".app-warp").scrollTop,o()},methods:P(P({},Object(c["c"])("rankList",["getNavigationCates"])),{},{doShare:function(){var t=-1!==location.href.indexOf("?")?location.href+"&shareId="+this.mId:location.href+"?shareId="+this.mId;this.$util.inAppShare({url:t})},getTopProds:function(){var t=this;Object(a["getHotSaleProducts"])({streetId:this.location.townshipId,cityId:this.location.cityId,regionId:this.location.districtId,provinceId:this.location.provinceId,shareId:this.getShareId,productCateIds:[]}).then((function(e){var o=e.data;t.isSkeletonLoading=!1,o.success?(t.topProds=o.data.sgHotProducts||[],t.showEmpty=t.topProds.length<3):t.showEmpty=!0}))},getCateList:function(){var t=this;Object(a["a"])({parentId:0}).then((function(e){var o=e.data,i=[];o.data.map((function(t){var e=[];t.url&&t.url.includes("productCateId=")&&(e=t.url.replace("productCateId=","").split(";"),i.push(P(P({},t),{},{catesId:e})))}));var n=[];i.map((function(e){n.push(Object(a["getHotSaleProducts"])({streetId:t.location.townshipId,cityId:t.location.cityId,regionId:t.location.districtId,provinceId:t.location.provinceId,shareId:t.getShareId,productCateIds:e.catesId}))})),Promise.all([].concat(n)).then((function(e){t.isSkeletonLoading=!1;var o=[];e.map((function(e,n){var s=e.data;s.success&&s.data.sgHotProducts&&s.data.sgHotProducts.length>2?o.push(P(P({},i[n]),{},{products:s.data.sgHotProducts})):t.showRankEmpty=!0})),t.catesList=[].concat(o),t.showRankEmpty=0===t.catesList.length}))}))},toDetail:function(t){this.$util.gioTrackWithVariable("MB15613",{productId_var:t?t+"":"null"}),this.$router.push("/goodsDetail?productId=".concat(t))},toMoreRank:function(){this.$router.push("/rankCategoryList?categoryId=&categoryName=")}})},$=T,E=(o("c50e"),Object(g["a"])($,i,n,!1,null,"d639b98e",null));e["default"]=E.exports},a73f:function(t,e,o){"use strict";var i=function(t,e){var o=e._c;return e.props.nums>0?o("div",{staticClass:"m-skeleton",style:{"z-index":e.props.zIndex||0}},[o("div",{style:{background:e.props.bgColor,height:e.props.fheight}}),e._l(e.props.nums-1,(function(t){return o("div",{key:t,style:{background:e.props.bgColor,height:e.props.iheight}})}))],2):e._e()},n=[],s=(o("80cc"),o("2877")),r={},a=Object(s["a"])(r,i,n,!0,null,null,null);e["a"]=a.exports},c50e:function(t,e,o){"use strict";o("77d1")},c63d:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isShow?o("div",{staticClass:"go-top",class:t.classList},[o("div",{staticClass:"top",on:{click:t.toGotop}},[o("img",{attrs:{src:t.$cdnImageUrl+"/common/common-to-top-icon.png"}}),o("span",[t._v("顶部")])]),t.isHaierApp&&t.feedShow?o("div",{staticClass:"divider"}):t._e(),t.isHaierApp&&t.feedShow?o("div",{staticClass:"bottom",on:{click:function(e){return t.toFeedBack()}}},[o("img",{attrs:{src:t.$cdnImageUrl+"/common/common-edit-icon.png"}}),o("span",[t._v("反馈")])]):t._e()]):t._e()},n=[],s={props:{isShow:{type:Boolean,default:function(){return!1}},classList:{type:Object,default:function(){return{}}},feedShow:{type:Boolean,default:function(){return!0}},code:{type:Number,default:function(){return null}}},data:function(){return{isHaierApp:!1,timer:null}},created:function(){this.isHaierApp=this.$util.isUplus()},watch:{isShow:{handler:function(t){var e=this;console.log(t),console.log("this.timer:",this.timer),t?this.timer?(clearTimeout(this.timer),this.timer=null):this.timer=setTimeout((function(){e.hiddenFeedBack()}),4e3):(clearTimeout(this.timer),this.timer=null)}}},methods:{hiddenFeedBack:function(){console.log("hiddenFeedBack"),this.$emit("hiddenFeedBack")},toGotop:function(){this.$emit("toTop")},toFeedBack:function(){if(this.$store.getters.getLoginStatus){var t="https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html";this.code&&(t="https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html?code="+this.code),this.$util.openNewWindow(t,!0,!1,!1)}else this.$store.dispatch("doLogin").then((function(t){400===t&&console.log("请求异常")}))}}},r=s,a=(o("4b7d"),o("2877")),c=Object(a["a"])(r,i,n,!1,null,"7733b653",null);e["default"]=c.exports},d243:function(t,e,o){"use strict";o("7f07")}}]);
//# sourceMappingURL=chunk-6b63bbe0.90460240.js.map