{"version":3,"sources":["webpack:///./src/components/top-feedBack/mixins.js","webpack:///./src/components/couponValueLabel/index.vue?16b7","webpack:///src/components/couponValueLabel/index.vue","webpack:///./src/components/couponValueLabel/index.vue?6c43","webpack:///./src/components/couponValueLabel/index.vue","webpack:///./src/components/top-feedBack/index.vue?f4f0","webpack:///./src/components/couponValueLabel/index.vue?fdab","webpack:///./src/views/mine/coupon/coupon-list.vue?8c45","webpack:///./src/http/service/banner.js","webpack:///./src/views/mine/coupon/index.vue?0d53","webpack:///./src/components/top-feedBack/index.vue?9aa8","webpack:///src/components/top-feedBack/index.vue","webpack:///./src/components/top-feedBack/index.vue?19ae","webpack:///./src/components/top-feedBack/index.vue","webpack:///./src/views/mine/coupon/no-coupon.vue?e703","webpack:///./src/components/refreshLoading/index.vue?d607","webpack:///src/components/refreshLoading/index.vue","webpack:///./src/components/refreshLoading/index.vue?f880","webpack:///./src/components/refreshLoading/index.vue","webpack:///./src/views/mine/coupon/index.vue?9c48","webpack:///./src/views/mine/coupon/no-coupon.vue?dfc7","webpack:///src/views/mine/coupon/no-coupon.vue","webpack:///./src/views/mine/coupon/no-coupon.vue?5747","webpack:///./src/views/mine/coupon/no-coupon.vue","webpack:///./src/views/mine/coupon/coupon-list.vue?e187","webpack:///src/views/mine/coupon/coupon-list.vue","webpack:///./src/views/mine/coupon/coupon-list.vue?21ae","webpack:///./src/views/mine/coupon/coupon-list.vue","webpack:///src/views/mine/coupon/index.vue","webpack:///./src/views/mine/coupon/index.vue?77d8","webpack:///./src/views/mine/coupon/index.vue","webpack:///./src/components/refreshLoading/index.vue?199a"],"names":["components","topFeedBack","data","showToTopFlag","activated","this","fnScroll","beforeRouteLeave","to","from","next","document","getElementById","removeEventListener","addEventScrollFn","beforeMount","debouncedAction","$util","throttle","option","methods","fnScrollToTop","scrollSmoothTo","hiddenFeedBack","position","console","log","window","requestAnimationFrame","callback","setTimeout","_target","querySelector","scrollTop","step","distance","Math","abs","scrollTo","addEventListener","ev","_scrollTop","target","render","_vm","_h","$createElement","_c","_self","staticClass","class","forHomePage","style","color","textColor","couponType","_v","_e","fontSize","_s","_f","couponDisplayValue","staticRenderFns","name","props","couponValue","type","String","default","Boolean","maxFontSize","computed","length","withFloat","arr","Number","component","getCustomPage","params","axios","get","Url","GET_CUSTOM_PAGE","getActivityPage","GET_ACTIVITY_PAGE","getCouponDetail","GET_COUPON_DETAIL","setCouponRemind","REMIND_COUPONS_LIST","getCoupon","receiveCoupon","isWdHost","classList","on","toGotop","attrs","$cdnImageUrl","isHaierApp","feedShow","$event","toFeedBack","isShow","Object","code","timer","created","isUplus","watch","handler","newVal","clearTimeout","$emit","$store","getters","getLoginStatus","url","openNewWindow","dispatch","then","res","_l","item","key","text","rectlist","ref","status","switchTabChange","refreshDisable","onRefresh","scopedSlots","_u","fn","proxy","model","value","$$v","$set","expression","list","isLoading","loading","finished","onLoad","toggleRefreshDisable","toVoucher","parentData","couponCode","description","applyType","couponUseType","scope","couponTemplateName","timeHandler","startTime","endTime","stopPropagation","toCommodity","transfer","_m","openPopup","popupHide","popup","index","closePopup","showTransfer","directives","rawName","domProps","composing","transMobile","postTransfer","closeTransfer","show","contentArr","activityStartDate","expandMap","allowExpandMap","memberCouponId","filters","removeHHMMSS","val","toString","split","mounted","idOfItem","activityCode","couponTemplateCode","personal","success","banner","_resData","useRule","expandSrc","bgSrc","$router","push","path","toCouponDetail","context","isBigVal","iconSrc","couponIcon","expand","id","time","replace","computeAllowExpand","textArr","_bgSrc","ORDER","SHOP","_couponIcon","$nextTick","immediate","mixins","refreshLoading","noCoupon","couponListComponent","pageIndex","pageSize","error","getList","concat","_resDataList","_checkedId","gioTrackWithVariable"],"mappings":"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","file":"js/chunk-0dc7e1d6.8d27c164.js","sourcesContent":["import topFeedBack from '@/components/top-feedBack/index'\n\nexport default {\n  components: {\n    topFeedBack\n  },\n  data() {\n    return {\n      showToTopFlag: false\n    }\n  },\n  activated() {\n    this.fnScroll()\n  },\n  beforeRouteLeave(to, from, next) {\n    document.getElementById('app-warp').removeEventListener('scroll', this.addEventScrollFn)\n    next()\n  },\n  beforeMount() {\n    this.debouncedAction = this.$util.throttle(this.option, 100)\n  },\n  methods: {\n    /**\n     * 返回顶部\n    */\n    fnScrollToTop() {\n      // this.$refs.toTop.scrollIntoView({\n      //   block: 'start',\n      //   behavior: 'smooth', // 平滑过渡\n      // }) // 回到顶部\n      this.scrollSmoothTo(0)\n    },\n    /**\n     * 隐藏 FeedBack\n    */\n    hiddenFeedBack() {\n      this.showToTopFlag = false\n    },\n    /**\n     * 模拟动画滚动\n    */\n    scrollSmoothTo(position) {\n      console.log('#app-warp scroll')\n      if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = function(callback) {\n          return setTimeout(callback, 17);\n        };\n      }\n      // debugger\n      let _target = document.querySelector('#app-warp')\n      // 当前滚动高度\n      let scrollTop = _target.scrollTop;\n      console.log(scrollTop, 'scrollTop')\n      // 滚动step方法\n      let step = function () {\n        // 距离目标滚动距离\n        var distance = position - scrollTop;\n        // 目标滚动位置\n        scrollTop = scrollTop + distance / 10;\n        if (Math.abs(distance) < 1) {\n          _target.scrollTo(0, position);\n        } else {\n          _target.scrollTo(0, scrollTop);\n          requestAnimationFrame(step);\n        }\n      };\n      step();\n    },\n    /**\n     * @description 滚动条监控\n     */\n    fnScroll() {\n      document.getElementById('app-warp').addEventListener('scroll', this.addEventScrollFn)\n    },\n    /**\n     * 滚动函数\n     */\n    addEventScrollFn(ev) {\n      this.debouncedAction(ev)\n    },\n    option(ev) {\n      const _scrollTop = ev.target.scrollTop\n      this.showToTopFlag = _scrollTop > 200\n    }\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{class:{'coupon-value-label':true,'home-style':_vm.forHomePage},style:({color:_vm.textColor})},[((_vm.couponType==='FIXED_CASH_COUPON' || _vm.couponType ==='REBATE_COUPON'))?_c('span',{staticClass:\"symbol\"},[_vm._v(\"￥\")]):_vm._e(),_c('span',{staticClass:\"integer\",style:({fontSize:_vm.fontSize})},[_vm._v(_vm._s(_vm._f(\"formatPriceInt\")(_vm.couponDisplayValue)))]),(_vm.withFloat)?_c('span',{staticClass:\"float\"},[_vm._v(_vm._s(_vm._f(\"formatPriceFloat\")(_vm.couponDisplayValue)))]):_vm._e(),(_vm.couponType==='DISCOUNT_COUPON')?_c('span',{staticClass:\"sales\"},[_vm._v(\"折\")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div :class=\"{'coupon-value-label':true,'home-style':forHomePage}\" :style='{color:textColor}'>\n      <span class=\"symbol\" v-if=\"(couponType==='FIXED_CASH_COUPON' || couponType ==='REBATE_COUPON')\">￥</span>\n      <span class=\"integer\" :style=\"{fontSize:fontSize}\">{{couponDisplayValue | formatPriceInt}}</span>\n      <span class=\"float\" v-if=\"withFloat\">{{couponDisplayValue | formatPriceFloat}}</span>\n      <span class=\"sales\" v-if=\"couponType==='DISCOUNT_COUPON'\">折</span>\n    </div>\n  </div>\n</template>\n<script>\n// 券类型\n// FIXED_CASH_COUPON：定额满减券\n// REBATE_COUPON：满减券\n// DISCOUNT_COUPON：折扣券\n// EQUITY_COUPON：权益券\n// GIFT_COUPON：礼品券\nexport default {\n  name: 'couponValueLabel',\n  props: {\n    couponValue: {\n      type: String,\n      default: '0'\n    },\n    couponType: {\n      type: String,\n      default: 'FIXED_CASH_COUPON'\n    },\n    forHomePage: {\n      type: Boolean,\n      default: false\n    },\n    maxFontSize: {\n      type: String,\n      default: '0.64'\n    },\n    textColor: {\n      type: String,\n      default: '#ED2856'\n    }\n  },\n  computed: {\n    fontSize() {\n      if (this.forHomePage) {\n        if (String(this.couponDisplayValue).length < 6) {\n          return '0.40rem'\n        } else if (String(this.couponDisplayValue).length === 6) {\n          return '0.38rem'\n        } else if (String(this.couponDisplayValue).length > 6) {\n          return '0.32rem'\n        }\n        return this.maxFontSize + 'rem'\n      }\n      if (String(this.couponDisplayValue).length < 6) {\n        return this.maxFontSize + 'rem'\n      } else if (String(this.couponDisplayValue).length === 6) {\n        return 0.875 * this.maxFontSize + 'rem'\n      } else if (String(this.couponDisplayValue).length > 6) {\n        return 0.68 * this.maxFontSize + 'rem'\n      }\n      return this.maxFontSize + 'rem';\n    },\n    withFloat() {\n      const arr = this.couponDisplayValue.split('.')\n      if (arr && arr.length > 1 && arr[1] !== '00' && arr[1] !== '0') {\n        return true\n      }\n      return false\n    },\n    couponDisplayValue() {\n      return this.couponType === 'DISCOUNT_COUPON' ? String(Number(this.couponValue) / 10) : this.couponValue\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .container{\n    height: 2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .coupon-value-label{\n      display: flex;\n      flex-direction: row;\n      align-items: baseline;\n      justify-content: center;\n      width:1.72rem;\n      font-family: PingFangSC, PingFangSC-Semibold;\n      font-weight: 600;\n      // color:#ED2856;\n      .symbol{\n        font-size: 0.32rem;\n        font-weight: bold;\n      }\n      .integer{\n        font-size: 0.64rem;\n        font-weight: bold;\n      }\n      .float{\n        font-size: 0.24rem;\n        font-weight: bold;\n      }\n      .sales{\n        font-size: 0.24rem;\n        font-weight: bold;\n      }\n    }\n    .home-style {\n      color:#FF500E !important;\n      justify-content: flex-start;\n      .symbol{\n        font-size: 0.28rem;\n        font-weight: bold;\n      }\n      .integer{\n        font-size: 0.40rem;\n        font-weight: bold;\n      }\n      .float{\n        font-size: 0.24rem;\n        font-weight: bold;\n      }\n      .sales{\n        font-size: 0.24rem;\n        font-weight: bold;\n      }\n    }\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5a48cfec&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5a48cfec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a48cfec\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7733b653&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5a48cfec&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon-list.vue?vue&type=style&index=0&id=4f5b30b3&lang=scss&scoped=true&\"","/**\n * banner页相关\n */\nimport Url from '../url.js';\n// import HOST from '@/config';\nimport axios from '../http';\n\n/**\n * 获取动态活动页详情\n */\nexport const getCustomPage = params => axios.get(Url.GET_CUSTOM_PAGE, { params });\n\n/**\n * 获取主题活动详情\n */\nexport const getActivityPage = params => axios.get(Url.GET_ACTIVITY_PAGE, { params });\n\n/**\n * 获取优惠券详情 couponId=40189\n */\nexport const getCouponDetail = params => axios.get(Url.GET_COUPON_DETAIL, { params });\n\n/**\n * 设置领取优惠券提醒\n */\nexport const setCouponRemind = params => axios.get(Url.REMIND_COUPONS_LIST, { params });\n\n/**\n * 领取优惠券\n */\nexport const getCoupon = params => axios.get(Url.receiveCoupon, { params });\n\n/**\n * 是否为微店主接口\n */\nexport const isWdHost = (params) => axios.get(Url.isWdHost, { params });\n\nexport default {\n  getCustomPage,\n  getActivityPage,\n  getCouponDetail,\n  setCouponRemind,\n  getCoupon,\n  isWdHost,\n};\n","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=42a43520&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isShow)?_c('div',{staticClass:\"go-top\",class:_vm.classList},[_c('div',{staticClass:\"top\",on:{\"click\":_vm.toGotop}},[_c('img',{attrs:{\"src\":(_vm.$cdnImageUrl + \"/common/common-to-top-icon.png\")}}),_c('span',[_vm._v(\"顶部\")])]),(_vm.isHaierApp && _vm.feedShow)?_c('div',{staticClass:\"divider\"}):_vm._e(),(_vm.isHaierApp && _vm.feedShow)?_c('div',{staticClass:\"bottom\",on:{\"click\":function($event){return _vm.toFeedBack()}}},[_c('img',{attrs:{\"src\":(_vm.$cdnImageUrl + \"/common/common-edit-icon.png\")}}),_c('span',[_vm._v(\"反馈\")])]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <!-- 返回顶部 -->\n      <div class=\"go-top\"\n      :class=\"classList\"\n      v-if=\"isShow\">\n      <div class=\"top\" @click=\"toGotop\">\n        <img :src=\"`${$cdnImageUrl}/common/common-to-top-icon.png`\" />\n        <span>顶部</span>\n      </div>\n      <!-- isHaierApp && -->\n      <div class=\"divider\" v-if=\"isHaierApp && feedShow\"></div>\n      <div class=\"bottom\" v-if=\"isHaierApp && feedShow\" @click=\"toFeedBack()\">\n        <img :src=\"`${$cdnImageUrl}/common/common-edit-icon.png`\" />\n        <span>反馈</span>\n      </div>\n      <!-- <div class=\"divider\" v-if=\"serviceShow\"></div>\n      <div class=\"bottom service\" v-if=\"serviceShow\" @click=\"toService()\">\n        <img :src=\"`${$cdnImageUrl}/common/common-service-icon.png`\" />\n        <span>客服</span>\n      </div> -->\n    </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    isShow: {\n      type: Boolean,\n      default: () => { return false }\n    },\n    // fromTitle: {\n    //   type: String,\n    //   default: () => { return '' }\n    // },\n    classList: {\n      type: Object,\n      default: () => { return {} }\n    },\n    feedShow: {\n      type: Boolean,\n      default: () => { return true }\n    },\n    // serviceShow: {\n    //   type: Boolean,\n    //   default: () => { return true }\n    // },\n    code: {\n      type: Number,\n      default: () => { return null }\n    },\n  },\n  data() {\n    return {\n      isHaierApp: false, // 验证是否智家app内\n      timer: null, // 计时器\n    }\n  },\n  created() {\n    this.isHaierApp = this.$util.isUplus()\n  },\n  watch: {\n    isShow: {\n      handler (newVal) {\n        console.log(newVal)\n        console.log('this.timer:', this.timer)\n        if (newVal) {\n          if (this.timer) {\n            clearTimeout(this.timer)\n            this.timer = null\n          } else {\n            this.timer = setTimeout(() => {\n              this.hiddenFeedBack()\n            }, 4000);\n          }\n        } else {\n          clearTimeout(this.timer)\n          this.timer = null\n        }\n      },\n      // immediate: true,\n    },\n  },\n  methods: {\n    /**\n     * 隐藏 FeedBack\n     */\n    hiddenFeedBack() {\n      console.log('hiddenFeedBack')\n      this.$emit('hiddenFeedBack')\n    },\n    /**\n     * 返回顶部\n     */\n    toGotop() {\n      this.$emit('toTop')\n    },\n    // /**\n    //  * @description 跳平台客服\n    // */\n    // toService() {\n    //   this.$router.push({ path: '/customerService',\n    //     query: {\n    //       accountId: 'zhijiashop',\n    //       fromPageUrl: document.URL,\n    //       fromPageTitle: this.fromTitle\n    //     }\n    //   })\n    // },\n    /**\n     * 跳转反馈页\n    */\n    toFeedBack() {\n      // 验证登录\n      if (this.$store.getters.getLoginStatus) {\n        let url = 'https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html'\n        if (this.code) {\n          url = 'https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html?code=' + this.code\n        }\n        this.$util.openNewWindow(url, true, false, false)\n      } else {\n        this.$store.dispatch('doLogin').then(res => {\n          if (res === 400) {\n            console.log('请求异常')\n          }\n        })\n      }\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.go-top{\n  position: fixed;\n  left: 50%;\n  // bottom: 1.48rem;\n  bottom: 3.16rem;\n  width: 0.92rem;\n  // height: 2.08rem;\n  display: flex;\n  transform: translateX(123px);\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: .26rem 0;\n  color: #333333;\n  line-height: .2rem;\n  font-size: .2rem;\n  font-family: PingFangSC, PingFangSC-Regular;\n  font-weight: 400;\n  background: #ffffff;\n  border: .02rem solid #d9d9d9;\n  border-radius: 1rem;\n  z-index: 99;\n  img{\n    width: .36rem;\n    height: .36rem;\n  }\n  .divider{\n    width: .68rem;\n    height: 0.02rem;\n    background-color: #efefef;\n    margin: .14rem 0;\n  }\n  span{\n    margin-top: .08rem;\n  }\n  .top,.bottom,service{\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n  }\n}\n// .go-top.top-margin-no-sale{\n//   bottom: calc(1.48rem + 0.88rem + constant(safe-area-inset-bottom));\n//   bottom: calc(1.48rem + 0.88rem + env(safe-area-inset-bottom));\n// }\n// .go-top.has-bottom-bar{\n//   bottom: calc(1.48rem + constant(safe-area-inset-bottom));\n//   bottom: calc(1.48rem + env(safe-area-inset-bottom));\n// }\n/* 多规格弹窗底部适配 iphonex */\n// @supports (bottom: env(safe-area-inset-bottom)) {\n//  .go-top {\n//    bottom: calc(2.8rem + constant(safe-area-inset-bottom));\n//    bottom: calc(2.8rem + env(safe-area-inset-bottom));\n//  }\n// }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7733b653&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7733b653&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7733b653\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./no-coupon.vue?vue&type=style&index=0&id=7912236e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"refresh-load\"},[_c('div',{staticClass:\"spinner\"},_vm._l((_vm.rectlist),function(item){return _c('div',{key:item,class:(\"rect\" + item),style:({'background-color': _vm.color})})}),0),(_vm.text)?_c('div',{staticClass:\"spinner-text\",style:({'color': _vm.textColor})},[_vm._v(_vm._s(_vm.text))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"refresh-load\">\n    <div class=\"spinner\">\n      <div v-for=\"item in rectlist\" :key=\"item\" :class=\"`rect${item}`\" :style=\"{'background-color': color}\"></div>\n    </div>\n    <div class=\"spinner-text\" v-if=\"text\" :style=\"{'color': textColor}\">{{text}}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'refreshLoading',\n  props: ['text', 'color', 'textColor'],\n  data() {\n    return {\n      rectlist: [1, 2, 3, 4, 5],\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.refresh-load{\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  box-sizing: border-box;\n}\n.spinner-text{\n  height: .4rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: .2rem;\n  text-align: center;\n}\n.spinner {\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 30px;\n  height: 21px;\n  text-align: center;\n  font-size: .2rem;\n}\n\n.spinner > div {\n  height: 100%;\n  width: 3px;\n  display: block;\n  -webkit-animation: stretchdelay 1.2s infinite ease-in-out;\n  animation: stretchdelay 1.2s infinite ease-in-out;\n  background: #337FFF;\n}\n\n.spinner .rect2 {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n\n.spinner .rect3 {\n  -webkit-animation-delay: -1.0s;\n  animation-delay: -1.0s;\n}\n\n.spinner .rect4 {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n\n.spinner .rect5 {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n\n@-webkit-keyframes stretchdelay {\n  0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n  20% { -webkit-transform: scaleY(1.0) }\n}\n\n@keyframes stretchdelay {\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4);\n  }  20% {\n    transform: scaleY(1.0);\n    -webkit-transform: scaleY(1.0);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9448457e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9448457e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9448457e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"toTop\",staticClass:\"content\"},[_c('div',{staticClass:\"switch\"},[_c('div',{staticClass:\"tab\"},[_c('div',{class:_vm.data.status === '1' && 'checked',attrs:{\"id\":\"1\"},on:{\"click\":_vm.switchTabChange}},[_vm._v(\"未使用\")]),_c('div',{class:_vm.data.status === '2' && 'checked',attrs:{\"id\":\"2\"},on:{\"click\":_vm.switchTabChange}},[_vm._v(\"已使用\")]),_c('div',{class:_vm.data.status === '4' && 'checked',attrs:{\"id\":\"4\"},on:{\"click\":_vm.switchTabChange}},[_vm._v(\"即将过期\")]),_c('div',{class:_vm.data.status === '3' && 'checked',attrs:{\"id\":\"3\"},on:{\"click\":_vm.switchTabChange}},[_vm._v(\"已过期\")])])]),_c('van-pull-refresh',{attrs:{\"disabled\":_vm.refreshDisable},on:{\"refresh\":_vm.onRefresh},scopedSlots:_vm._u([{key:\"pulling\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"下拉刷新\"}})]},proxy:true},{key:\"loosing\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"下拉刷新\"}})]},proxy:true},{key:\"loading\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"加载中\"}})]},proxy:true},{key:\"success\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"加载完成\"}})]},proxy:true}]),model:{value:(_vm.data.isLoading),callback:function ($$v) {_vm.$set(_vm.data, \"isLoading\", $$v)},expression:\"data.isLoading\"}},[_c('van-list',{class:{'block':(_vm.data.list.length === 0 && !_vm.data.isLoading && !_vm.data.loading)?false:true,'blockWhite':(_vm.data.list.length === 0 && !_vm.data.isLoading && !_vm.data.loading)?true:false},attrs:{\"finished\":_vm.data.finished,\"finishedText\":_vm.data.list.length > 0 ? '没有更多啦~' : '',\"van-clearfix\":\"\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.data.loading),callback:function ($$v) {_vm.$set(_vm.data, \"loading\", $$v)},expression:\"data.loading\"}},[_c('coupon-list-component',{attrs:{\"parentData\":_vm.data},on:{\"toggleRefreshDisable\":_vm.toggleRefreshDisable,\"onRefresh\":_vm.onRefresh}})],1),(_vm.data.list.length === 0 && !_vm.data.isLoading && !_vm.data.loading)?_c('no-coupon'):_vm._e()],1),(_vm.data.list.length)?_c('div',{class:{'bottom-footer':(_vm.data.list.length === 0 && !_vm.data.isLoading && !_vm.data.loading)?false:true,'bottom-footer-height':(_vm.data.list.length === 0 && !_vm.data.isLoading && !_vm.data.loading)?true:false}},[_c('div',{staticClass:\"to-coupon-btn\",on:{\"click\":_vm.toVoucher}},[_vm._v(\" 去领券中心逛逛 \")])]):_vm._e(),_c('top-feedBack',{attrs:{\"isShow\":_vm.showToTopFlag},on:{\"hiddenFeedBack\":_vm.hiddenFeedBack,\"toTop\":_vm.fnScrollToTop}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('img',{staticClass:\"coupon\",attrs:{\"src\":_vm._f(\"imageToHttps\")((_vm.$cdnImageUrl + \"/personalCenter/noCoupon.png\")),\"alt\":\"\"}}),_c('div',{staticClass:\"title\"},[_vm._v(\"您目前没有相关的优惠券\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <img class=\"coupon\" :src=\"`${$cdnImageUrl}/personalCenter/noCoupon.png` | imageToHttps\" alt=\"\"/>\n    <div class=\"title\">您目前没有相关的优惠券</div>\n  </div>\n</template>\n\n<script>\n/*\n * 优惠券 没有优惠券\n*/\nexport default {\n  name: 'noCoupon',\n  props: {\n    /**\n     * 父组件传入数据源\n     */\n    parentData: {\n      type: null,\n      default: function () {\n        return {}\n      },\n    },\n  },\n  data() {\n    return {\n    }\n  },\n  onLoad() {\n  },\n  methods: {\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.coupon {\n  width: 2.5rem;\n  display: block;\n  margin: 1.60rem auto 0.24rem auto;\n}\n\n.title {\n  width: 7.50rem;\n  font-size: 0.28rem;\n  font-weight: 400;\n  color: rgba(153,153,153,1);\n  line-height: 0.40rem;\n  text-align: center;\n  margin: 0 0 3rem 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./no-coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./no-coupon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./no-coupon.vue?vue&type=template&id=7912236e&scoped=true&\"\nimport script from \"./no-coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./no-coupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./no-coupon.vue?vue&type=style&index=0&id=7912236e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7912236e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coupon-list-component\"},[_vm._l((_vm.parentData.list),function(item){return _c('div',{key:item.couponCode,staticClass:\"voucher-item\",class:{'voucher-available':_vm.parentData.status === '1' || _vm.parentData.status === '4','voucher-disable':_vm.parentData.status === '2' || _vm.parentData.status === '3'}},[_c('div',{staticClass:\"voucher-left\"},[_c('coupon-value-label',{attrs:{\"couponValue\":item.couponValue,\"couponType\":item.couponType,\"descText\":item.description}}),_c('span',{staticClass:\"voucher-type-tag\",class:{'voucher-type-shop': !item.applyType &&  item.couponUseType === 'SHOP','voucher-type-order':!item.applyType && item.couponUseType === 'ORDER','voucher-type-scene':item.applyType}}),(_vm.parentData.status === '2')?_c('span',{staticClass:\"use-status-bg used\"}):_vm._e(),(_vm.parentData.status === '3')?_c('span',{staticClass:\"use-status-bg time-out\"}):_vm._e()],1),_c('div',{staticClass:\"voucher-right\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"info-price\"},[(item.scope==='PRODUCT')?_c('span',{staticClass:\"scope\"},[_vm._v(\"单品\")]):_vm._e(),(item.scope==='ORDER')?_c('span',{staticClass:\"scope\"},[_vm._v(\"订单\")]):_vm._e(),_c('span',{staticClass:\"info-text\"},[_vm._v(_vm._s(item.description))])]),_c('div',{staticClass:\"info-desc\"},[_c('span',{staticClass:\"desc-text\"},[_vm._v(_vm._s(item.couponTemplateName))])]),_c('div',{staticClass:\"info-time\"},[_c('span',{staticClass:\"time-text\"},[_vm._v(_vm._s(_vm.timeHandler(item.startTime))+\"-\"+_vm._s(_vm.timeHandler(item.endTime)))])])]),_c('div',{staticClass:\"option\"},[_c('div',{staticClass:\"applicable\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toCommodity(item)}}},[_c('span',[_vm._v(_vm._s(item.applyType ? '适用场景' : '适用商品'))])]),(item.transferable)?_c('div',{staticClass:\"transfer\",on:{\"click\":function($event){$event.stopPropagation();return _vm.transfer(item)}}},[_vm._m(0,true)]):_vm._e(),_c('div',{staticClass:\"instructions\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openPopup(item)}}},[_vm._m(1,true)])])])])}),_c('van-popup',{on:{\"close\":_vm.popupHide},model:{value:(_vm.popup.show),callback:function ($$v) {_vm.$set(_vm.popup, \"show\", $$v)},expression:\"popup.show\"}},[_c('h1',{staticClass:\"pop-title\"},[_vm._v(\"使用说明\")]),_c('div',{staticClass:\"pop-content\"},_vm._l((_vm.popup.contentArr),function(item,index){return _c('p',{key:(\"pop-\" + index),staticClass:\"text-line\"},[_vm._v(_vm._s(item))])}),0),_c('button',{staticClass:\"pop-ok\",on:{\"click\":_vm.closePopup}},[_vm._v(\"我知道了\")])]),_c('van-popup',{attrs:{\"id\":\"transBox\"},on:{\"close\":_vm.popupHide},model:{value:(_vm.showTransfer),callback:function ($$v) {_vm.showTransfer=$$v},expression:\"showTransfer\"}},[_c('div',{staticClass:\"transfer-container\"},[_c('div',{staticClass:\"transfer-header\"},[_c('span',{staticClass:\"transfer-title\"},[_vm._v(\"转赠优惠券\")])]),_c('div',{staticClass:\"transfer-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transMobile),expression:\"transMobile\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},domProps:{\"value\":(_vm.transMobile)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.transMobile=$event.target.value}}})]),_c('div',{staticClass:\"transfer-option\"},[_c('div',{staticClass:\"transfer-confirm-btn\",on:{\"click\":_vm.postTransfer}},[_c('span',[_vm._v(\"确定\")])])]),_c('div',{staticClass:\"transfer-close\",on:{\"click\":_vm.closeTransfer}})])])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(\"转赠\"),_c('span',{staticClass:\"transfer-icon\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"text\"},[_vm._v(\"使用说明\"),_c('span',{staticClass:\"instructions-icon\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"coupon-list-component\">\n    <div class=\"voucher-item\"\n        :class=\"{'voucher-available':parentData.status === '1' || parentData.status === '4','voucher-disable':parentData.status === '2' || parentData.status === '3'}\"\n        v-for=\"item in parentData.list\" :key=\"item.couponCode\">\n        <div class=\"voucher-left\">\n          <coupon-value-label :couponValue='item.couponValue' :couponType='item.couponType' :descText=\"item.description\"></coupon-value-label>\n          <span class=\"voucher-type-tag\"\n                :class=\"{'voucher-type-shop': !item.applyType &&  item.couponUseType === 'SHOP','voucher-type-order':!item.applyType && item.couponUseType === 'ORDER','voucher-type-scene':item.applyType}\"></span>\n          <span v-if=\"parentData.status === '2'\" class=\"use-status-bg used\"></span>\n          <span v-if=\"parentData.status === '3'\" class=\"use-status-bg time-out\"></span>\n        </div>\n        <div class=\"voucher-right\">\n          <div class=\"info\">\n            <div class=\"info-price\">\n              <!-- <template v-if=\"item.description === '价格无门槛'\">\n                <span class=\"info-text info-nolimit\">{{item.description}}</span>\n              </template>\n              <template v-else> -->\n                <span class=\"scope\" v-if=\"item.scope==='PRODUCT'\">单品</span>\n                <span class=\"scope\" v-if=\"item.scope==='ORDER'\">订单</span>\n                <span class=\"info-text\">{{item.description}}</span>\n              <!-- </template> -->\n            </div>\n            <div class=\"info-desc\">\n              <span class=\"desc-text\">{{item.couponTemplateName}}</span>\n            </div>\n            <div class=\"info-time\">\n              <span class=\"time-text\">{{timeHandler(item.startTime)}}-{{timeHandler(item.endTime)}}</span>\n            </div>\n          </div>\n          <div class=\"option\">\n            <div class=\"applicable\" @click.stop=\"toCommodity(item)\"><span>{{ item.applyType ? '适用场景' : '适用商品'}}</span></div>\n            <div class=\"transfer\" v-if=\"item.transferable\" @click.stop=\"transfer(item)\"><span>转赠<span class=\"transfer-icon\"></span></span></div>\n            <div class=\"instructions\" @click.stop=\"openPopup(item)\"><span class=\"text\">使用说明<span class=\"instructions-icon\"></span></span></div>\n          </div>\n        </div>\n    </div>\n    <van-popup v-model=\"popup.show\" @close=\"popupHide\">\n      <h1 class=\"pop-title\">使用说明</h1>\n      <div class=\"pop-content\">\n        <p class=\"text-line\" v-for=\"(item,index) of popup.contentArr\" :key=\"`pop-${index}`\">{{item}}</p>\n      </div>\n      <button class=\"pop-ok\" @click=\"closePopup\">我知道了</button>\n    </van-popup>\n    <van-popup v-model=\"showTransfer\" id=\"transBox\" @close=\"popupHide\">\n      <!-- <h1 class=\"trans-title\">转赠优惠券</h1>\n      <img :src=\"`${$cdnImageUrl}/cart/icon-close.png`\" class=\"closeImg\" @click=\"closeTransfer\">\n      <div class=\"transContent\">\n        <input type=\"text\" placeholder=\"请输入手机号\" v-model=\"transMobile\">\n        <button class=\"trans-ok\" @click=\"postTransfer\">确定</button>\n      </div> -->\n      <div class=\"transfer-container\">\n        <div class=\"transfer-header\">\n          <span class=\"transfer-title\">转赠优惠券</span>\n        </div>\n        <div class=\"transfer-content\">\n          <input type=\"text\" placeholder=\"请输入手机号\" v-model=\"transMobile\">\n        </div>\n        <div class=\"transfer-option\">\n          <div class=\"transfer-confirm-btn\" @click=\"postTransfer\"><span>确定</span></div>\n        </div>\n        <div class=\"transfer-close\" @click=\"closeTransfer\"></div>\n      </div>\n    </van-popup>\n  </div>\n\n</template>\n\n<script>\n/**\n * vant框架\n */\nimport Vue from 'vue';\nimport { Toast, Popup } from 'vant';\nimport './coupon-list-component.scss'\nimport bannerService from '@/http/service/banner';\nimport personal from '@/http/service/personal';\nimport couponValueLabel from '@/components/couponValueLabel'\n\n// 全局注册\nVue.use({ Toast })\n\n/*\n * 优惠券 优惠券列表\n*/\nexport default {\n  name: 'couponList',\n  components: { 'van-popup': Popup, couponValueLabel },\n  props: {\n    /**\n     * 父组件传入数据源\n     */\n    parentData: {\n      type: null,\n      default: function () {\n        return {}\n      },\n    },\n  },\n  data() {\n    return {\n      popup: {\n        show: false,\n        contentArr: []\n      },\n      activityStartDate: '',\n      /**\n       * {showDialog} false转赠弹窗关闭  true转赠弹窗展开\n       * {code} 会员ID\n       * {error} 转赠弹窗点击确定后的错误提示信息\n       */\n      // showDialog: false,\n      // code: '',\n      // error: '',\n      expandMap: {},\n      allowExpandMap: {},\n      showTransfer: false, // 转赠优惠卷弹窗\n      transMobile: '', // 保存手机号\n      memberCouponId: ''\n    }\n  },\n  filters: {\n    // 将2019-02-03 11:22:00格式的时间戳去掉时分秒，只保留年月日2019-02-03\n    removeHHMMSS(val) {\n      return val.toString().split(' ')[0];\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    popupHide() {\n      this.$emit('toggleRefreshDisable', false)\n    },\n    idOfItem(item) {\n      return item.activityCode + '|' + item.couponTemplateCode;\n    },\n    openPopup (item) {\n      this.getCouponDetail({ activityCode: item.activityCode, couponTemplateCode: item.couponTemplateCode, sourceChannel: item.sourceChannel, couponCode: item.couponCode })\n      this.$set(this.popup, 'show', true)\n      this.$emit('toggleRefreshDisable', true)\n    },\n    closePopup () {\n      this.$set(this.popup, 'show', false)\n      this.$set(this.popup, 'contentArr', [])\n    },\n    closeTransfer() {\n      this.showTransfer = false\n    },\n    postTransfer() {\n      let couponCode = this.memberCouponId\n      let mobile = this.transMobile\n      personal.transfer({ couponCode, mobile }).then(res => {\n        this.showTransfer = false\n        if (res.data.success) {\n          Toast('转赠成功');\n          this.$emit('onRefresh');\n        } else {\n          Toast.fail(res.data.message);\n        }\n      }).catch((err) => {\n        Toast.fail(err.message);\n      });\n    },\n    getCouponDetail({ activityCode, couponTemplateCode, sourceChannel, couponCode }) {\n      // activityCode = '1258120955638919289'\n      // couponTemplateCode = '20201112160126'\n      const query = { activityCode, couponTemplateCode, sourceChannel, couponCode }\n\n      bannerService.getCouponDetail(query).then(res => {\n        if (res.data.success) {\n          // 使用规则内容格式重排\n          let _resData = res.data.data;\n          let useRule = _resData.useRule.replace(/\\[|]/g, '').replace(/\"/g, '');\n          _resData.useRule = useRule.split(',');\n          this.$set(this.popup, 'contentArr', _resData.useRule)\n        }\n      }).catch(() => {\n        this.$set(this.popup, 'contentArr', [])\n      });\n    },\n    expandSrc (item) {\n      return this.expandMap[this.idOfItem(item)] ? this.bgSrc['expand'] : this.bgSrc['default']\n    },\n    /**\n     * @description  点击跳转到适用商品，已过期、已使用无法跳转\n    */\n    toCommodity(item) {\n      if (this.parentData.status !== '2' && this.parentData.status !== '3') {\n        this.$router.push({\n          path: `/usablecouponlist?couponCode=${item.couponCode}&activityCode=${item.activityCode}&couponTemplateCode=${item.couponTemplateCode}&couponType=${item.couponType}&sourceChannel=${item.sourceChannel}`,\n        });\n      }\n    },\n    /**\n     * @description  转赠优惠卷\n    */\n    transfer(item) {\n      // 已使用/已过期的优惠券，转赠按钮不允许点击\n      if (this.parentData.status === '2' || this.parentData.status === '3') return\n\n      this.transMobile = '';\n      this.showTransfer = true;\n      this.memberCouponId = item.couponCode;\n      this.$emit('toggleRefreshDisable', true)\n    },\n    /**\n     * @description  点击跳转到优惠券详情页面\n    */\n    toCouponDetail(item) {\n      const context = this;\n      if (context.parentData.status === '2') {\n        Toast.fail('优惠券已使用');\n        return;\n      }\n      if (context.parentData.status === '3') {\n        Toast.fail('优惠券已过期');\n      }\n      // context.$router.push({\n      //   path: `/couponDetail/${item.id}/${item.couponFrom}`,\n      // });\n    },\n    isBigVal (item) {\n      return item.couponValue > 1000\n    },\n    iconSrc (item) {\n      return this.couponIcon[item.couponUseType]\n    },\n    expand (id) {\n      this.$set(this.expandMap, id, !this.expandMap[id])\n    },\n    timeHandler (time = '') {\n      return time.split(' ')[0].replace(/-/g, '.')\n    },\n    computeAllowExpand () {\n      this.allowExpandMap = {}\n      const textArr = this.$refs['bottom-text']\n      if (textArr && textArr.length) {\n        for (const text of textArr) {\n          if (text.offsetHeight >= 22) {\n            this.$set(this.allowExpandMap, text.dataset.id, true)\n          }\n        }\n      }\n    }\n  },\n  computed: {\n    bgSrc () {\n      const _bgSrc = {\n        expand: `${this.$cdnImageUrl}/shop/coupon-bg-1.png`,\n        default: `${this.$cdnImageUrl}/shop/coupon-bg-2.png`\n      }\n      return _bgSrc\n    },\n    couponIcon () {\n      const _couponIcon = {\n        ORDER: `${this.$cdnImageUrl}/shop/icon-coupon-card.png`,\n        // ORDER: `${this.$cdnImageUrl}/shop/icon-coupon-plat.png`,\n        SHOP: `${this.$cdnImageUrl}/shop/icon-coupon-shop.png`\n      }\n      return _couponIcon\n    }\n  },\n  watch: {\n    'parentData.list': {\n      handler (val) {\n        this.expandMap = {}\n        this.$nextTick(() => {\n          this.computeAllowExpand()\n        })\n      },\n      immediate: true\n    }\n\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.coupon-list-component{\n  padding: 0 0.14rem;\n  font-size: .24rem;\n  font-family: PingFangSC, PingFangSC-Regular;\n  font-weight: 400;\n  color: #333333;\n    .voucher-item{\n      height: 2.26rem;\n      margin-bottom: .06rem;\n      display: flex;\n      justify-content: space-between;\n      .voucher-left{\n        width: 2.18rem;\n        position: relative;\n        padding-top: .09rem;\n        position: relative;\n        .use-status-bg{\n          display: inline-block;\n          width: 1.1rem;\n          height: .98rem;\n          position: absolute;\n          right: 0;\n          top: .07rem;\n        }\n        .used{\n          background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-used.svg') center center no-repeat;\n          background-size: cover;\n        }\n        .time-out{\n          background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-timeout.png') center center no-repeat;\n          background-size: cover;\n        }\n        .voucher-type-tag{\n          display: inline-block;\n          position: absolute;\n          left: .13rem;\n          top: .22rem;\n          height: .32rem;\n        }\n        .voucher-type-shop{\n          background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-shop.png') center center no-repeat;\n          background-size: cover;\n        }\n        ::v-deep .container{\n          flex-direction: column;\n          .coupon-value-label{\n             color: #ffffff !important;\n             margin-bottom: .16rem;\n            .symbol{\n              font-family: PingFangSC, PingFangSC-Semibold;\n              font-weight: 600;\n            }\n            .integer{\n              font-size: .56rem;\n              font-weight: bold;\n            }\n\n          }\n          .desc{\n            font-size: .22rem;\n            font-family: PingFangSC, PingFangSC-Regular;\n            font-weight: 400;\n            color: #ffffff;\n          }\n        }\n      }\n      .voucher-right{\n        display: flex;\n        flex-grow: 1;\n        justify-content: space-between;\n        .info{\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          padding: .46rem 0 .52rem .28rem;\n          line-height: .24rem;\n          font-size: .24rem;\n          color: #333333;\n          .info-price{\n            .scope{\n              margin-right: .08rem;\n              font-family: PingFangSC, PingFangSC-Medium;\n              font-weight: 500;\n              color: #2878ff;\n            }\n          }\n          .info-desc{\n            max-width: 2.6rem;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            // .desc-text{\n              // text-overflow: ellipsis;\n              // overflow: hidden;\n              // -webkit-box-orient: vertical;\n              // -webkit-line-clamp: 1;\n              // display: -webkit-box;\n              // max-width: 2.6rem;\n            // }\n          }\n        }\n        .option{\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          align-items: center;\n          padding: .36rem .34rem .5rem .24rem;\n          .applicable{\n            padding: 0 .2rem 0 .2rem;\n            height: .4rem;\n            background: #2878ff;\n            border-radius: .32rem;\n            display: flex;\n            align-items: center;\n            span{\n              font-size: .2rem;\n              font-family: PingFangSC, PingFangSC-Regular;\n              font-weight: 400;\n              color: #ffffff;\n              // line-height: .28rem;\n            }\n          }\n          .transfer{\n              padding: 0 .1rem 0 .14rem;\n              background: #c09f72;\n              border-radius: 2rem;\n              height: .34rem;\n              display: flex;\n              align-items: center;\n              span{\n                font-size: .2rem;\n                font-family: PingFangSC, PingFangSC-Medium;\n                font-weight: 500;\n                color: #ffffff;\n                display: flex;\n                align-items: center;\n                // line-height: .28rem;\n              }\n              .transfer-icon{\n                display: inline-block;\n                background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-person-white.svg') center center no-repeat;\n                background-size: cover;\n                width: .22rem;\n                height: .22rem;\n              }\n          }\n          .instructions{\n            font-size: .2rem;\n            font-family: PingFangSC, PingFangSC-Regular;\n            font-weight: 400;\n            color: #999999;\n            line-height: .28rem;\n            .text{\n              display: flex;\n              align-items: center;\n            }\n            .instructions-icon{\n              display: inline-block;\n              background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-arrow-right-greay-bg.svg') center center no-repeat;\n              background-size: cover;\n              width: .24rem;\n              height: .24rem;\n              margin-left: .04rem;\n            }\n          }\n        }\n      }\n    }\n    .voucher-available{\n      background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-active.png') center center no-repeat;\n      background-size: contain;\n      .voucher-type-shop{\n          background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-shop.png') center center no-repeat;\n          background-size: cover;\n          width: .9rem;\n      }\n      .voucher-type-order{\n          background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-order.png') center center no-repeat;\n          background-size: cover;\n          width: .64rem;\n      }\n      .voucher-type-scene{\n          background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-scene.png') center center no-repeat;\n          background-size: cover;\n          width: .9rem;\n      }\n      .info-price{\n        .info-nolimit{\n          font-family: PingFangSC, PingFangSC-Medium;\n          font-weight: 500;\n          color: #2878ff;\n        }\n      }\n    }\n    .voucher-disable{\n      background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-disabled.png') center center no-repeat;\n      background-size: contain;\n      .voucher-left{\n        .voucher-type-shop{\n            background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-shop-gray.png') center center no-repeat;\n            background-size: cover;\n            width: .9rem;\n        }\n        .voucher-type-order{\n            background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-order-gray.png') center center no-repeat;\n            background-size: cover;\n            width: .64rem;\n        }\n        .voucher-type-scene{\n          background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/mine-voucher-scene-gray.png') center center no-repeat;\n          background-size: cover;\n          width: .9rem;\n      }\n      }\n      .voucher-right{\n        .option{\n          .applicable{\n            background: #999999;\n          }\n          .transfer{\n            background: #999999;\n          }\n        }\n        .info{\n          .info-price{\n            .scope{\n              color: #333333;\n            }\n            .info-nolimit{\n              font-family: PingFangSC, PingFangSC-Medium;\n              font-weight: 500;\n              color: #333333;\n            }\n          }\n        }\n      }\n    }\n}\n// 针对小屏兼容处理\n@media screen and (max-width: 350px) {\n    .coupon-list-component .voucher-item .voucher-left .voucher-type-tag{\n      left: .12rem;\n    }\n    .coupon-list-component .voucher-item .voucher-right .info .info-desc .desc-text{\n      padding-top: .02rem;\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./coupon-list.vue?vue&type=template&id=4f5b30b3&scoped=true&\"\nimport script from \"./coupon-list.vue?vue&type=script&lang=js&\"\nexport * from \"./coupon-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./coupon-list.vue?vue&type=style&index=0&id=4f5b30b3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f5b30b3\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"content\" ref=\"toTop\">\n\n    <div class=\"switch\">\n      <div class=\"tab\">\n        <div @click=\"switchTabChange\" :class=\"data.status === '1' && 'checked'\" id=\"1\">未使用</div>\n        <div @click=\"switchTabChange\" :class=\"data.status === '2' && 'checked'\" id=\"2\">已使用</div>\n        <div @click=\"switchTabChange\" :class=\"data.status === '4' && 'checked'\" id=\"4\">即将过期</div>\n        <div @click=\"switchTabChange\" :class=\"data.status === '3' && 'checked'\" id=\"3\">已过期</div>\n      </div>\n    </div>\n\n    <!--下啦刷新-->\n    <van-pull-refresh v-model=\"data.isLoading\" :disabled=\"refreshDisable\" @refresh=\"onRefresh\">\n      <template #pulling><refreshLoading text=\"下拉刷新\"/></template>\n      <template #loosing><refreshLoading text=\"下拉刷新\"/></template>\n      <template #loading><refreshLoading text=\"加载中\"/></template>\n      <template #success><refreshLoading text=\"加载完成\"/></template>\n      <!--有数据的时候，上啦加载-->\n      <van-list\n        v-model=\"data.loading\"\n        :finished=\"data.finished\"\n        :finishedText=\"data.list.length > 0 ? '没有更多啦~' : ''\"\n        @load=\"onLoad\"\n        van-clearfix\n        :class=\"{'block':(data.list.length === 0 && !data.isLoading && !data.loading)?false:true,'blockWhite':(data.list.length === 0 && !data.isLoading && !data.loading)?true:false}\"\n        :immediate-check=\"false\"\n      >\n        <coupon-list-component :parentData = \"data\" @toggleRefreshDisable=\"toggleRefreshDisable\" @onRefresh=\"onRefresh\"></coupon-list-component>\n      </van-list>\n\n      <!--没有数据的时候展示-->\n      <no-coupon v-if=\"data.list.length === 0 && !data.isLoading && !data.loading\"></no-coupon>\n\n    </van-pull-refresh>\n\n    <div v-if=\"data.list.length\" :class=\"{'bottom-footer':(data.list.length === 0 && !data.isLoading && !data.loading)?false:true,'bottom-footer-height':(data.list.length === 0 && !data.isLoading && !data.loading)?true:false}\">\n      <div @click=\"toVoucher\" class=\"to-coupon-btn\">\n        去领券中心逛逛\n      </div>\n    </div>\n    <!-- 返回顶部 -->\n    <top-feedBack :isShow=\"showToTopFlag\" @hiddenFeedBack=\"hiddenFeedBack\" @toTop=\"fnScrollToTop\"></top-feedBack>\n  </div>\n</template>\n\n<script>\n\nimport refreshLoading from '@/components/refreshLoading'\n\n/*\n * 没有优惠券\n*/\nimport noCoupon from './no-coupon';\n\n/*\n * 优惠券列表\n*/\nimport couponListComponent from './coupon-list';\n\n/*\n * 接口配置文件\n*/\nimport personalApi from '@/http/service/index';\n\n/**\n * vant框架\n */\nimport Vue from 'vue';\nimport { List, Toast, PullRefresh } from 'vant';\nimport mixins from '@/components/top-feedBack/mixins.js'\n// 全局注册\nVue.use({ List, Toast, PullRefresh });\n\n/*\n * 个人中心-优惠券页面\n*/\nexport default {\n  name: 'couponIndex',\n  mixins: [mixins],\n  components: {\n    refreshLoading,\n    noCoupon,\n    couponListComponent,\n  },\n  data() {\n    return {\n      /**\n       * {status} tab切换选中标签的id 1表示未使用 2表示已经使用 3表示已经过期 4表示即将过期\n       * {pageIndex} 页码\n       * {pageSize} 每页条数，大小\n       * {list} 数据列表\n       * {isLoading} 下啦刷新loading\n       * {loading} 上啦加载更多的loading\n       * {finished} 上啦加载完成\n       */\n      data: {\n        status: '1',\n        pageIndex: 0,\n        pageSize: 10,\n        list: [],\n        error: false,\n        loading: false,\n        finished: false,\n        isLoading: false,\n      },\n      refreshDisable: false, // 下拉刷新禁用控制\n    }\n  },\n  created() {\n  },\n  mounted() {\n    const context = this;\n    // 判断登陆状态，未登录便登陆\n    if (context.$util.isHaierApp()) { // 智家\n      context.$store.dispatch('handleUpAuth').then((res) => {\n        console.log(res); // return true / false\n        if (res) {\n          // 获取第一页数据\n          context.onRefresh();\n        } else {\n          Toast.fail('用户信息异常')\n        }\n      });\n    } else {\n      // 获取第一页数据\n      context.onRefresh();\n    }\n  },\n  methods: {\n    toggleRefreshDisable(status) {\n      this.refreshDisable = status\n    },\n    /**\n     * @description 下拉刷新,下啦刷新同时清空现有数据，页码初始化1\n     */\n    onRefresh() {\n      const context = this;\n      context.data.pageIndex = 1;\n      // 加载状态结束\n      context.data.isLoading = true;\n      /**\n       * @description 我的优惠券列表\n      */\n      context.getList();\n    },\n\n    /**\n     * 页面上拉触底事件的处理函数，加载更多\n     */\n    onLoad() {\n      const context = this;\n      context.data.pageIndex = context.data.pageIndex + 1;\n      /**\n       * @description 我的优惠券列表\n      */\n      context.getList();\n    },\n\n    /**\n     * @description 个人中心 我的优惠券列表\n     * @param {pageSize} 每页条数大小\n     * @param {pageIndex} 第几页\n     * @param {status} 1表示未使用 2表示已经使用 3表示已经过期 4即将过期\n     * 返回接口请求数据\n    */\n    getList () {\n      const context = this;\n      const data = {\n        pageSize: context.data.pageSize,\n        pageIndex: context.data.pageIndex,\n        status: context.data.status,\n        // status: context.data.status === '4' ? '1' : context.data.status,\n      }\n\n      // {status} 1：未使用，2：已使用，3：已过期，4：即将过期\n      personalApi.getMyCouponList(data).then(res => {\n        // 清空list\n        if (context.data.pageIndex === 1) {\n          context.data.list = [];\n        }\n        const _resData = res.data;\n        const _resDataList = _resData.data || [];\n        if (_resData.success) {\n          context.data.list = context.data.list.concat(_resDataList);\n          // 加载状态结束\n          context.data.finished = false;\n          context.data.loading = false;\n          // 下啦刷新完成\n          if (context.data.isLoading) {\n            context.data.isLoading = false;\n          }\n          // 数据全部加载完成\n          if (_resDataList.length < context.data.pageSize || _resDataList.length === 0) {\n            context.data.finished = true;\n          }\n        } else {\n          Toast.fail(_resData.message)\n        }\n      })\n\n      // if (context.data.status !== '4') {\n      //   // {status} 1表示未使用 2表示已经使用 3表示已经过期\n      //   personalApi.getMyCouponList(data).then(res => {\n      //     // 清空list\n      //     if (context.data.pageIndex === 1) {\n      //       context.data.list = [];\n      //     }\n      //     const _resData = res.data;\n      //     const _resDataList = _resData.data || [];\n      //     if (_resData.success) {\n      //       context.data.list = context.data.list.concat(_resDataList);\n      //       // 加载状态结束\n      //       context.data.finished = false;\n      //       context.data.loading = false;\n      //       // 下啦刷新完成\n      //       if (context.data.isLoading) {\n      //         context.data.isLoading = false;\n      //       }\n      //       // 数据全部加载完成\n      //       if (_resDataList.length < context.data.pageSize || _resDataList.length === 0) {\n      //         context.data.finished = true;\n      //       }\n      //     } else {\n      //       Toast.fail(_resData.message)\n      //     }\n      //   })\n      // } else {\n      //   // {status} 4即将过期\n      //   personalApi.getCouponsByMemberIdOneDay(data).then(res => {\n      //     // 清空list\n      //     if (context.data.pageIndex === 1) {\n      //       context.data.list = [];\n      //     }\n      //     const _resData = res.data;\n      //     const _resDataList = _resData.data || [];\n      //     if (_resData.success) {\n      //       context.data.list = context.data.list.concat(_resDataList);\n      //       // 加载状态结束\n      //       context.data.finished = false;\n      //       context.data.loading = false;\n      //       // 下啦刷新完成\n      //       if (context.data.isLoading) {\n      //         context.data.isLoading = false;\n      //       }\n      //       // 数据全部加载完成\n      //       if (_resDataList.length < context.data.pageSize || _resDataList.length === 0) {\n      //         context.data.finished = true;\n      //       }\n      //     } else {\n      //       Toast.fail(_resData.message)\n      //     }\n      //   })\n      // }\n    },\n\n    /**\n     * @description  团队tab标签切换内容\n     * @param {e} event\n     * 返回团队内容切换隐藏\n    */\n    switchTabChange(e) {\n      const _checkedId = e.target.id;\n      const context = this;\n      context.data.status = _checkedId;\n      context.data.isLoading = false;\n      // 清空list\n      context.data.list = [];\n      /**\n       * @description 下拉刷新,下啦刷新同时清空现有数据，页码初始化1\n       */\n      context.onRefresh();\n    },\n\n    /**\n     * @description  点击跳转到领券中心\n    */\n    toVoucher() {\n      // 埋点\n      this.$util.gioTrackWithVariable('MB15605').then(i => {\n        const context = this;\n        context.$router.push({\n          path: `/voucher`,\n        });\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.content{\n  ::v-deep [class*=van-hairline]::after{\n    border: none;\n  }\n}\n.van-pull-refresh {\n  padding-top: 1.08rem;\n  // background-color: white;\n}\n// ::v-deep .coupon-list-component{\n//   background: #fff;\n// }\n.switch {\n  background: #ffffff;\n  padding: 0 0.36rem;\n  // border-bottom: 0.01rem solid rgba(238,238,238,1);\n  position: fixed;\n  top: 0.92rem;\n  left: 0;\n  right: 0;\n  @include max-width;\n  z-index: 9;\n  box-sizing: border-box;\n\n  .tab {\n    display: flex;\n    justify-content: space-between;\n    height: 0.88rem;\n    font-size: 0.28rem;\n    font-weight: 400;\n    color: rgba(51, 51, 51, 1);\n    line-height: 0.88rem;\n\n    div {\n      text-align: center;\n    }\n\n    .checked {\n      color: $themeColor;\n      // border-bottom: 0.04rem solid $themeColor;\n      font-family: PingFangSC, PingFangSC-Medium;\n      font-weight: 500;\n      position: relative;\n      &::after{\n        content: '';\n        position: absolute;\n        width: 76%;\n        height: .06rem;\n        background-color: $themeColor;\n        left: 12%;\n        bottom: .06rem;\n        border-radius: 1rem;\n      }\n    }\n\n  }\n\n}\n\n.block {\n  padding: 0 0 1.36rem 0;\n  background: #F5F5F5;\n}\n.blockWhite {\n  padding: 0 0 1.58rem 0;\n  // background: white;\n}\n.bottom-footer-height{\n  height: 1.84rem;\n  // background-color: white;\n}\n.bottom-footer {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 2;\n  @include max-width;\n  background-color: white;\n  height: 1.2rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .to-coupon-btn {\n    width: 6.86rem;\n    height: 0.76rem;\n    background-color: #2878ff;\n    border-radius: 2.00rem;\n    border: 0.01rem solid #ffffff;\n    font-size: 0.34rem;\n    color: white;\n    line-height: 0.76rem;\n    text-align: center;\n    border-top: 1px solid #eee;\n  }\n\n}\n.content{\n\n  // ::v-deep .go-top{\n  //   bottom: 2.48rem;\n  // }\n}\n/* 判断iphoneX 将 total 的 padding-bottom 填充到最底部 */\n@supports (bottom: env(safe-area-inset-bottom)) {\n  .bottom-footer {\n    padding-bottom: constant(safe-area-inset-bottom);\n    padding-bottom: env(safe-area-inset-bottom);\n  }\n  //  .content ::v-deep .go-top{\n  //   bottom: calc(2.48rem + constant(safe-area-inset-bottom));\n  //   bottom: calc(2.48rem + env(safe-area-inset-bottom));\n  // }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=42a43520&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=42a43520&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42a43520\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=9448457e&lang=scss&scoped=true&\""],"sourceRoot":""}