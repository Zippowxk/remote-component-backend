{"version":3,"sources":["webpack:///./node_modules/vant/es/image-preview/style/index.js","webpack:///./src/views/goods/hotImgs/hot-imgs.vue?b3bf","webpack:///src/views/goods/hotImgs/hot-imgs.vue","webpack:///./src/views/goods/hotImgs/hot-imgs.vue?2199","webpack:///./src/views/goods/hotImgs/hot-imgs.vue","webpack:///./src/components/skeleton/index.vue?62cb","webpack:///./src/views/goods/hotImgs/hot-imgs.vue?6845","webpack:///./src/components/skeleton/index.vue?3508","webpack:///./src/components/skeleton/index.vue?db06"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onRefresh","scopedSlots","_u","key","fn","proxy","model","value","callback","$$v","isLoading","expression","listLeft","length","finished","onLoad","loading","_l","item","index","$event","fnPreviewImage","directives","name","rawName","imageToHttps","picList","picUrl","_v","_s","commentContent","memberName","_e","ref","staticStyle","picStartIndex","imgPreShowList","onChange","preClose","imgPreShowIndex","class","expandStatus","commentPreList","comment","toggleExpand","imgPreShow","staticRenderFns","components","skeleton","refreshLoading","Header","data","expandFlag","list","listRight","imgTotalCount","productId","lastIndex","skeletonLoading","commentTextShowStatus","commentOld","pageParam","pageNum","pageSize","created","$route","query","toAssessList","then","methods","fnExpandNavigation","id","forEach","Promise","res","success","resolve","initData","commentType","pageIndex","i","commentPics","concat","experiencePics","url","indexOf","replace","calcShowList","l","_imgPreShowList","push","ii","_commentPreList","_listLeft","_listRight","component","props","nums","style","zIndex","bgColor","height","fheight","iheight","script"],"mappings":"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","file":"js/chunk-256b745f.48c402b3.js","sourcesContent":["import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../image/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../../swipe/index.css';\nimport '../../swipe-item/index.css';\nimport '../index.css';","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top-container\"},[_c('Header'),(_vm.skeletonLoading)?_c('skeleton',{attrs:{\"nums\":3}}):_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},scopedSlots:_vm._u([{key:\"pulling\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"下拉刷新\"}})]},proxy:true},{key:\"loosing\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"下拉刷新\"}})]},proxy:true},{key:\"loading\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"加载中\"}})]},proxy:true},{key:\"success\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"加载完成\"}})]},proxy:true}]),model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[(_vm.listLeft.length > 0)?_c('van-list',{attrs:{\"finished\":_vm.finished,\"finishedText\":'全部数据加载完成',\"van-clearfix\":\"\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"left\"},_vm._l((_vm.listLeft),function(item,index){return _c('div',{key:index,staticClass:\"comment-item\",on:{\"click\":function($event){return _vm.fnPreviewImage(item,index)}}},[_c('div',{staticClass:\"thumb\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.imageToHttps(item.picList[0].picUrl)),expression:\"imageToHttps(item.picList[0].picUrl)\"}],attrs:{\"alt\":\"\"}}),_c('span',{staticClass:\"pic-number\"},[_vm._v(\" \"+_vm._s(item.picList.length)+\" \"),_c('span',{staticClass:\"pic-logo\"})])]),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.commentContent))]),_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"logo\"}),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.memberName))])])])}),0),_c('div',{staticClass:\"right\"},_vm._l((_vm.listRight),function(item,index){return _c('div',{key:index,staticClass:\"comment-item\",on:{\"click\":function($event){return _vm.fnPreviewImage(item,index)}}},[_c('div',{staticClass:\"thumb\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.imageToHttps(item.picList[0].picUrl)),expression:\"imageToHttps(item.picList[0].picUrl)\"}],attrs:{\"alt\":\"\"}}),_c('span',{staticClass:\"pic-number\"},[_vm._v(\" \"+_vm._s(item.picList.length)+\" \"),_c('span',{staticClass:\"pic-logo\"})])]),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.commentContent))]),_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"logo\"}),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.memberName))])])])}),0)])]):_vm._e()],1),_c('van-image-preview',{ref:\"pre\",staticStyle:{\"background\":\"#000\"},attrs:{\"start-position\":_vm.picStartIndex,\"images\":_vm.imgPreShowList,\"loop\":false,\"show-index\":false,\"get-container\":\"#app-warp\"},on:{\"change\":_vm.onChange,\"close\":_vm.preClose},scopedSlots:_vm._u([{key:\"cover\",fn:function(){return [_c('div',{staticClass:\"pic-pre-idx\"},[_c('span',[_vm._v(_vm._s(_vm.imgPreShowIndex+1)+\"/\"+_vm._s(_vm.imgPreShowList.length))])]),_c('div',{staticClass:\"comment-text\",class:{'fold':!_vm.expandStatus}},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.commentPreList[_vm.imgPreShowIndex].comment))]),_c('div',{staticClass:\"text-right\",on:{\"click\":_vm.toggleExpand}},[(_vm.expandStatus)?_c('div',{staticClass:\"open\"}):_c('div',{staticClass:\"close\"})])]),_c('div',{staticClass:\"img-pre-back\",on:{\"click\":_vm.preClose}})]},proxy:true}]),model:{value:(_vm.imgPreShow),callback:function ($$v) {_vm.imgPreShow=$$v},expression:\"imgPreShow\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"top-container\">\n    <Header></Header>\n     <skeleton v-if=\"skeletonLoading\" :nums=\"3\"></skeleton>\n       <!--下啦刷新-->\n    <van-pull-refresh v-else v-model=\"isLoading\" @refresh=\"onRefresh\">\n      <template #pulling><refreshLoading text=\"下拉刷新\"/></template>\n      <template #loosing><refreshLoading text=\"下拉刷新\"/></template>\n      <template #loading><refreshLoading text=\"加载中\"/></template>\n      <template #success><refreshLoading text=\"加载完成\"/></template>\n      <!--上啦加载-->\n      <van-list\n        v-if=\"listLeft.length > 0\"\n        v-model=\"loading\"\n        :finished=\"finished\"\n        :finishedText=\"'全部数据加载完成'\"\n        @load=\"onLoad\"\n        van-clearfix\n        :immediate-check=\"false\"\n      >\n    <div class=\"container\">\n      <div class=\"left\">\n        <div class=\"comment-item\"  v-for=\"(item, index) in listLeft\" :key=\"index\" @click=\"fnPreviewImage(item,index)\">\n          <div class=\"thumb\">\n            <img alt v-lazy=\"imageToHttps(item.picList[0].picUrl)\">\n            <span class=\"pic-number\">\n              {{item.picList.length}}\n              <span class=\"pic-logo\"></span>\n            </span>\n          </div>\n          <div class=\"content\">{{item.commentContent}}</div>\n          <div class=\"info\">\n            <span class=\"logo\"></span>\n            <span class=\"text\">{{item.memberName}}</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"right\">\n        <div class=\"comment-item\"  v-for=\"(item, index) in listRight\" :key=\"index\" @click=\"fnPreviewImage(item,index)\">\n          <div class=\"thumb\">\n            <img alt v-lazy=\"imageToHttps(item.picList[0].picUrl)\">\n             <span class=\"pic-number\">\n              {{item.picList.length}}\n              <span class=\"pic-logo\"></span>\n            </span>\n          </div>\n          <div class=\"content\">{{item.commentContent}}</div>\n          <div class=\"info\">\n            <span class=\"logo\"></span>\n            <span class=\"text\">{{item.memberName}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    </van-list>\n  </van-pull-refresh>\n  <van-image-preview ref=\"pre\" v-model=\"imgPreShow\" :start-position=\"picStartIndex\" :images=\"imgPreShowList\" @change=\"onChange\" @close=\"preClose\" :loop=\"false\" :show-index=\"false\" style=\"background:#000;\" get-container=\"#app-warp\">\n      <template v-slot:cover>\n        <div class=\"pic-pre-idx\"><span>{{imgPreShowIndex+1}}/{{imgPreShowList.length}}</span></div>\n        <div class=\"comment-text\" :class=\"{'fold':!expandStatus}\">\n          <!-- <div class=\"text-left\" >{{commentContent}}</div> -->\n          <div class=\"text-left\" >{{commentPreList[imgPreShowIndex].comment}}</div>\n          <div class=\"text-right\" @click=\"toggleExpand\">\n            <div class=\"open\" v-if=\"expandStatus\"></div>\n            <div class=\"close\" v-else></div>\n          </div>\n        </div>\n        <div class=\"img-pre-back\" @click=\"preClose\"></div>\n      </template>\n  </van-image-preview>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport Header from '@/components/header'\n\nimport skeleton from '@/components/skeleton'\nimport { ImagePreview, Lazyload } from 'vant';\nimport { toAssessList, getCommentsByCondition } from '@/http/service/goods'\n\nconst refreshLoading = () => import('@/components/refreshLoading')\n\nVue.use(Lazyload);\nVue.use(ImagePreview);\nexport default {\n  components: {\n    skeleton,\n    refreshLoading,\n    Header\n  },\n  data() {\n    return {\n      expandFlag: false,\n      list: [],\n      listLeft: [], // 左列数据\n      listRight: [], // 右列数据\n      imgTotalCount: 0, // 带图评价总数\n      productId: 0,\n      lastIndex: 0, // 上次加载最大索引\n      skeletonLoading: true, // 骨架屏显示状态\n      loading: false, // 加载状态\n      finished: false, // 完成状态\n      isLoading: false,\n      imgPreShow: false, // 图片预览展示状态\n      imgPreShowList: [], // 图片预览展示 列表\n      imgPreShowIndex: 0,\n      commentContent: '', // 当前预览评论 内容\n      commentTextShowStatus: false, // 评价预览状态\n      expandStatus: false, // 评价折叠状态\n      picStartIndex: 0, // 图片起始索引\n      commentPreList: [], // 评价预览列表\n      commentOld: '', // 预览的上一条评论\n      pageParam: { // 分页参数\n        pageNum: 1,\n        pageSize: 10\n      }\n\n    }\n  },\n  created() {\n    this.productId = this.$route.query.productId\n    this.toAssessList().then(res => {\n      this.onRefresh()\n    })\n  },\n  methods: {\n    fnExpandNavigation() {\n      this.expandFlag = !this.expandFlag\n    },\n    /**\n     * @description 图片预览关闭\n    */\n    preClose() {\n      this.imgPreShow = false\n      this.expandStatus = false\n    },\n    /**\n     * @description 切换展开折叠评价\n    */\n    toggleExpand() {\n      this.expandStatus = !this.expandStatus\n    },\n    onChange(index) {\n      this.imgPreShowIndex = index;\n      if (index === this.imgPreShowList.length - 2 && !this.finished) {\n        // 初始化预览起始索引\n        this.picStartIndex = index\n        // 大图预览切换到最后一张图片时 加载下一页数据\n        this.onLoad()\n      }\n      // 同一条评论切换评论内容不折叠，切换到不同评论折叠\n      if (this.commentPreList[index].id !== this.commentOld) {\n        this.expandStatus = false\n      }\n      this.commentOld = this.commentPreList[index].id\n      // console.log(this.imgPreShowIndex + '|' + this.imgPreShowList.length)\n    },\n    /**\n     * @description 图片预览\n    */\n    fnPreviewImage(item, index) {\n      this.imgPreShowList.forEach((i, index) => {\n        if ((item.commentPics[0] && item.commentPics[0].picUrl === i) || (item.experiencePics[0] && item.experiencePics[0].picUrl === i)) {\n          this.picStartIndex = index\n          this.commentOld = this.commentPreList[this.picStartIndex].id\n        }\n      })\n      this.imgPreShow = false\n      this.imgPreShow = true\n      this.commentContent = item.commentContent\n    },\n    /**\n     * @description 获取带图评价总数\n    */\n    toAssessList() {\n      return new Promise((resolve, reject) => {\n        toAssessList({\n          productId: this.productId,\n        }).then(res => {\n          if (res.success) {\n            this.imgTotalCount = res.data.hasPicNum // 有图\n          }\n          resolve()\n        })\n      })\n    },\n    /**\n     * @description 下拉刷新\n    */\n    onRefresh () {\n      this.pageParam.pageNum = 1\n      // 加载状态结束\n      this.loading = false;\n      this.finished = true;\n      this.isLoading = true;\n      this.initData()\n    },\n    /**\n     * @description 上来加载\n    */\n    onLoad () {\n      this.pageParam.pageNum += 1\n      this.initData()\n    },\n    /**\n     * @description 初始化数据\n    */\n    initData () {\n      return new Promise((resolve, reject) => {\n        if (this.pageParam.pageNum === 1) {\n          this.imgPreShowList = []\n          this.commentPreList = []\n        }\n        let param = {\n          commentType: 'image',\n          productId: this.productId,\n          pageSize: this.pageParam.pageSize,\n          pageIndex: this.pageParam.pageNum,\n        }\n        getCommentsByCondition(param).then(res => {\n          if (res.success) {\n            this.imgCommentList = res.data\n            // 合并评价图片与追加图片\n            this.imgCommentList.forEach(i => {\n              i.picList = i.commentPics.concat(i.experiencePics)\n            })\n            // console.log('imgCommentList:')\n            // console.log(this.imgCommentList)\n            // 加载成功解除骨架屏\n            this.skeletonLoading = false\n            // 计算分配数据\n            this.calcShowList(this.imgCommentList)\n            // 加载状态结束\n            this.finished = false;\n            this.loading = false;\n            // 下啦刷新完成\n            if (this.isLoading) {\n              this.isLoading = false;\n            }\n            // 数据全部加载完成\n            if ((this.listLeft.length + this.listRight.length) >= this.imgTotalCount) {\n              this.finished = true;\n            }\n            resolve()\n          }\n        })\n      })\n    },\n    imageToHttps(url) {\n      if (!url) {\n        return\n      }\n      if (url.indexOf('http:') >= 0) {\n        url = url.replace('http:', 'https:');\n      }\n      return url;\n    },\n    calcShowList (l) {\n      let _listLeft = []\n      let _listRight = []\n      // 数据按顺序分为两组\n      l.forEach((i, index) => {\n        // if (index % 2 === 0) {\n        //   _listLeft.push(i)\n        // } else {\n        //   _listRight.push(i)\n        // }\n        let _imgPreShowList = []\n        let _commentPreList = []\n\n        i.commentPics.forEach(ii => {\n          _imgPreShowList.push(ii.picUrl)\n          _commentPreList.push({ comment: i.commentContent, id: i.commentId })\n        })\n        i.experiencePics.forEach(ii => {\n          _imgPreShowList.push(ii.picUrl)\n          _commentPreList.push({ comment: i.commentContent, id: i.commentId })\n        })\n        this.imgPreShowList = this.imgPreShowList.concat(_imgPreShowList)\n        this.commentPreList = this.commentPreList.concat(_commentPreList)\n        if (index % 2 === 0) {\n          _listLeft.push(i)\n        } else {\n          _listRight.push(i)\n        }\n      })\n      if (this.pageParam.pageNum === 1) {\n        this.listLeft = _listLeft\n        this.listRight = _listRight\n      } else {\n        this.listLeft = this.listLeft.concat(_listLeft)\n        this.listRight = this.listRight.concat(_listRight)\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container{\n  padding: .24rem;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: .92rem;\n  justify-content: space-between;\n  .left,.right{\n    display: flex;\n    flex-direction: column;\n    width: calc(50% - .08rem);\n  }\n  .comment-item{\n    // width: calc(50% - .12rem);\n    flex-shrink: 0;\n    background: #fff;\n    margin-bottom: .18rem;\n    border-radius: .24rem;\n    overflow: hidden;\n    .thumb{\n    position: relative;\n    img{\n      width: 100%;\n    }\n    .pic-number{\n      padding: 0 .14rem;\n      height: .38rem;\n      background: rgba(0,0,0,0.6);\n      border-radius: .2rem;\n      position: absolute;\n      bottom: .12rem;\n      right: .12rem;\n      font-size: .24rem;\n      font-family: PingFangSC, PingFangSC-Regular;\n      font-weight: 400;\n      color: #ffffff;\n      line-height: .24rem;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      .pic-logo{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/thumb-small.png') center center no-repeat;\n        display: inline-block;\n        width: .2rem;\n        height: .2rem;\n        background-size: cover;\n        margin-left: .1rem;\n      }\n    }\n    }\n    .info{\n      margin-bottom: .3rem;\n      display: flex;\n      align-items: center;\n      .logo{\n        display: inline-block;\n        width: .32rem;\n        height: .32rem;\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/common/default-thumb.png') center center no-repeat;\n        background-size: cover;\n        margin-left: .20rem;\n        margin-right: .22rem;\n\n      }\n      .text{\n        font-size: .2rem;\n        font-family: PingFangSC, PingFangSC-Regular;\n        font-weight: 400;\n        color: #333333;\n        line-height: .28rem;\n        margin-left: .08rem;\n      }\n    }\n    .content{\n      width: 3rem;\n      display: -webkit-box;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      word-break: break-all;\n      font-size: .24rem;\n      font-family: PingFangSC, PingFangSC-Regular;\n      font-weight: 400;\n      text-align: left;\n      color: #333333;\n      line-height: .34rem;\n      margin: .3rem .22rem .24rem .2rem;\n    }\n  }\n  .item-right-margin{\n    margin-right: .24rem\n  }\n}\n\n.comment-text{\n  width: 100%;\n  height: 2.18rem;\n  background: linear-gradient(180deg,rgba(0,0,0,0), #000000 35%, #000000 92%);\n  position: fixed;\n  bottom: 0;\n  display: flex;\n  justify-content: space-between;\n  .text-left{\n    height: 1.54rem;\n    font-size: .24rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    color: #ffffff;\n    line-height: .34rem;\n    margin-top: .44rem;\n    margin-left: .24rem;\n    width: 100%;\n    overflow-y: scroll;\n  }\n  .text-right{\n   padding-left: .16rem;\n   padding-right: .24rem;\n   .open{\n     background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/open-icon.png') center center no-repeat;\n     background-size: cover;\n     width: .36rem;\n     height: .36rem;\n     margin-top: .46rem;\n   }\n   .close{\n     background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/close-icon.png') center center no-repeat;\n     background-size: cover;\n     width: .36rem;\n     height: .36rem;\n     margin-top: .46rem;\n   }\n  }\n\n}\n.comment-text.fold{\n  height: 1rem;\n  overflow: hidden;\n  .text-left{\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n.img-pre-back{\n  position: fixed;\n  background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/img-pre-back.png') center center no-repeat;\n  background-size: cover;\n  width: .4rem;\n  height: .4rem;\n  top: .26rem;\n  left: .24rem;\n}\n.pic-pre-idx{\n  width: 100%;\n  position: fixed;\n  top: 0;\n  color: #fff;\n  font-size: .28rem;\n  line-height: .4rem;\n  display: flex;\n  justify-content: center;\n  height: 1.12rem;\n  background: linear-gradient(180deg,#000000, #000000 57%, rgba(0,0,0,0) 92%);\n\n  span{\n    margin-top: .26rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hot-imgs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hot-imgs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./hot-imgs.vue?vue&type=template&id=4d431e80&scoped=true&\"\nimport script from \"./hot-imgs.vue?vue&type=script&lang=js&\"\nexport * from \"./hot-imgs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hot-imgs.vue?vue&type=style&index=0&id=4d431e80&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d431e80\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hot-imgs.vue?vue&type=style&index=0&id=4d431e80&lang=scss&scoped=true&\"","var render = function (_h,_vm) {var _c=_vm._c;return (_vm.props.nums > 0)?_c('div',{staticClass:\"m-skeleton\",style:({'z-index': _vm.props.zIndex || 0})},[_c('div',{style:({'background': _vm.props.bgColor, height: _vm.props.fheight})}),_vm._l((_vm.props.nums - 1),function(item){return _c('div',{key:item,style:({'background': _vm.props.bgColor, 'height': _vm.props.iheight})})})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a0d47b2e&functional=true&\"\nvar script = {}\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}