(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cc28314"],{"04c8":function(t,e,s){"use strict";s("d2d8")},"0bb6":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"shop-message"},[s("div",{staticClass:"shop-part"},[s("div",{staticClass:"shop-photo"},[s("img",{staticClass:"shop-photo",attrs:{src:t._f("imageToHttps")(t.list.productDefaultImageUrl)}})]),s("div",{staticClass:"shop-infor"},[s("div",{staticClass:"infor-title"},[t._v(t._s(t.list.productFullName))]),t.list.productName?s("div",{staticClass:"infor-type"},[t._v(t._s(t.list.productName))]):t._e()])])]),s("div",{staticClass:"company"},[s("van-cell",{attrs:{"is-link":""},on:{click:t.showCompany}},[s("div",{staticClass:"uni-list-cell-left"},[s("div",{staticClass:"must"},[s("span",{staticStyle:{display:"inline-block",height:"0.14rem",width:"0.14rem","font-size":"0.24rem","line-height":"0.24rem"}},[t._v("*")])]),t._v(" 物流公司 ")]),s("div",{staticClass:"uni-list-cell-select"},[t.ifChange?s("div",{staticClass:"uni-input wait-select"},[t._v("请选择")]):t._e(),t.ifChange?t._e():s("div",{staticClass:"uni-input"},[t._v(t._s(t.array[t.index]))])])])],1),s("div",{staticClass:"order-number"},[s("div",{staticClass:"uni-list"},[s("div",{staticClass:"uni-list-cell"},[t._m(0),s("div",{staticClass:"uni-list-cell-db"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",align:"right",placeholder:"请输入物流单号"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])])])]),s("div",{staticClass:"phone-part"},[s("div",{staticClass:"uni-list"},[s("div",{staticClass:"uni-list-cell"},[t._m(1),s("div",{staticClass:"uni-list-cell-db"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneValue,expression:"phoneValue"}],attrs:{type:"text",align:"right",placeholder:"请输入联系电话"},domProps:{value:t.phoneValue},on:{input:function(e){e.target.composing||(t.phoneValue=e.target.value)}}})])])])]),s("div",{staticClass:"return-descripe"},[s("div",{staticClass:"des-title"},[t._v(" 退货说明 ")]),s("div",{staticClass:"des-area"},[s("van-cell-group",[s("van-field",{attrs:{type:"textarea",maxlength:"500",placeholder:"请您详细描述您要反馈的问题","show-word-limit":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1)]),s("div",{staticClass:"refund-des"},[s("div",{staticClass:"png-title"},[t._v("上传凭证")]),s("upload-img",{staticStyle:{width:"100%","margin-top":"12px"},attrs:{multiple:!0,maxCount:3,cameraDes:"最多三张"},model:{value:t.imgs,callback:function(e){t.imgs=e},expression:"imgs"}}),s("div",{staticClass:"up"},[s("div",{staticClass:"up-btn",on:{click:t.submission}},[t._v("提交")])])],1),s("van-popup",{attrs:{position:"bottom"},model:{value:t.showLogistics,callback:function(e){t.showLogistics=e},expression:"showLogistics"}},[s("van-picker",{attrs:{"show-toolbar":"",title:"物流公司",columns:t.array},on:{cancel:t.onCancelType,confirm:t.onConfirmType,change:t.bindPickerChange}})],1)],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uni-list-cell-left"},[s("div",{staticClass:"must"},[s("span",{staticStyle:{display:"inline-block",height:"0.14rem",width:"0.14rem","font-size":"0.24rem","line-height":"0.24rem"}},[t._v("*")])]),t._v(" 物流单号 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uni-list-cell-left"},[s("div",{staticClass:"must"},[s("span",{staticStyle:{display:"inline-block",height:"0.14rem",width:"0.14rem","font-size":"0.24rem","line-height":"0.24rem"}},[t._v("*")])]),t._v(" 联系电话 ")])}],r=s("d3c8"),n=function(){return s.e("chunk-e5c4f6f4").then(s.bind(null,"40cb"))},o={components:{UploadImg:n},mounted:function(){var t=this;r["a"].getExpressList().then((function(e){e.data.data.forEach((function(e){t.array.push(e.expressName)})),t.arrayStart=e.data.data})),this.$route.query.repairSn&&(this.repairSn=this.$util.strJSONParse(this.$route.query.repairSn,"")),r["a"].getOrderRepairsInfo({orderProductId:parseInt(this.repairSn.orderProductId)}).then((function(e){t.list=e.data.data}))},data:function(){return{loading:!1,arrayStart:[],showLogistics:!1,list:{productDefaultImageUrl:"@/assets/imgs/pc/camera.png",productFullName:"商品名称",productAttrName:"规格名称"},ifChange:!0,index:null,array:[],totalNum:0,value:"",phoneValue:"",imgs:[],description:"",repairSn:""}},methods:{showCompany:function(){console.log("===================================="),console.log(),console.log("===================================="),this.showLogistics=!0},bindPickerChange:function(t){t.stopPropagation()},onConfirmType:function(t,e){this.ifChange=!1,this.showLogistics=!1,this.index=e,event.stopPropagation()},onCancelType:function(){this.showLogistics=!1,event.stopPropagation()},submission:function(){var t=this;this.$toast.loading({forbidClick:!0,message:"加载中...",duration:0});var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(null===this.index)return this.$toast.fail("请选择物流公司"),!1;if(""===this.value)return this.$toast.fail("请填写物流单号"),!1;if(""===this.phoneValue)return this.$toast.fail("请填写联系电话"),!1;if(!this.phoneValue||!e.test(this.phoneValue))return this.$toast.fail("请填写正确联系电话"),!1;var s=this;if(s.imgs.length>0)s.loading=!0,r["a"].uploadPictureBybase64({base64s:s.imgs.map((function(t){return t.content.split(",")[1]}))}).then((function(t){if(s.loading=!1,t.data.success){var e={repairSn:s.repairSn.repairSn,expressCompany:s.arrayStart[s.index].expressName,expressNumber:s.value,expressCompanyCode:s.arrayStart[s.index].expressCode,picUrl:t.data.data.fileList.map((function(t){return t.imgUrl})).join(),description:s.description};r["a"].requestOrderRepairExpress(e).then((function(t){t.data.success?(s.$toast.clear(),s.$router.replace({path:"/details",query:{orderProductId:s.repairSn.orderProductId}}),s.$router.go(-1)):s.$toast.fail(t.data.message)}))}else s.$toast(t.data.message)}))["catch"]((function(){t.loading=!1,s.$toast.fail("上传图片失败")}));else{var i={repairSn:s.repairSn.repairSn,expressCompany:s.arrayStart[s.index].expressName,expressNumber:s.value,expressCompanyCode:s.arrayStart[s.index].expressCode,description:s.description};r["a"].requestOrderRepairExpress(i).then((function(t){t.data.success?(s.$toast.clear(),s.$router.replace({path:"/details",query:{orderProductId:s.repairSn.orderProductId}}),s.$router.go(-1)):s.$toast.fail(t.data.message)}))}}}},l=o,c=(s("04c8"),s("2877")),d=Object(c["a"])(l,i,a,!1,null,"24d437c4",null);e["default"]=d.exports},d2d8:function(t,e,s){}}]);
//# sourceMappingURL=chunk-2cc28314.55cad38f.js.map