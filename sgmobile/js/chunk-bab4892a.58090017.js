(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bab4892a"],{"1f00":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"history"},[o("div",{staticClass:"title"},[t._m(0),o("div",{staticClass:"right"},[o("img",{attrs:{alt:"",src:t._f("imageToHttps")(t.$cdnImageUrl+"/search/delete.png")},on:{click:t.deleteHistorySearch}})])]),t.historySearchList.length?o("ul",{class:{"history-content":!0,"history-hide":!t.showMore}},[t._l(t.historySearchListShow,(function(e,s){return o("li",{key:s,staticClass:"van-ellipsis",on:{click:function(o){return t.doHistorySearch(e)}}},[t._v(t._s(e))])})),!t.showMore&&t.hasMoreBtn?o("span",{staticClass:"icon-more",on:{click:t.toggleShowMore}}):t._e(),t.showMore&&t.hasMoreBtn?o("span",{staticClass:"icon-more-hide",on:{click:t.toggleShowMore}}):t._e()],2):o("div",{staticClass:"nodata"},[o("p",[t._v("暂无搜索记录")])])])},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"left"},[o("span",{staticClass:"text-icon"}),t._v("历史搜索")])}],r=o("2f62");function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var c=Object(r["a"])("history"),l=c.mapGetters,f={computed:n({},l(["historySearchList"])),props:{show:{type:Boolean,default:!1}},data:function(){return{historySearchListShow:[],showMore:!1,hasMoreBtn:!1}},created:function(){this.historySearchListShow=this.historySearchList,this.showMore=!1,this.hasMoreBtn=!1},mounted:function(){this.toggleHistoryData()},activated:function(){this.historySearchListShow=this.historySearchList,this.showMore=!1,this.hasMoreBtn=!1,this.toggleHistoryData()},watch:{historySearchList:{handler:function(t,e){this.historySearchListShow=this.historySearchList,this.showMore=!1,this.hasMoreBtn=!1,this.toggleHistoryData()},immediate:!0,deep:!0},show:{handler:function(t,e){t&&(this.historySearchListShow=this.historySearchList,this.showMore=!1,this.hasMoreBtn=!1,this.toggleHistoryData())},immediate:!0}},methods:{deleteHistorySearch:function(){var t=this;0!==this.historySearchList.length&&this.$dialog.confirm({title:"确定清空搜索历史记录吗?"}).then((function(){t.hasMoreBtn=!1,t.$store.commit("history/deleteHistorySearchList")}))["catch"]((function(){}))},toggleHistoryData:function(){var t=this,e=0,o=0;this.$nextTick((function(){var s=document.querySelector(".history-content");if(s){var i=s.childNodes;i.forEach((function(s,i){console.log(s+"：",s.offsetLeft),0===s.offsetLeft&&(o++,3===o&&(e=i-1,t.hasMoreBtn=!0))})),t.historySearchListShow=e>0?t.historySearchList.slice(0,e):t.historySearchList}}))},toggleShowMore:function(){this.showMore=!this.showMore,this.toggleHistoryData()},doHistorySearch:function(t){this.$emit("doSearch",{keyword:t,type:"history"})}}},u=f,y=(o("bba5"),o("2877")),d=Object(y["a"])(u,s,i,!1,null,"0b36344c",null);e["default"]=d.exports},a06f:function(t,e,o){},bba5:function(t,e,o){"use strict";o("a06f")}}]);
//# sourceMappingURL=chunk-bab4892a.58090017.js.map