(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be5d57ae"],{"110d":function(e,t,s){},"119c":function(e,t,s){"use strict";s("110d")},ffec:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"rect1"}),s("div",{staticClass:"rect2"}),s("div",{staticClass:"rect3"}),s("div",{staticClass:"rect4"}),s("div",{staticClass:"rect5"})])}],o=s("bbc2"),n=s("2f62"),c=s("fa7d");function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){u(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var m={name:"ssoAuth",mounted:function(){var e=this.$route.query;this.fetchAuth(e.code,e.redirect_uri)},methods:l(l({},Object(n["e"])(["setLoginStatus","setmId","setUcId","setAcsToken","setSessionKey","setSessionValue","setUserInfo","setToken"])),{},{fetchAuth:function(e,t){var s=this;e?this.$http.get(o["a"].checkssoauth,{params:{code:e}}).then((function(e){var r=e.data;if(r.success){var a=r.data,o=a.mid,n=a.ucId,i=a.accessToken,l=a.sessionKey,u=a.sessionValue,m=a.token,d={};d.username=a.userName,d.avatarImage=a.avatarImageFileId,d.loginName=a.loginName,d.birthday=a.birthday,d.phone=a.mobile,d.email=a.email,d.cartNumber=a.cartNumber,d.gender=a.gender,d.isNewUser=a.isNewUser,d.isStoreMember=a.isStoreMember,d.nickName=a.nickName,d.rankName=a.rankName,d.promotionCode=a.promotionCode,d.resultSign=a.resultSign,s.setLoginStatus(!0),s.setmId(o),s.setUcId(n),s.setAcsToken(i),s.setSessionKey(l),s.setSessionValue(u),s.setUserInfo(d),s.setToken(m),localStorage.setItem("isLogin",!0),localStorage.setItem("ucId",n),localStorage.setItem("token",m),localStorage.setItem("accessToken",i),localStorage.setItem("mId",o),localStorage.setItem("sessionKey",l),localStorage.setItem("sessionValue",u),localStorage.setItem("userInfo",JSON.stringify(d)),c["a"].isIMaker()&&c["a"].parseURLQueryValue(t,"commissionDisplay")&&(s.$store.commit("mymanage/setSwitch",!0),s.$store.dispatch("mymanage/fetchManageInfo")),t?location.replace(decodeURIComponent(t)):s.$router.replace("/")}else s.$router.replace("/login")})):this.$router.replace("/login")}})},d=m,f=(s("119c"),s("2877")),p=Object(f["a"])(d,r,a,!1,null,"3fe6733a",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-be5d57ae.687c3927.js.map