{"version":3,"sources":["webpack:///./src/views/mine/myReserve/index.vue?6d7e","webpack:///./src/views/mine/myReserve/list.vue?b539","webpack:///src/views/mine/myReserve/list.vue","webpack:///./src/views/mine/myReserve/list.vue?f035","webpack:///./src/views/mine/myReserve/list.vue","webpack:///src/views/mine/myReserve/index.vue","webpack:///./src/views/mine/myReserve/index.vue?2a0c","webpack:///./src/views/mine/myReserve/index.vue","webpack:///./src/assets/imgs/shop/logo.png","webpack:///./src/views/mine/myReserve/index.vue?c41f","webpack:///./src/components/refreshLoading/index.vue?d607","webpack:///src/components/refreshLoading/index.vue","webpack:///./src/components/refreshLoading/index.vue?f880","webpack:///./src/components/refreshLoading/index.vue","webpack:///./src/views/mine/myReserve/list.vue?7993","webpack:///./src/components/refreshLoading/index.vue?199a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","onRefresh","scopedSlots","_u","key","fn","attrs","proxy","model","value","callback","$$v","isLoading","expression","finished","list","length","onLoad","loading","staticRenderFns","_l","item","index","$event","toDetail","productId","_f","imageUrl","_v","_s","productName","price","start","days","hours","minutes","seconds","directives","name","rawName","parentData","isNoData","$cdnImageUrl","props","type","default","data","mounted","methods","context","$router","push","path","component","components","refreshLoading","dataList","error","pageIndex","pageSize","timer","created","$util","isHaierApp","$store","dispatch","then","console","log","res","getList","beforeDestroy","clearTimeout","destroyed","getTimer","_list","map","_remaining","setTimeout","_resData","success","concat","module","exports","class","style","color","textColor","text","_e","rectlist"],"mappings":"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","file":"js/chunk-2fde9938.dc3a28fb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},scopedSlots:_vm._u([{key:\"pulling\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"下拉刷新\"}})]},proxy:true},{key:\"loosing\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"下拉刷新\"}})]},proxy:true},{key:\"loading\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"加载中\"}})]},proxy:true},{key:\"success\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"加载完成\"}})]},proxy:true}]),model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finishedText\":_vm.list.length > 0 ? '没有更多啦~' : '',\"van-clearfix\":\"\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('data-list',{attrs:{\"parentData\":_vm.list,\"isNoData\":!_vm.isLoading && !_vm.loading}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-row',{staticClass:\"reserve-block\"},[_vm._l((_vm.parentData),function(item,index){return _c('van-col',{key:index,staticClass:\"line\",on:{\"click\":function($event){return _vm.toDetail(item.productId)}}},[_c('div',{staticClass:\"detail\"},[(item.imageUrl)?_c('img',{staticClass:\"thumbnail\",attrs:{\"src\":_vm._f(\"imageToHttps\")(item.imageUrl),\"alt\":\"商品封面图\"}}):_c('img',{staticClass:\"thumbnail\",attrs:{\"src\":require('@/assets/imgs/shop/logo.png'),\"alt\":\"商品封面图\"}}),_c('div',{staticClass:\"introduce\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(item.productName)+\" \")]),_c('div',{staticClass:\"price\"},[_vm._v(\" 预约价： \"),_c('span',[_vm._v(\"￥\")]),_c('font',[_vm._v(_vm._s(_vm._f(\"fmtMoneyFilter\")(item.price)))])],1),_c('div',[_vm._v(\" 距开抢：\"),_c('font',[_vm._v(\" \"+_vm._s(!item.start ? item.days : 0)+\" \")]),_vm._v(\"天\"),_c('font',[_vm._v(\" \"+_vm._s(!item.start ? item.hours : 0)+\" \")]),_vm._v(\"小时\"),_c('font',[_vm._v(\" \"+_vm._s(!item.start ? item.minutes : 0)+\" \")]),_vm._v(\"分\"),_c('font',[_vm._v(\" \"+_vm._s(!item.start ? item.seconds : 0)+\" \")]),_vm._v(\"秒 \")],1)])]),_c('div',{staticClass:\"option\"},[(item.start)?_c('div',{staticClass:\"panic-buying-btn color-red\"},[_vm._v(\"立即抢购\")]):_c('div',{staticClass:\"panic-buying-btn\"},[_vm._v(\"待抢购\")])])])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.parentData.length === 0 && _vm.isNoData),expression:\"parentData.length === 0 && isNoData\"}],staticClass:\"no-data\"},[_c('img',{attrs:{\"src\":_vm._f(\"imageToHttps\")((_vm.$cdnImageUrl + \"/personalCenter/new_collect.png\")),\"alt\":\"\"}}),_c('div',[_vm._v(\" 暂无预约 \")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <van-row class=\"reserve-block\">\n    <van-col @click=\"toDetail(item.productId)\" class=\"line\" v-for=\"(item, index) in parentData\" :key=\"index\">\n      <div class=\"detail\">\n        <img class=\"thumbnail\" v-if=\"item.imageUrl\" :src=\"item.imageUrl | imageToHttps\" alt=\"商品封面图\"/>\n        <img v-else class=\"thumbnail\" :src=\"require('@/assets/imgs/shop/logo.png')\" alt=\"商品封面图\"/>\n        <div class=\"introduce\">\n          <div class=\"title\">\n            {{item.productName}}\n          </div>\n          <div class=\"price\">\n            预约价：\n            <span>￥</span>\n            <font>{{item.price | fmtMoneyFilter}}</font>\n          </div>\n          <div>\n            距开抢：<font> {{!item.start ? item.days : 0}} </font>天<font> {{!item.start ? item.hours : 0}} </font>小时<font> {{!item.start ? item.minutes : 0}} </font>分<font> {{!item.start ? item.seconds : 0}} </font>秒\n          </div>\n        </div>\n      </div>\n      <div class=\"option\">\n        <div v-if=\"item.start\" class=\"panic-buying-btn color-red\">立即抢购</div>\n        <div v-else class=\"panic-buying-btn\">待抢购</div>\n      </div>\n    </van-col>\n    <!--列表空数据-->\n    <div class=\"no-data\" v-show=\"parentData.length === 0 && isNoData\">\n      <img :src=\"`${$cdnImageUrl}/personalCenter/new_collect.png` | imageToHttps\" alt=\"\"/>\n      <div>\n        暂无预约\n      </div>\n    </div>\n  </van-row>\n</template>\n\n<script>\n/*\n * 列表\n*/\nexport default {\n  name: 'myReserveList',\n  props: {\n    /**\n     * 父组件传入数据源\n     */\n    parentData: {\n      type: null,\n      default: function () {\n        return {}\n      },\n    },\n    isNoData: {\n      type: null,\n      default: function () {\n        return {}\n      },\n    }\n  },\n  data() {\n    return {\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    /**\n     * @description 点击跳转到对应详情页面\n    */\n    toDetail(id) {\n      const context = this;\n      context.$router.push({\n        path: `/goodsDetail?productId=${id}`,\n      });\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.reserve-block {\n  // min-height: calc( 100vh - 0.92rem);\n\n  .line {\n    width: 100%;\n    margin: 0.18rem 0 0 0;\n    border-bottom: 0.01rem solid rgba(238,238,238,1);\n    background: #ffffff;\n\n    .detail {\n      padding: 0.24rem;\n      display: flex;\n      // justify-content: space-between;\n      font-size: 0.24rem;\n      color: rgba(51,51,51,1);\n\n      .thumbnail {\n        width: 1.6rem;\n        height: 1.6rem;\n        margin: 0 0.16rem 0 0;\n      }\n\n      .introduce {\n\n        div {\n          margin: 0 0 0.1rem 0;\n        }\n\n        .title {\n          font-size: 0.28rem;\n          font-weight: 400;\n          color: rgba(51,51,51,1);\n          line-height: 0.40rem;\n        }\n\n        font, span {\n          color: $themeOrange;\n          font-size: 0.24rem;\n        }\n\n        .price font {\n          font-size: 0.32rem;\n        }\n\n      }\n\n    }\n\n    .option {\n      border-top: 0.01rem solid rgba(238,238,238,1);\n      padding: 0.24rem 0.32rem;\n      display: flex;\n      justify-content: flex-end;\n\n      .panic-buying-btn {\n        display: block;\n        padding: 0 0.4rem;\n        height: 0.56rem;\n        border-radius: 0.28rem;\n        border: 0.01rem solid $themeColor;\n        font-size: 0.28rem;\n        font-weight: 400;\n        color: $themeColor;\n        line-height: 0.58rem;\n        margin: 0 0 0 0.20rem;\n      }\n\n      .color-red {\n        color: $themeOrange;\n        border-color: $themeOrange;\n      }\n\n    }\n\n  }\n\n}\n\n/*\n * 没有数据\n */\n.no-data {\n  margin: 0 0 5rem 0;\n\n  img {\n    display: block;\n    width: 2.4rem;\n    height: 2.4rem;\n    padding: 40% 0 0 0;\n    margin: 0 auto;\n  }\n\n  div {\n    font-size: 0.30rem;\n    text-align: center;\n    color: #666666;\n    margin-top: 0.3rem;\n  }\n\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=2089a814&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=2089a814&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2089a814\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"content\">\n    <!--下啦刷新-->\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n      <template #pulling><refreshLoading text=\"下拉刷新\"/></template>\n      <template #loosing><refreshLoading text=\"下拉刷新\"/></template>\n      <template #loading><refreshLoading text=\"加载中\"/></template>\n      <template #success><refreshLoading text=\"加载完成\"/></template>\n      <!--上啦加载-->\n      <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        :finishedText=\"list.length > 0 ? '没有更多啦~' : ''\"\n        @load=\"onLoad\"\n        van-clearfix\n        :immediate-check=\"false\"\n      >\n        <!--数据列表-->\n        <data-list :parentData = \"list\" :isNoData=\"!isLoading && !loading\"></data-list>\n      </van-list>\n    </van-pull-refresh>\n  </div>\n</template>\n\n<script>\nimport refreshLoading from '@/components/refreshLoading'\n\n/*\n * 数据列表\n*/\nimport dataList from './list';\n\n/*\n * 接口配置文件\n*/\nimport personalApi from '@/http/service/index';\n\n/**\n * vant框架\n */\nimport Vue from 'vue';\nimport { Toast, List, PullRefresh } from 'vant';\n// 全局注册\nVue.use({ Toast, List, PullRefresh });\n\n/*\n * 个人中心-我的预约页面\n*/\nexport default {\n  name: 'myReserveIndex',\n  components: {\n    refreshLoading,\n    dataList,\n  },\n  data() {\n    return {\n      /**\n       * {pageIndex} 页码\n       * {pageSize} 每页条数，大小\n       * {isLoading} 下啦刷新loading\n       * {loading} 上啦加载更多的loading\n       * {finished} 上啦加载完成\n       * {list} 数据列表\n       * {timer} 计时器\n       */\n      error: false,\n      loading: false,\n      finished: false,\n      pageIndex: 1,\n      pageSize: 5,\n      isLoading: false,\n      list: [],\n      timer: null,\n    }\n  },\n  created() {\n  },\n  mounted() {\n    const context = this;\n    // 判断登陆状态，未登录便登陆\n    if (context.$util.isHaierApp()) { // 智家\n      context.$store.dispatch('handleUpAuth').then((res) => {\n        console.log(res); // return true / false\n        if (res) {\n          context.isLoading = true;\n          context.list = [];\n          context.getList();\n        } else {\n          Toast.fail('用户信息异常')\n        }\n      });\n    } else {\n      context.isLoading = true;\n      context.list = [];\n      context.getList();\n    }\n  },\n  beforeDestroy() {\n    // 清除定时器\n    const context = this;\n    clearTimeout(context.timer);\n  },\n  destroyed() {\n    // 清除定时器\n    const context = this;\n    clearTimeout(context.timer);\n  },\n  methods: {\n\n    /**\n     * 计时器\n     * 我的预约巨离开抢的倒计时\n     */\n    getTimer() {\n      const context = this;\n      const _list = context.list;\n      // 清除计时器\n      clearTimeout(context.timer);\n      // console.log('计时器、倒计时');\n      const nowTime = new Date().getTime();\n      _list.map((item, index) => {\n        let _remaining = parseFloat(item.purchaseStartTime) - parseFloat(nowTime);\n        const days = parseInt(_remaining / (1000 * 60 * 60 * 24));\n        const hours = parseInt((_remaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = parseInt((_remaining % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = parseInt((_remaining % (1000 * 60)) / 1000);\n        item.days = days;\n        item.hours = hours;\n        item.minutes = minutes;\n        item.seconds = seconds;\n        item.start = _remaining <= 0; // 活动是否开启\n      })\n\n      // 重新执行计时器\n      context.timer = setTimeout(function() {\n        context.getTimer()\n      }, 1000)\n    },\n\n    /**\n     * @description 下拉刷新,下啦刷新同时清空现有数据，页码初始化0\n     * @param {list} 数据列表\n     */\n    onRefresh() {\n      const context = this;\n      context.pageIndex = 1;\n      context.list = [];\n      context.onLoad();\n    },\n\n    /**\n     * 页面上拉触底事件的处理函数，加载更多\n     */\n    onLoad() {\n      const context = this;\n      context.isLoading = false;\n      context.getList();\n    },\n\n    /**\n     * @description 我的预约列表\n     * 返回接口请求数据\n    */\n    getList () {\n      const context = this;\n      const data = {\n        pageIndex: context.pageIndex,\n      }\n\n      personalApi.getMyReserve(data).then(res => {\n        const _resData = res.data;\n        // 手动清除 Toast\n        Toast.clear();\n        if (_resData.success) {\n          // 下啦刷新完成\n          if (context.isLoading) {\n            context.list = [];\n            context.isLoading = false;\n          }\n          // 接口返回list添加自定义字段\n          _resData.data.map((item, index) => {\n            item.days = 0;\n            item.hours = 0;\n            item.minutes = 0;\n            item.seconds = 0;\n            item.start = false; // 活动是否开启\n          })\n          // 如果是第一页的话，清空原有的数据列表\n          context.list = context.pageIndex === 1 ? [] : context.list;\n          context.list = context.list.concat(_resData.data);\n\n          // 开启计时器\n          context.getTimer();\n\n          // 加载状态结束\n          context.finished = false;\n          context.loading = false;\n\n          // 数据全部加载完成\n          if (_resData.data.length === 0 || _resData.data.length < context.pageSize) {\n            context.finished = true;\n          }\n        } else {\n          Toast.fail(_resData.message)\n        }\n      })\n    },\n\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  .van-pull-refresh {\n    min-height: 1rem;\n  }\n\n  ::v-deep.van-list {\n    // min-height: calc( 100vh - 2rem);\n    min-height: calc( 100vh - 0.92rem);\n  }\n\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3548f8f0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3548f8f0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3548f8f0\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo.6ca4023e.png\";","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3548f8f0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"refresh-load\"},[_c('div',{staticClass:\"spinner\"},_vm._l((_vm.rectlist),function(item){return _c('div',{key:item,class:(\"rect\" + item),style:({'background-color': _vm.color})})}),0),(_vm.text)?_c('div',{staticClass:\"spinner-text\",style:({'color': _vm.textColor})},[_vm._v(_vm._s(_vm.text))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"refresh-load\">\n    <div class=\"spinner\">\n      <div v-for=\"item in rectlist\" :key=\"item\" :class=\"`rect${item}`\" :style=\"{'background-color': color}\"></div>\n    </div>\n    <div class=\"spinner-text\" v-if=\"text\" :style=\"{'color': textColor}\">{{text}}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'refreshLoading',\n  props: ['text', 'color', 'textColor'],\n  data() {\n    return {\n      rectlist: [1, 2, 3, 4, 5],\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.refresh-load{\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  box-sizing: border-box;\n}\n.spinner-text{\n  height: .4rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: .2rem;\n  text-align: center;\n}\n.spinner {\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 30px;\n  height: 21px;\n  text-align: center;\n  font-size: .2rem;\n}\n\n.spinner > div {\n  height: 100%;\n  width: 3px;\n  display: block;\n  -webkit-animation: stretchdelay 1.2s infinite ease-in-out;\n  animation: stretchdelay 1.2s infinite ease-in-out;\n  background: #337FFF;\n}\n\n.spinner .rect2 {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n\n.spinner .rect3 {\n  -webkit-animation-delay: -1.0s;\n  animation-delay: -1.0s;\n}\n\n.spinner .rect4 {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n\n.spinner .rect5 {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n\n@-webkit-keyframes stretchdelay {\n  0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n  20% { -webkit-transform: scaleY(1.0) }\n}\n\n@keyframes stretchdelay {\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4);\n  }  20% {\n    transform: scaleY(1.0);\n    -webkit-transform: scaleY(1.0);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9448457e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9448457e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9448457e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=2089a814&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=9448457e&lang=scss&scoped=true&\""],"sourceRoot":""}