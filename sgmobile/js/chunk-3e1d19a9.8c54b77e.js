(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e1d19a9","chunk-2b4715e4"],{"0f25":function(t,e,o){"use strict";o("87c3")},"101d":function(t,e,o){},"23d3":function(t,e,o){"use strict";var i=o("c63d");e["a"]={components:{topFeedBack:i["default"]},data:function(){return{showToTopFlag:!1}},activated:function(){this.fnScroll()},beforeRouteLeave:function(t,e,o){document.getElementById("app-warp").removeEventListener("scroll",this.addEventScrollFn),o()},beforeMount:function(){this.debouncedAction=this.$util.throttle(this.option,100)},methods:{fnScrollToTop:function(){this.scrollSmoothTo(0)},hiddenFeedBack:function(){this.showToTopFlag=!1},scrollSmoothTo:function(t){console.log("#app-warp scroll"),window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)});var e=document.querySelector("#app-warp"),o=e.scrollTop;console.log(o,"scrollTop");var i=function i(){var s=t-o;o+=s/10,Math.abs(s)<1?e.scrollTo(0,t):(e.scrollTo(0,o),requestAnimationFrame(i))};i()},fnScroll:function(){document.getElementById("app-warp").addEventListener("scroll",this.addEventScrollFn)},addEventScrollFn:function(t){this.debouncedAction(t)},option:function(t){var e=t.target.scrollTop;this.showToTopFlag=e>200}}}},"347c":function(t,e,o){},"3eef":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"parent"},[o("img",{staticClass:"img",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_rank_empty.png"}}),o("div",{staticClass:"title"},[t._v("当前定位没有符合的品类排行榜")]),o("div",{staticClass:"text"},[t._v("您可以去商城逛逛~")]),o("div",{staticClass:"button",on:{click:t.toShopHome}},[t._v(" 去商城逛逛 ")])])},s=[],n={name:"empty",methods:{toShopHome:function(){this.$util.isSgRn()||this.$util.isUplus()?this.$store.dispatch("doHistoryBack"):this.$router.replace("/")}}},a=n,r=(o("d243"),o("2877")),c=Object(r["a"])(a,i,s,!1,null,"06adbf2c",null);e["a"]=c.exports},"4b7d":function(t,e,o){"use strict";o("7fdc")},6596:function(t,e,o){},"7f07":function(t,e,o){},"7fdc":function(t,e,o){},"805c":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"toTop",staticClass:"category-body"},[o("nav-header",{attrs:{leftArrow:!t.$route.query.browerFirstIn}},[t.shareShow?o("div",{staticClass:"share-btn",style:{backgroundImage:"url("+t.$globalIcon.blackShareIcon+")"},attrs:{slot:"right"},on:{click:t.doShare},slot:"right"}):t._e()]),o("div",{staticStyle:{height:".92rem"}}),t.isSkeletonLoading?o("skeleton",{attrs:{nums:4,iheight:".4rem"}}):t._e(),t.showEmpty?o("empty"):t._e(),t.showEmpty||t.isSkeletonLoading?t._e():o("div",[o("div",{ref:"contentRow",staticClass:"content-row"},[o("div",{staticClass:"top-bg"},[o("div",{staticClass:"title-row"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_start_left.png",expression:"'https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_start_left.png'"}],staticClass:"symbol-img"}),o("div",{staticClass:"title-text"},[t._v(" "+t._s(t.categoryName)+"热销排行榜 ")]),o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_start_right.png",expression:"'https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_start_right.png'"}],staticClass:"symbol-img"})]),o("div",{staticClass:"title-des"},[t._v(" 公证数据 · 新鲜热门 · 每日更新 ")])]),o("div",{staticClass:"prod-list"},t._l(t.prodList,(function(t,e){return o("product-item",{key:t.sku+e,attrs:{index:e,prodInfo:t}})})),1),o("more-rank",{attrs:{cateList:t.cateList}}),o("div",{staticClass:"no-more"},[t._v("没有更多啦~")])],1),o("top-feedBack",{attrs:{isShow:t.showToTopFlag},on:{hiddenFeedBack:t.hiddenFeedBack,toTop:t.fnScrollToTop}})],1)],1)},s=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.prodInfo?o("div",{staticClass:"product-container"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.prodInfo.image,expression:"prodInfo.image"}],staticClass:"prod-img"}),o("div",{staticClass:"detail-row"},[o("div",{staticClass:"title"},[t._v(" "+t._s(t.prodInfo.productFullName)+" ")]),o("div",{staticClass:"sub-title"},[t._v(" "+t._s(t.prodInfo.sellPoint)+" ")]),o("div",{staticClass:"hot-row"},[t._v(" 热销指数"+t._s(t.prodInfo.saleScore)+" ")]),o("div",{staticClass:"final-price"},[t._v(" ￥"),o("span",{staticClass:"price-int"},[t._v(t._s(t.prodInfo.finalPrice.split(".")[0]))]),t._v("."),o("span",{staticStyle:{"font-size":".24rem"}},[t._v(t._s(t.prodInfo.finalPrice.split(".")[1]))])]),o("div",{staticClass:"button",on:{click:t.toDetail}},[t._v(" 去购买 ")])]),t.index<3?o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.hotImg[t.index],expression:"hotImg[index]"}],staticClass:"img-number-tag"}):o("div",{staticClass:"number-tag"},[t._v(" "+t._s(t.index+1)+" ")])]):t._e()},a=[],r={name:"productItem",props:{index:{type:Number,default:0},prodInfo:{type:Object,default:null}},data:function(){return{hotImg:["https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_top_hot_one.png","https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_top_hot_two.png","https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/rankList/icon_top_hot_three.png"]}},methods:{toDetail:function(){this.$util.gioTrackWithVariable("MB15613",{productId_var:this.prodInfo.productId+""}),this.$router.push("/goodsDetail?productId=".concat(this.prodInfo.productId))}}},c=r,l=(o("0f25"),o("2877")),d=Object(l["a"])(c,n,a,!1,null,"43189cb5",null),u=d.exports,p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"more-container"},[o("div",{staticClass:"title"},[t._v("更多榜单")]),o("van-grid",{attrs:{border:!1,"column-num":3}},t._l(t.cateList,(function(e,i){return o("div",{key:i,on:{click:function(o){return t.itemClick(e)}}},[o("div",{staticClass:"item-row"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],staticClass:"item-img"}),o("div",{staticClass:"item-tag"},[o("span",{staticClass:"tag-title"},[t._v(t._s(e.navigationName.slice(0,4)))]),o("span",{staticClass:"tag-text"},[t._v("热销榜")])])])])})),0),o("div",{staticClass:"all-rank",on:{click:t.checkAll}},[t._v("查看全部榜单")])],1)},h=[],m={name:"moreRank",props:{cateList:{type:Array,default:function(){return[]}}},methods:{itemClick:function(t){console.log(t),this.$router.push("/rankCategoryList?categoryId=".concat(t.catesId,"&categoryName=").concat(t.navigationName))},checkAll:function(){this.$router.push("/rankList")}}},f=m,g=(o("d10d"),Object(l["a"])(f,p,h,!1,null,"070f6abc",null)),v=g.exports,w=o("e725"),b=o("a73f"),y=o("3eef"),I=o("2f62"),_=o("23d3"),k=o("fcee");function C(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function S(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?C(Object(o),!0).forEach((function(e){L(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var T={scrollTop:0},O={name:"rankList",mixins:[_["a"]],components:{NavHeader:w["a"],ProductItem:u,MoreRank:v,Skeleton:b["a"],empty:y["a"]},data:function(){return{isSkeletonLoading:!0,shareShow:this.$util.isUplus()||this.$util.isSgRn(),categoryName:"",prodList:[],cateList:[],showEmpty:!1}},computed:S(S(S({},Object(I["d"])(["mId"])),Object(I["d"])({location:"getlocationInfo"})),{},{getShareId:function(){return sessionStorage.getItem("shareUserId")||""}}),watch:{location:function(t){this.getTopProds()}},activated:function(){this.getTopProds(),this.getCateList(),this.$nextTick((function(){document.querySelector(".app-warp").scrollTo(0,T.scrollTop||0)}))},beforeRouteLeave:function(t,e,o){T.scrollTop=document.querySelector(".app-warp").scrollTop,o()},mounted:function(){this.categoryName=this.$route.query.categoryName,this.getTopProds(),this.getCateList()},methods:{doShare:function(){var t=-1!==location.href.indexOf("?")?location.href+"&shareId="+this.mId:location.href+"?shareId="+this.mId;this.$util.inAppShare({url:t})},getTopProds:function(){var t=this;Object(k["getHotSaleProducts"])({streetId:this.location.townshipId,cityId:this.location.cityId,regionId:this.location.districtId,provinceId:this.location.provinceId,shareId:this.getShareId,productCateIds:this.$route.query.categoryId?this.$route.query.categoryId.split(","):[]}).then((function(e){var o=e.data;o.success?o.data.sgHotProducts.length<3?(t.isSkeletonLoading=!1,t.showEmpty=!0):Object(k["c"])({traceId:o.data.traceId}).then((function(e){t.isSkeletonLoading=!1,e.data.success?(o.data.sgHotProducts.map((function(t){t.sellPoint=!!t.sellPoint&&t.sellPoint.join(" | "),e.data.products.map((function(e){t.sku===e.sku&&(t.finalPrice=e.finalPrice.toFixed(2),t.commission=e.commission)}))})),t.prodList=o.data.sgHotProducts,console.log("prodList:",t.prodList)):t.showEmpty=!0})):(t.isSkeletonLoading=!1,t.showEmpty=!0)}))},getCateList:function(){var t=this;Object(k["a"])({parentId:0}).then((function(e){var o=e.data,i=[];o.data.map((function(t){var e=[];t.url&&t.url.includes("productCateId=")&&(e=t.url.replace("productCateId=","").split(";"),i.push(S(S({},t),{},{catesId:e})))})),i=i.filter((function(e){return e.catesId.join()!==t.$route.query.categoryId}));var s=[];i.map((function(e){s.push(Object(k["getHotSaleProducts"])({streetId:t.location.townshipId,cityId:t.location.cityId,regionId:t.location.districtId,provinceId:t.location.provinceId,shareId:t.getShareId,productCateIds:e.catesId}))})),Promise.all([].concat(s)).then((function(e){var o=[];e.map((function(t,e){var s=t.data;s.data.sgHotProducts&&s.data.sgHotProducts.length>2&&o.push(i[e])})),t.cateList=[].concat(o).slice(0,6)}))}))}}},$=O,P=(o("902b"),Object(l["a"])($,i,s,!1,null,"44eb617a",null));e["default"]=P.exports},"80cc":function(t,e,o){"use strict";o("347c")},"87c3":function(t,e,o){},"902b":function(t,e,o){"use strict";o("6596")},a73f:function(t,e,o){"use strict";var i=function(t,e){var o=e._c;return e.props.nums>0?o("div",{staticClass:"m-skeleton",style:{"z-index":e.props.zIndex||0}},[o("div",{style:{background:e.props.bgColor,height:e.props.fheight}}),e._l(e.props.nums-1,(function(t){return o("div",{key:t,style:{background:e.props.bgColor,height:e.props.iheight}})}))],2):e._e()},s=[],n=(o("80cc"),o("2877")),a={},r=Object(n["a"])(a,i,s,!0,null,null,null);e["a"]=r.exports},c63d:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isShow?o("div",{staticClass:"go-top",class:t.classList},[o("div",{staticClass:"top",on:{click:t.toGotop}},[o("img",{attrs:{src:t.$cdnImageUrl+"/common/common-to-top-icon.png"}}),o("span",[t._v("顶部")])]),t.isHaierApp&&t.feedShow?o("div",{staticClass:"divider"}):t._e(),t.isHaierApp&&t.feedShow?o("div",{staticClass:"bottom",on:{click:function(e){return t.toFeedBack()}}},[o("img",{attrs:{src:t.$cdnImageUrl+"/common/common-edit-icon.png"}}),o("span",[t._v("反馈")])]):t._e()]):t._e()},s=[],n={props:{isShow:{type:Boolean,default:function(){return!1}},classList:{type:Object,default:function(){return{}}},feedShow:{type:Boolean,default:function(){return!0}},code:{type:Number,default:function(){return null}}},data:function(){return{isHaierApp:!1,timer:null}},created:function(){this.isHaierApp=this.$util.isUplus()},watch:{isShow:{handler:function(t){var e=this;console.log(t),console.log("this.timer:",this.timer),t?this.timer?(clearTimeout(this.timer),this.timer=null):this.timer=setTimeout((function(){e.hiddenFeedBack()}),4e3):(clearTimeout(this.timer),this.timer=null)}}},methods:{hiddenFeedBack:function(){console.log("hiddenFeedBack"),this.$emit("hiddenFeedBack")},toGotop:function(){this.$emit("toTop")},toFeedBack:function(){if(this.$store.getters.getLoginStatus){var t="https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html";this.code&&(t="https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html?code="+this.code),this.$util.openNewWindow(t,!0,!1,!1)}else this.$store.dispatch("doLogin").then((function(t){400===t&&console.log("请求异常")}))}}},a=n,r=(o("4b7d"),o("2877")),c=Object(r["a"])(a,i,s,!1,null,"7733b653",null);e["default"]=c.exports},d10d:function(t,e,o){"use strict";o("101d")},d243:function(t,e,o){"use strict";o("7f07")}}]);
//# sourceMappingURL=chunk-3e1d19a9.8c54b77e.js.map