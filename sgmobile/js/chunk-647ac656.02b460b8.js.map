{"version":3,"sources":["webpack:///./src/views/order/thridEvaluate/components/tagList.vue?61c1","webpack:///./src/views/order/thridEvaluate/components/inputInfo.vue?c667","webpack:///./node_modules/vant/es/image-preview/style/index.js","webpack:///./src/views/order/thridEvaluate/index.vue?5a34","webpack:///./src/views/order/thridEvaluate/index.vue?a85b","webpack:///./src/http/service/thridEvaluate.js","webpack:///./src/views/order/thridEvaluate/components/tagList.vue?a8c3","webpack:///src/views/order/thridEvaluate/components/tagList.vue","webpack:///./src/views/order/thridEvaluate/components/tagList.vue?0848","webpack:///./src/views/order/thridEvaluate/components/tagList.vue","webpack:///./src/views/order/thridEvaluate/components/evaluateTop.vue?2060","webpack:///./src/views/order/thridEvaluate/components/tagInfo.vue?28e4","webpack:///src/views/order/thridEvaluate/components/tagInfo.vue","webpack:///./src/views/order/thridEvaluate/components/tagInfo.vue?3605","webpack:///./src/views/order/thridEvaluate/components/tagInfo.vue","webpack:///src/views/order/thridEvaluate/components/evaluateTop.vue","webpack:///./src/views/order/thridEvaluate/components/evaluateTop.vue?8a0b","webpack:///./src/views/order/thridEvaluate/components/evaluateTop.vue","webpack:///./src/views/order/thridEvaluate/components/inputInfo.vue?4bdc","webpack:///src/views/order/thridEvaluate/components/inputInfo.vue","webpack:///./src/views/order/thridEvaluate/components/inputInfo.vue?b19f","webpack:///./src/views/order/thridEvaluate/components/inputInfo.vue","webpack:///src/views/order/thridEvaluate/index.vue","webpack:///./src/views/order/thridEvaluate/index.vue?847f","webpack:///./src/views/order/thridEvaluate/index.vue","webpack:///./src/components/skeleton/index.vue?62cb","webpack:///./src/components/skeleton/index.vue?3508","webpack:///./src/components/skeleton/index.vue?db06","webpack:///./src/views/order/thridEvaluate/components/evaluateTop.vue?1f9f","webpack:///./src/views/order/thridEvaluate/components/tagInfo.vue?cc58"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","doBack","slot","_v","_s","orderSn","indexOf","type","on","onSubmit","_e","staticStyle","firstStatus","commentInfo","chooseType","allTagInfo","chooseTag","updateInfo","secondCommentInfo","secondStatus","staticRenderFns","getEvaluateDetail","data","get","URL","getTagList","saveEvaluate","param","post","saveEvaluateAppend","allTagList","_l","item","index","commentImpressionVOList","key","impressionTypeName","tag","i","class","active","isChecked","$event","impressionName","props","evaluateType","Number","default","tagList","Array","watch","handler","newVal","immediate","chooseList","methods","allList","parent","map","$emit","component","style","status","choose","isExpand","info","commentContent","imgList","length","img","imgI","previewImg","createDate","Object","cmtCommentSharePicsList","imgs","push","picFileUrl","images","startPosition","computed","createTime","dateStr","TimeUtil","isLook","Boolean","components","tagInfo","isInfo","id","isFocus","model","value","callback","$$v","content","expression","inputNum","onOverSize","updateInput","UploadImg","isHaierApp","$util","imgPreview","$toast","instance","initDeviceReady","skeleton","Header","evaluateTop","inputInfo","isSkeletonLoading","inputContent","mounted","$route","query","getDetail","$dialog","confirm","message","confirmButtonText","cancelButtonText","cancelButtonColor","$store","dispatch","corderSn","res","success","extComment","getTagInfo","loading","forbidClick","duration","checkTagList","star","fieldIdList","base64s","console","log","result","fileList","urls","imgUrl","submitEvaluate","getCheckTag","subItem","exceptEmpty","obj","nums","zIndex","bgColor","height","fheight","iheight","script"],"mappings":"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","file":"js/chunk-647ac656.02b460b8.js","sourcesContent":["export * from \"-!../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagList.vue?vue&type=style&index=0&id=ad6b78f8&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputInfo.vue?vue&type=style&index=0&id=528c2682&lang=scss&scoped=true&\"","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../image/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../../swipe/index.css';\nimport '../../swipe-item/index.css';\nimport '../index.css';","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0abc1157&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isSkeletonLoading)?_c('skeleton',{attrs:{\"nums\":3}}):_c('div',{staticClass:\"content\"},[_c('Header',{attrs:{\"leftClick\":_vm.doBack}},[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"text\"},[_vm._v(\"订单评价\")]),_c('span',[_vm._v(\"零售单 \"+_vm._s(_vm.orderSn))])]),([1,2].indexOf(_vm.type) !== -1)?_c('div',{staticClass:\"right-btn\",attrs:{\"slot\":\"right\"},on:{\"click\":_vm.onSubmit},slot:\"right\"},[_vm._v(\" 提交 \")]):_vm._e()]),_c('div',{staticStyle:{\"height\":\".92rem\"}}),_c('evaluateTop',{attrs:{\"isLook\":_vm.type > 1,\"status\":_vm.firstStatus,\"evaluateType\":0,\"commentInfo\":_vm.commentInfo},on:{\"choose\":_vm.chooseType}}),((_vm.type <= 1) && _vm.firstStatus >= 0)?[_c('tag-list',{attrs:{\"tagList\":_vm.allTagInfo,\"evaluateType\":0},on:{\"chooseTag\":_vm.chooseTag}}),_c('input-info',{attrs:{\"status\":_vm.firstStatus,\"evaluateType\":0},on:{\"updateInfo\":_vm.updateInfo}})]:_vm._e(),(_vm.type === 2 || (_vm.type === 3 && _vm.secondCommentInfo !== null))?[_c('evaluateTop',{attrs:{\"isLook\":_vm.type === 3,\"status\":_vm.secondStatus,\"evaluateType\":1,\"commentInfo\":_vm.secondCommentInfo},on:{\"choose\":_vm.chooseType}}),((_vm.type === 2) && _vm.secondStatus >= 0)?[_c('tag-list',{attrs:{\"tagList\":_vm.allTagInfo,\"evaluateType\":1},on:{\"chooseTag\":_vm.chooseTag}}),_c('input-info',{attrs:{\"status\":_vm.secondStatus,\"evaluateType\":1},on:{\"updateInfo\":_vm.updateInfo}})]:_vm._e()]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * 外部订单评价相关\n */\nimport URL from '../url.js'\nimport { get, post } from '../http'\n\n/** 获取评价详情 */\nexport const getEvaluateDetail = data => get(URL.getEvaluateDetail, data);\n/**\n * 获取评价标签列表\n */\nexport const getTagList = data => get(URL.getTagList, data);\n/** 保存首评 */\nexport const saveEvaluate = param => post(URL.saveEvaluate, param);\n/** 保存追评 */\nexport const saveEvaluateAppend = param => post(URL.saveEvaluateAppend, param);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.allTagList.length)?_c('div',{staticClass:\"content\"},[_vm._l((_vm.allTagList),function(item,index){return [(item.commentImpressionVOList.length)?_c('div',{key:index},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.impressionTypeName))]),_c('div',{staticClass:\"tag-row\"},[_vm._l((item.commentImpressionVOList),function(tag,i){return [_c('div',{key:i,staticClass:\"tag-normal\",class:{active: tag.isChecked},on:{\"click\":function($event){return _vm.chooseTag(i, index)}}},[_c('span',[_vm._v(_vm._s(tag.impressionName))])])]})],2)]):_vm._e()]})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\" v-if=\"allTagList.length\">\n    <template v-for=\"(item, index) in allTagList\">\n      <div v-if=\"item.commentImpressionVOList.length\" :key=\"index\">\n        <div class=\"title\">{{item.impressionTypeName}}</div>\n        <div class=\"tag-row\">\n          <template v-for=\"(tag,i) in item.commentImpressionVOList\">\n            <div class=\"tag-normal\" :class=\"{active: tag.isChecked}\" :key=\"i\" @click=\"chooseTag(i, index)\">\n              <span>{{tag.impressionName}}</span>\n            </div>\n          </template>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    evaluateType: { // 0-首评 1-追评\n      type: Number,\n      default: 0,\n    },\n    tagList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  watch: {\n    tagList: {\n      handler(newVal) {\n        this.allTagList = newVal;\n      },\n      immediate: true\n    },\n  },\n  data() {\n    return {\n      allTagList: [],\n      chooseList: [],\n    };\n  },\n  methods: {\n    chooseTag(tag, parent) {\n      let allList = this.allTagList;\n      allList[parent].commentImpressionVOList.map((item, index) => {\n        if (tag === index) {\n          item.isChecked = !item.isChecked;\n        }\n      });\n      this.allTagList = [...allList];\n      // tag.isChecked = !tag.isChecked;\n      this.$emit('chooseTag', this.allTagList, this.evaluateType);\n    }\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.content {\n  width: 100%;\n  background: white;\n  box-sizing: border-box;\n  border-radius: .24rem;\n  padding: 0 .24rem .24rem .24rem;\n  margin: .16rem 0;\n}\n.title {\n  height: 0.36rem;\n  opacity: 1;\n  font-size: 0.26rem;\n  font-family: PingFangSC, PingFangSC-Medium;\n  font-weight: 500;\n  text-align: left;\n  color: #333333;\n  padding-top: .24rem;\n}\n.tag-row {\n  display: flex;\n  flex-wrap: wrap;\n}\n.tag-normal {\n  min-height: 0.5rem;\n  opacity: 1;\n  border: 1px solid #e5e5e5;\n  border-radius: 0.27rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: .16rem .16rem 0 0;\n  box-sizing: border-box;\n  color: #999;\n  padding: .1rem .12rem;\n  span {\n    font-size: .24rem;\n    display: inline-block;\n    transform: scale(.91);\n    line-height: .28rem;\n  }\n}\n.tag-normal.active {\n  min-height: 0.5rem;\n  background: rgba(40,120,255,0.10);\n  border: 1px solid #2878ff;\n  border-radius: 0.27rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: .16rem .16rem 0 0;\n  box-sizing: border-box;\n  padding: .1rem .12rem;\n  color: #2878FF;\n  span {\n    font-size: .24rem;\n    display: inline-block;\n    transform: scale(.91);\n    line-height: .28rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tagList.vue?vue&type=template&id=ad6b78f8&scoped=true&\"\nimport script from \"./tagList.vue?vue&type=script&lang=js&\"\nexport * from \"./tagList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tagList.vue?vue&type=style&index=0&id=ad6b78f8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad6b78f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\",style:({'marginTop': _vm.evaluateType === 1 ? '.16rem' : 0, 'borderRadius': _vm.evaluateType === 1 ? '.24rem' : '0 0 .24rem .24rem'})},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.evaluateType === 0 ? (_vm.status === -1 ? '您对本次门店购物是否满意?' : '首次评价') : (_vm.status === -1 ? '您对本次门店购物追加评价?' : '追加评价'))+\" \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"status-row\",on:{\"click\":function($event){return _vm.choose(1)}}},[_c('img',{attrs:{\"src\":(\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/good-\" + (_vm.chooseType === 1 ? 'select' : 'normal') + \".png\")}}),_c('span',[_vm._v(\"满意\")])]),_c('div',{staticClass:\"status-row\",on:{\"click\":function($event){return _vm.choose(0)}}},[_c('img',{attrs:{\"src\":(\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/bad-\" + (_vm.chooseType === 0 ? 'select' : 'normal') + \".png\")}}),_c('span',[_vm._v(\"不满意\")])])]),(_vm.isExpand)?_c('tag-info',{attrs:{\"info\":_vm.commentInfo}}):_vm._e(),(_vm.isLook)?_c('div',{staticClass:\"expand\",on:{\"click\":function($event){_vm.isExpand = !_vm.isExpand}}},[_c('span',[_vm._v(_vm._s(_vm.isExpand ? '折叠评价' : '展开评价'))]),_c('img',{attrs:{\"src\":(\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/\" + (_vm.isExpand ? 'order-info-expand-up' : 'order-info-expand-down') + \".png\")}})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[(_vm.info.commentImpressionTypeList)?_vm._l((_vm.info.commentImpressionTypeList),function(item,index){return _c('div',{key:index,staticClass:\"row\"},[_c('div',{staticClass:\"tag-name\"},[_vm._v(_vm._s(item.impressionTypeName))]),_c('div',{staticClass:\"tag-row\"},_vm._l((item.commentImpressionVOList),function(tag,i){return _c('div',{key:i,staticClass:\"tag-content\"},[_vm._v(\" \"+_vm._s(tag.impressionName)+\" \")])}),0)])}):_vm._e(),((!!_vm.info.commentContent) || _vm.imgList.length)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"tag-name\"},[_vm._v(\"评价内容\")]),_c('div',[_c('div',{staticClass:\"tag-content evaluate-content\"},[_vm._v(\" \"+_vm._s(_vm.info.commentContent || '')+\" \")]),_c('div',{staticClass:\"img-row\"},_vm._l((_vm.imgList),function(img,imgI){return _c('img',{key:imgI,attrs:{\"src\":img},on:{\"click\":function($event){return _vm.previewImg(imgI)}}})}),0)])]):_vm._e(),(!!_vm.createDate)?_c('div',{staticClass:\"row\",staticStyle:{\"margin-bottom\":\".28rem\"}},[_c('div',{staticClass:\"tag-name\"},[_vm._v(\"评价时间\")]),_c('div',{staticClass:\"tag-row\"},[_c('div',{staticClass:\"tag-content\"},[_vm._v(\" \"+_vm._s(_vm.createDate)+\" \")])])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <template v-if=\"info.commentImpressionTypeList\">\n      <div class=\"row\" v-for=\"(item,index) in info.commentImpressionTypeList\" :key=\"index\">\n        <div class=\"tag-name\">{{item.impressionTypeName}}</div>\n        <div class=\"tag-row\">\n          <div class=\"tag-content\" v-for=\"(tag,i) in item.commentImpressionVOList\" :key=\"i\">\n            {{tag.impressionName}}\n          </div>\n        </div>\n      </div>\n    </template>\n    <div class=\"row\" v-if=\"(!!info.commentContent) || imgList.length\">\n      <div class=\"tag-name\">评价内容</div>\n      <div>\n        <div class=\"tag-content evaluate-content\">\n          {{info.commentContent || ''}}\n        </div>\n        <div class=\"img-row\">\n          <img v-for=\"(img, imgI) in imgList\" :key=\"imgI\" @click=\"previewImg(imgI)\" :src=\"img\"/>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\" style=\"margin-bottom: .28rem;\" v-if=\"!!createDate\">\n      <div class=\"tag-name\">评价时间</div>\n      <div class=\"tag-row\">\n        <div class=\"tag-content\">\n          {{createDate}}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Vue from 'vue';\nimport { ImagePreview } from 'vant'\nimport TimeUtil from '../../../../utils/TimeUtil';\nVue.use(ImagePreview);\nexport default {\n  props: {\n    evaluateType: { // 0-首评 1-追评\n      type: Number,\n      default: 0,\n    },\n    info: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      imgList: [],\n    };\n  },\n  watch: {\n    info: {\n      handler(newVal) {\n        if (newVal.cmtCommentSharePicsList && newVal.cmtCommentSharePicsList.length) {\n          const imgs = [];\n          newVal.cmtCommentSharePicsList.map(item => {\n            imgs.push(item.picFileUrl)\n          });\n          this.imgList = [...imgs];\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    previewImg(index) {\n      ImagePreview({\n        images: this.imgList,\n        startPosition: index,\n      });\n    }\n  },\n  computed: {\n    createDate() {\n      let dateStr = '';\n      if (this.info.createTime) {\n        dateStr = TimeUtil.formatAllFullDate(new Date(this.info.createTime));\n      }\n      return dateStr;\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.content {\n  background: white;\n  padding: 0 .24rem .24rem .2rem;\n  width: 100%;\n  box-sizing: border-box;\n  margin: auto;\n}\n.row {\n  width: 100%;\n  display: flex;\n  margin-bottom: .42rem;\n  flex-direction: row;\n}\n.tag-row {\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  margin-top: -.08rem;\n}\n.tag-name {\n  height: 0.26rem;\n  font-size: 0.26rem;\n  font-weight: 400;\n  text-align: left;\n  color: #666666;\n  line-height: 0.26rem;\n  margin-right: .24rem;\n  white-space: nowrap;\n}\n.tag-content {\n  margin-right: .16rem;\n  opacity: 1;\n  font-size: 0.26rem;\n  font-family: PingFangSC, PingFangSC-Regular;\n  font-weight: 400;\n  text-align: left;\n  color: #333333;\n  line-height: 0.26rem;\n  padding: .08rem 0;\n}\n.evaluate-content {\n  display: flex;\n  line-height: .32rem;\n  position: relative;\n  top: -.12rem;\n}\n.img-row {\n  position: relative;\n  top: -.2rem;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  img {\n    height: 1.32rem;\n    width: 1.32rem;\n    margin: .16rem .08rem 0 0;\n    border-radius: .16rem;\n    background: gray;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tagInfo.vue?vue&type=template&id=3b224872&scoped=true&\"\nimport script from \"./tagInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./tagInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tagInfo.vue?vue&type=style&index=0&id=3b224872&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b224872\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"content\" :style=\"{'marginTop': evaluateType === 1 ? '.16rem' : 0, 'borderRadius': evaluateType === 1 ? '.24rem' : '0 0 .24rem .24rem'}\">\n    <div class=\"title\">\n      {{evaluateType === 0 ? (status === -1 ? '您对本次门店购物是否满意?' : '首次评价') : (status === -1 ? '您对本次门店购物追加评价?' : '追加评价')}}\n    </div>\n    <div class=\"row\">\n      <div class=\"status-row\" @click=\"choose(1)\">\n        <img :src=\"`https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/good-${chooseType === 1 ? 'select' : 'normal'}.png`\"/>\n        <span>满意</span>\n      </div>\n      <div class=\"status-row\" @click=\"choose(0)\">\n        <img :src=\"`https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/bad-${chooseType === 0 ? 'select' : 'normal'}.png`\"/>\n        <span>不满意</span>\n      </div>\n    </div>\n    <tag-info v-if=\"isExpand\" :info=\"commentInfo\"/>\n    <div class=\"expand\" v-if=\"isLook\" @click=\"isExpand = !isExpand\">\n      <span>{{isExpand ? '折叠评价' : '展开评价'}}</span>\n      <img :src=\"`https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/${isExpand ? 'order-info-expand-up' : 'order-info-expand-down'}.png`\"/>\n    </div>\n  </div>\n</template>\n<script>\nimport tagInfo from './tagInfo'\nexport default {\n  props: {\n    status: { // -1-未选择 0-不满意 1-满意 2-查看评价\n      type: Number,\n      default: -1,\n    },\n    isLook: { // 是否查看评价\n      type: Boolean,\n      default: false,\n    },\n    evaluateType: { // 0-首评 1-追评\n      type: Number,\n      default: 0,\n    },\n    commentInfo: { // 评价信息\n      type: Object,\n      default: () => {}\n    },\n  },\n  components: {\n    tagInfo\n  },\n  data() {\n    return {\n      chooseType: -1,\n      isExpand: false,\n      isInfo: false, // 显示评价内容\n    };\n  },\n  watch: {\n    status: {\n      handler(newVal) {\n        this.chooseType = newVal;\n      },\n      immediate: true,\n    }\n  },\n  methods: {\n    choose(id) {\n      if (!this.isLook) {\n        this.chooseType = id;\n        this.$emit('choose', id, this.evaluateType);\n      }\n    }\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.content {\n  width: 100%;\n  box-sizing: border-box;\n  background: white;\n  border-radius: 0 0 .24rem .24rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 auto;\n}\n.title {\n  height: 0.36rem;\n  opacity: 1;\n  font-size: 0.26rem;\n  font-family: PingFangSC, PingFangSC-Medium;\n  font-weight: 500;\n  text-align: left;\n  color: #333333;\n  line-height: 0.36rem;\n  padding-top: .4rem;\n}\n.row {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: .5rem .72rem ;\n}\n.status-row {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 .59rem;\n  img {\n    height: 1.1rem;\n    width: 1.1rem;\n  }\n  span {\n    height: 0.34rem;\n    opacity: 1;\n    font-size: 0.24rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 400;\n    text-align: center;\n    color: #333333;\n    line-height: 0.34rem;\n  }\n}\n.expand {\n  display: flex;\n  padding: .14rem 0 .24rem;\n  align-items: center;\n  span {\n    font-size: 0.24rem;\n    font-weight: 400;\n    color: #999999;\n    display: inline-block;\n    transform: scale(.91);\n  }\n  img {\n    height: .3rem;\n    width: .3rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./evaluateTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./evaluateTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./evaluateTop.vue?vue&type=template&id=773ac66c&scoped=true&\"\nimport script from \"./evaluateTop.vue?vue&type=script&lang=js&\"\nexport * from \"./evaluateTop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./evaluateTop.vue?vue&type=style&index=0&id=773ac66c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"773ac66c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"input-row\"},[(!_vm.isFocus)?_c('img',{attrs:{\"src\":\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/edit.png\"}}):_vm._e(),_c('van-field',{attrs:{\"type\":\"textarea\",\"maxlength\":\"500\",\"size\":\"large\",\"clearable\":\"\",\"border\":false,\"placeholder\":(\"可手动输入，标签不可描述的\" + (_vm.status === 0 ? '不' : '') + \"满意\")},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('div',{staticClass:\"input-count\"},[_vm._v(\" 已写\"),_c('span',[_vm._v(_vm._s(_vm.inputNum))]),_vm._v(\"个字 \")]),_c('upload-img',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"12px\"},attrs:{\"multiple\":true,\"maxCount\":9,\"imageFit\":\"fill\",\"oversize\":_vm.onOverSize,\"maxSize\":5 * 1024 * 1024},on:{\"onImagesChange\":_vm.updateInput},model:{value:(_vm.images),callback:function ($$v) {_vm.images=$$v},expression:\"images\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <div class=\"input-row\">\n      <img v-if=\"!isFocus\" src=\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/edit.png\"/>\n      <van-field\n        type=\"textarea\"\n        v-model=\"content\"\n        maxlength=\"500\"\n        size=\"large\"\n        clearable\n        :border=\"false\"\n        :placeholder=\"`可手动输入，标签不可描述的${status === 0 ? '不' : '' }满意`\"\n      />\n    </div>\n    <div class=\"input-count\">\n      已写<span>{{inputNum}}</span>个字\n    </div>\n    <upload-img\n      style=\"width:100%;margin-top: 12px\"\n      :multiple=\"true\"\n      :maxCount=\"9\"\n      v-model=\"images\"\n      imageFit=\"fill\"\n      :oversize=\"onOverSize\"\n      :maxSize=\"5 * 1024 * 1024\"\n      @onImagesChange=\"updateInput\"\n    ></upload-img>\n    <!-- <div class=\"img-row\" v-if=\"isHaierApp\">\n      <div class=\"img-container\" v-for=\"(item,index) in imgPreview\" :key=\"index\">\n        <img class=\"img-item\" :src=\"item\" @click=\"previewImg(index)\"/>\n        <img class=\"delete-icon\" src=\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/img-delete.png\" @click=\"onDeleteImg(index)\"/>\n      </div>\n      <div class=\"img-item\" v-if=\"imgPreview.length < 9\" @click=\"dosdkUpload\">\n        <img class=\"camera\" src=\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/camera.png\"/>\n        <div class=\"camera-des\">添加图片</div>\n      </div>\n    </div>\n    <div class=\"img-row\" v-else>\n      <van-uploader\n        v-model=\"images\"\n        multiple\n        :max-size=\"5 * 1024 * 1024\"\n        :after-read=\"uploadImg\"\n        @delete=\"onDeleteImg(e)\"\n        @oversize=\"onOverSize\"\n        :max-count=\"9\"\n        image-fit=\"fill\"\n      >\n        <img class=\"camera\" src=\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/camera.png\"/>\n        <div class=\"camera-des\">添加图片</div>\n      </van-uploader>\n    </div> -->\n  </div>\n</template>\n<script>\n// import UplusApi from '@uplus/uplus-api';\n// import Vue from 'vue';\n// import { ImagePreview } from 'vant'\n// Vue.use(ImagePreview);\n// const instance = new UplusApi()\n// instance.initDeviceReady()\nconst UploadImg = () => import('@/components/uploadImg');\n\nexport default {\n  components: {\n    UploadImg\n  },\n  props: {\n    evaluateType: { // 0-首评 1-追评\n      type: Number,\n      default: 0,\n    },\n    status: { // 0-不满意 1-满意\n      type: Number,\n      default: 1,\n    },\n  },\n  data() {\n    return {\n      content: '',\n      isFocus: false,\n      inputNum: 0,\n      isHaierApp: this.$util.isHaierApp(),\n      images: [],\n      imgPreview: [],\n    }\n  },\n  watch: {\n    content(newVal) {\n      this.inputNum = newVal.length;\n      this.isFocus = this.inputNum > 0;\n      this.$emit('updateInfo', this.content, this.images, this.evaluateType);\n    }\n  },\n  methods: {\n    /**\n     * 向父组件回传输入内容\n     */\n    updateInput() {\n      this.$emit('updateInfo', this.content, this.images, this.evaluateType);\n    },\n    onOverSize() {\n      this.$toast('图片不可大于5M');\n    },\n    // previewImg(index) {\n    //   ImagePreview({\n    //     images: this.imgPreview,\n    //     startPosition: index,\n    //   });\n    // },\n    // onDeleteImg(index) {\n    //   console.log(index);\n    //   console.log('images:', this.images);\n    //   if (this.isHaierApp) {\n    //     this.images.splice(index, 1);\n    //     this.imgPreview.splice(index, 1);\n    //   }\n    //   this.updateInput();\n    // },\n    /**\n     * 智家sdk上传\n     */\n    // dosdkUpload() {\n    //   this.$toast.loading({\n    //     message: '图片处理中...',\n    //     forbidClick: true,\n    //     duration: 0,\n    //   })\n    //   instance.initDeviceReady().then(() => {\n    //     console.log('sdk upload ====>')\n    //     instance.upImageModule.imagePicker({\n    //       max: 9,\n    //       typeMode: 0,\n    //       singleChoice: false,\n    //       showCamera: false,\n    //       tips: '请选择照片',\n    //       cropImage: false,\n    //       showOriginalBtn: true,\n    //       allFileSizeByteLimit: 45 * 1024 * 1024\n    //     }).then((res) => {\n    //       console.log('success:path', res);\n    //       if (res.retData.list.length) {\n    //         let paths = res.retData.list.map(item => item.path);\n    //         console.log('file paths', paths)\n    //         instance.upImageModule.fileToBase64({ filePaths: paths }).then((result) => {\n    //           console.log('result base64 arr', result);\n    //           this.images = this.images.concat(\n    //             result.retData.map(item => {\n    //               return item.base64Data\n    //             })\n    //           ).splice(0, 9)\n    //           this.imgPreview = this.imgPreview.concat(\n    //             result.retData.map(item => {\n    //               return 'data:image/png;base64,' + item.base64Data\n    //             })\n    //           ).splice(0, 9)\n    //           console.log(this.images, 'this.images')\n    //           this.updateInput();\n    //           this.$toast.clear();\n    //         }, (err) => {\n    //           console.log('base64 err', err);\n    //           this.$toast.clear();\n    //         })\n    //       } else {\n    //         console.log('imagePicker err')\n    //         this.$toast.clear();\n    //       }\n    //     }).catch((err) => {\n    //       console.log('sdk imagePicker', err)\n    //       this.$toast.clear();\n    //     });\n    //   })\n    // },\n    /**\n     * @description  传本地完成后\n    */\n    // uploadImg(file) {\n    //   this.images.forEach(item => {\n    //     console.log('前', item.file)\n    //     if (/\\/(?:jpeg|png|jpg)/i.test(item.file.type) && item.file.size > 1000000) {\n    //     // 创建Canvas对象(画布)\n    //       let canvas = document.createElement('canvas')\n    //       // 获取对应的CanvasRenderingContext2D对象(画笔)\n    //       let context = canvas.getContext('2d')\n    //       // 创建新的图片对象\n    //       let img = new Image()\n    //       // 指定图片的DataURL(图片的base64编码数据)\n    //       img.src = item.content\n    //       // 监听浏览器加载图片完成，然后进行进行绘制\n    //       img.onload = () => {\n    //       // 指定canvas画布大小，该大小为最后生成图片的大小\n    //         canvas.width = 400\n    //         canvas.height = 300\n    //         /* drawImage画布绘制的方法。(0,0)表示以Canvas画布左上角为起点，400，300是将图片按给定的像素进行缩小。\n    //     如果不指定缩小的像素图片将以图片原始大小进行绘制，图片像素如果大于画布将会从左上角开始按画布大小部分绘制图片，最后的图片就是张局部图。 */\n    //         context.drawImage(img, 0, 0, 400, 300)\n    //         // 将绘制完成的图片重新转化为base64编码，file.file.type为图片类型，0.92为默认压缩质量\n    //         const base64Data = canvas.toDataURL(item.file.type, 0.92);\n    //         let blob = this.dataURLtoBlob(base64Data);\n    //         // let file = this.blobToFile(blob);\n    //         // blob转file\n    //         let file = new window.File([blob], item.file.name, { type: item.file.type })\n    //         item.file = file\n    //         item.base64Data = base64Data.replace('data:image/png;base64,', '')\n    //         item.base64Data = item.base64Data.replace('data:image/jpeg;base64,', '')\n    //         item.base64Data = item.base64Data.replace('data:image/jpg;base64,', '')\n    //         console.log('item.file', item)\n    //       }\n    //     } else {\n    //       this.blobToDataURL(item.file, (base64) => {\n    //         item.base64Data = base64.replace('data:image/png;base64,', '')\n    //         item.base64Data = item.base64Data.replace('data:image/jpeg;base64,', '')\n    //         item.base64Data = item.base64Data.replace('data:image/jpg;base64,', '')\n    //       })\n    //     }\n    //   })\n    //   this.updateInput();\n    // },\n    /**\n     * @description  将base64转换为blob\n    */\n    // dataURLtoBlob: function(dataurl) {\n    //   var arr = dataurl.split(',');\n    //   var mime = arr[0].match(/:(.*?);/)[1];\n    //   var bstr = atob(arr[1]);\n    //   var n = bstr.length;\n    //   var u8arr = new Uint8Array(n);\n    //   while (n--) {\n    //     u8arr[n] = bstr.charCodeAt(n);\n    //   }\n    //   return new Blob([u8arr], { type: mime });\n    // },\n    /**\n     * file转base64\n    */\n    // blobToDataURL(blob, cb) {\n    //   let reader = new FileReader();\n    //   reader.onload = function (evt) {\n    //     let base64 = evt.target.result;\n    //     cb(base64);\n    //   };\n    //   reader.readAsDataURL(blob);\n    // }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.content {\n  width: 100%;\n  padding: .24rem;\n  box-sizing: border-box;\n  background: white;\n  border-radius: .24rem;\n}\n.input-row {\n  display: flex;\n  img {\n    height: .22rem;\n    width: .22rem;\n  }\n}\n.input-count {\n  color: #666;\n  font-size: .24rem;\n  display: inline-block;\n  transform: scale(.91);\n  span {\n    color: #2878FF;\n  }\n}\n.content ::v-deep .van-cell {\n  padding: 0;\n}\n.content ::v-deep .van-cell__value {\n  position: relative;\n  top: -.12rem;\n}\n.content ::v-deep .van-field__control {\n  font-size: .22rem;\n  min-height: 1.8rem;\n  color: #333;\n}\n// .img-row {\n//   margin-top: .2rem;\n//   display: flex;\n//   width: 100%;\n//   flex-wrap: wrap;\n//   .camera {\n//     height: .54rem;\n//     width: .64rem;\n//   }\n//   .camera-des {\n//     padding-top: .08rem;\n//     opacity: 1;\n//     font-size: 0.24rem;\n//     font-family: PingFangSC, PingFangSC-Regular;\n//     font-weight: 400;\n//     text-align: left;\n//     color: #999999;\n//     display: inline-block;\n//     transform: scale(.91);\n//   }\n// }\n// .img-container {\n//   position: relative;\n//   margin: 0 0.16rem 0.16rem 0;\n//   display: flex;\n// }\n// .img-item {\n//   height: 2.04rem;\n//   width: 2.04rem;\n//   background: #f7f7f7;\n//   border-radius: .24rem;\n//   align-items: center;\n//   display: flex;\n//   justify-content: center;\n//   flex-direction: column;\n//   object-fit: fill;\n//   overflow: hidden;\n// }\n// .delete-icon {\n//   position: absolute;\n//   height: .28rem;\n//   width: .28rem;\n//   border-radius: .24rem;\n//   top: -.08rem;\n//   right: -.04rem;\n//   z-index: 55;\n//   background: white;\n//   object-fit: cover;\n//   box-sizing: border-box;\n// }\n// .img-row ::v-deep .van-uploader__input-wrapper {\n//   height: 2.04rem;\n//   width: 2.04rem;\n//   background: #f7f7f7;\n//   border-radius: .24rem;\n//   align-items: center;\n//   display: flex;\n//   justify-content: center;\n//   flex-direction: column;\n// }\n// .img-row ::v-deep .van-uploader__preview-image {\n//   width: 2.04rem;\n//   height: 2.04rem;\n//   border-radius: .24rem;\n// }\n// .img-row ::v-deep .van-uploader__preview-delete-icon {\n//   position: relative;\n//   top: 0;\n//   left: 0;\n//   right: 0;\n//   /* top: -.02rem;\n//   left: -.02rem; */\n// }\n// .img-row ::v-deep .van-uploader__preview-delete {\n//   background: #666;\n//   border-radius: .24rem;\n//   display: flex;\n//   align-items: center;\n//   justify-content: center;\n//   top: -.08rem;\n//   right: -.08rem\n// }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./inputInfo.vue?vue&type=template&id=528c2682&scoped=true&\"\nimport script from \"./inputInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./inputInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./inputInfo.vue?vue&type=style&index=0&id=528c2682&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"528c2682\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <skeleton :nums=\"3\" v-if=\"isSkeletonLoading\"/>\n    <div class=\"content\" v-else>\n      <Header\n        :leftClick=\"doBack\"\n      >\n        <!-- <div slot=\"left\" @click=\"doBack\" class=\"backIcon\"><img :src=\"`${$cdnImageUrl}/common/control-back.png`\"></div> -->\n        <div class=\"title\" slot=\"title\">\n          <div class=\"text\">订单评价</div>\n          <span>零售单 {{orderSn}}</span>\n        </div>\n        <div class=\"right-btn\" v-if=\"[1,2].indexOf(type) !== -1\" slot=\"right\" @click=\"onSubmit\">\n          提交\n        </div>\n      </Header>\n      <div style=\"height: .92rem\"></div>\n      <evaluateTop :isLook=\"type > 1\" :status=\"firstStatus\" :evaluateType=\"0\" @choose=\"chooseType\" :commentInfo=\"commentInfo\"/>\n      <template v-if=\"(type <= 1) && firstStatus >= 0\">\n        <tag-list :tagList=\"allTagInfo\" :evaluateType=\"0\" @chooseTag=\"chooseTag\"/>\n        <input-info :status=\"firstStatus\" :evaluateType=\"0\" @updateInfo=\"updateInfo\"/>\n      </template>\n     <template v-if=\"type === 2 || (type === 3 && secondCommentInfo !== null)\">\n        <evaluateTop :isLook=\"type === 3\" :status=\"secondStatus\" :evaluateType=\"1\" @choose=\"chooseType\" :commentInfo=\"secondCommentInfo\"/>\n        <template v-if=\"(type === 2) && secondStatus >= 0\">\n          <tag-list :tagList=\"allTagInfo\" :evaluateType=\"1\" @chooseTag=\"chooseTag\"/>\n          <input-info :status=\"secondStatus\" :evaluateType=\"1\" @updateInfo=\"updateInfo\"/>\n        </template>\n     </template>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  getEvaluateDetail,\n  getTagList,\n  saveEvaluate,\n  saveEvaluateAppend,\n} from '@/http/service/thridEvaluate'\nimport skeleton from '@/components/skeleton'\nimport Header from '@/components/header'\nimport tagList from './components/tagList'\nimport evaluateTop from './components/evaluateTop'\nimport inputInfo from './components/inputInfo'\nimport personalApi from '@/http/service/index';\nimport UplusApi from '@uplus/uplus-api';\nconst instance = new UplusApi()\ninstance.initDeviceReady()\nexport default {\n  components: {\n    skeleton,\n    Header,\n    tagList,\n    evaluateTop,\n    inputInfo\n  },\n  data() {\n    return {\n      isSkeletonLoading: false,\n      // isFirstLook: true, // 首评: 是否查看评价\n      firstStatus: -1, // -1-未选择 0-不满意 1-满意 2-查看评价\n      secondStatus: -1, // -1-未选择 0-不满意 1-满意 2-查看评价\n      // isSecondLook: true, // 追评： 是否查看评价\n      // showSecond: true,\n      inputContent: '', // 评价内容\n      imgList: [], // 图片列表\n      tagInfo: '', // 选择的标签\n      orderSn: '', // 订单号\n      type: 0, // 0-不可评价 1-去评价 2-追评 3-查看评价\n      allTagInfo: [], // 标签列表\n      commentInfo: {}, // 评价详情\n      secondCommentInfo: {}, // 追评详情\n    };\n  },\n  mounted() {\n    this.orderSn = this.$route.query.orderSn\n    this.type = +this.$route.query.type\n    if (this.type > 1) {\n      this.getDetail()\n    }\n  },\n  methods: {\n    doBack() {\n      if (this.inputContent.length || this.imgList.length) {\n        this.$dialog.confirm({\n          message: '您编辑的内容尚未提交，是否退出？',\n          confirmButtonText: '继续评价',\n          cancelButtonText: '退出',\n          cancelButtonColor: '#999'\n        }).then(() => {\n          this.onSubmit();\n        }).catch(() => {\n          this.$store.dispatch('doHistoryBack');\n        });\n      } else {\n        this.$store.dispatch('doHistoryBack');\n      }\n    },\n    /** 获取评价详情 */\n    getDetail() {\n      const param = {\n        corderSn: this.orderSn,\n        type: this.type === 2 ? 1 : 2,\n      };\n      getEvaluateDetail(param).then(res => {\n        if (res.success) {\n          this.commentInfo = res.data.orgComment\n          this.firstStatus = this.commentInfo.star === 5 ? 1 : 0\n          if (this.type === 3) {\n            this.secondCommentInfo = res.data.extComment || null\n            if (res.data.extComment) {\n              this.secondStatus = this.secondCommentInfo.star === 5 ? 1 : 0\n            }\n          }\n        }\n      })\n    },\n    /** 获取评价标签 */\n    getTagInfo(evaluateStatus) {\n      getTagList({ ciType: 0, score: evaluateStatus }).then(res => {\n        if (res.success) {\n          this.allTagInfo = res.data.commentImpressionTypeList;\n        }\n      })\n    },\n    /**\n     * 选择满意度\n     * type: 0-不满意 1-满意\n     * evaluateType: 0-首评 1-追评\n     */\n    chooseType(type, evaluateType) {\n      if (evaluateType === 0) {\n        this.firstStatus = type;\n      } else {\n        this.secondStatus = type;\n      }\n      this.getTagInfo(type === 1 ? 5 : 0)\n    },\n    /**\n     * 选择标签\n     * evaluateType: 0-首评 1-追评\n     */\n    chooseTag(tags, evaluateType) {\n\n    },\n    /**\n     * 更新评论内容与图片\n     * evaluateType: 0-首评 1-追评\n     */\n    updateInfo(content, imgs, evaluateType) {\n      this.inputContent = content;\n      this.imgList = imgs;\n    },\n    onSubmit() {\n      this.$toast.loading({\n        message: '加载中...',\n        forbidClick: true,\n        duration: 0,\n      })\n      let status = this.type === 1 ? this.firstStatus : this.secondStatus;\n      const checkTagList = this.getCheckTag();\n      if (status === -1) {\n        this.$toast('请填写评价内容');\n        return\n      } else if (!checkTagList.length) {\n        this.$toast('请对此次评价进行详细评价');\n        return\n      }\n      const param = {\n        orderSn: this.orderSn,\n        type: this.type, // 评价类型\n        commentImpressionVOList: checkTagList,\n        star: status === 1 ? 5 : 0, // 5 满意 0-不满意\n        commentContent: this.inputContent, // 评论内容\n        fieldIdList: [], // 图片列表\n      };\n        // 参数去空串\n        // this.exceptEmpty(param)\n      if (this.imgList.length) {\n        personalApi.uploadPictureBybase64({\n          base64s: this.imgList.map(img => img.content.split(',')[1])\n        }).then((res) => {\n          console.log(res)\n          if (res.data.success) {\n            let result = res.data\n            console.log(result, '+++++ upload base64 ++++++')\n            const urls = [];\n            result.data.fileList.map(item => {\n              urls.push(item.imgUrl)\n            })// 评论图片地址\n            param.fieldIdList = urls;\n            console.log(param.fieldIdList, 'data.fileIds')\n            this.submitEvaluate(param)\n          } else {\n            this.$toast.fail(res.data.message)\n          }\n        })\n      } else {\n        // 评价提交\n        this.submitEvaluate(param)\n      }\n      // }\n    },\n    /**\n     * 提交评价\n     */\n    async submitEvaluate(param) {\n      let res = {};\n      if (this.type === 1) {\n        res = await saveEvaluate(param)\n      } else {\n        res = await saveEvaluateAppend(param)\n      }\n      this.$toast.clear();\n      if (res.success) {\n        this.$toast.success('提交成功');\n        setTimeout(() => {\n          this.$store.dispatch('doHistoryBack');\n        }, 2000);\n      } else {\n        if (res.errorCode === 'COM9999') {\n          this.$toast.fail(res.message);\n          setTimeout(() => {\n            this.$store.dispatch('doHistoryBack');\n          }, 2000);\n        } else {\n          this.$toast.fail(res.message)\n        }\n      }\n    },\n    /** 获取选中的tag列表 */\n    getCheckTag() {\n      const checkTagList = [];\n      this.allTagInfo.map(item => {\n        // const subList = []\n        !!item.commentImpressionVOList && item.commentImpressionVOList.map(subItem => {\n          if (subItem.isChecked) {\n            checkTagList.push(subItem)\n          }\n        })\n        // if (subList.length) {\n        //   checkTagList.push({\n        //     ...item,\n        //     commentImpressionVOList: subList,\n        //   })\n        // }\n      })\n      return checkTagList;\n    },\n    /**\n     * @description  参数去空串\n    */\n    exceptEmpty(obj) {\n      for (const key in obj) {\n        if (key !== 'commentContent') {\n          // 去除对象内多余的空值key\n          if (obj[key] === '' || obj[key] === 0) {\n            delete obj[key]\n          }\n        }\n      }\n    },\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  .text {\n    height: 0.32rem;\n    opacity: 1;\n    font-size: 0.32rem;\n    font-family: PingFangSC, PingFangSC-Medium;\n    font-weight: 500;\n    text-align: center;\n    color: #333333;\n    line-height: 0.32rem;\n  }\n  span {\n    margin-top: .08rem;\n    height: 0.28rem;\n    opacity: 1;\n    font-size: 0.24rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 400;\n    text-align: center;\n    color: #666666;\n    line-height: 0.28rem;\n    display: inline-block;\n    transform: scale(.84);\n  }\n}\n.right-btn {\n  width: 0.74rem;\n  height: 0.44rem;\n  font-size: 0.32rem;\n  font-family: PingFangSC, PingFangSC-Regular;\n  font-weight: 400;\n  text-align: center;\n  color: #2878ff;\n  line-height: 0.44rem;\n}\n.backIcon{\n\n  img{\n    width: .4rem;\n    height: .4rem;\n  }\n}\n.content ::v-deep .van-hairline--bottom::after  {\n  border: 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0abc1157&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0abc1157&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0abc1157\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function (_h,_vm) {var _c=_vm._c;return (_vm.props.nums > 0)?_c('div',{staticClass:\"m-skeleton\",style:({'z-index': _vm.props.zIndex || 0})},[_c('div',{style:({'background': _vm.props.bgColor, height: _vm.props.fheight})}),_vm._l((_vm.props.nums - 1),function(item){return _c('div',{key:item,style:({'background': _vm.props.bgColor, 'height': _vm.props.iheight})})})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a0d47b2e&functional=true&\"\nvar script = {}\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./evaluateTop.vue?vue&type=style&index=0&id=773ac66c&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagInfo.vue?vue&type=style&index=0&id=3b224872&lang=scss&scoped=true&\""],"sourceRoot":""}