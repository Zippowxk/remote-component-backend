(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4992ea16"],{3569:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ecard-detail"},[e("div",{staticClass:"ecard-banner"},[e("h4",[t._v("礼品卡号")]),e("div",[t._v(t._s(t.cardNo)+" "),e("a",{staticClass:"button",attrs:{href:"javascript:;"},on:{click:function(a){return t.copy(t.cardNo)}}},[t._v("复制")])])]),e("div",{staticClass:"ecard-detail-list"},[e("h5",[t._v("消费记录")]),t.list.length?[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.fetchData},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.list,(function(a){return e("div",{key:a.id,staticClass:"ecard-list-item"},[e("div",[e("p",[t._v("订单："+t._s(a.orderSn)+" "),e("a",{staticClass:"button",attrs:{href:"javascript:;"},on:{click:function(e){return t.copy(a.orderSn)}}},[t._v("复制")])]),e("p",[t._v(t._s(1==a.fundType?"-":"+")+t._s(t._f("formatPrice")(Math.abs(a.amount))))])]),e("div",[e("h6",[t._v(t._s(t._f("formatDate")(a.createTime/1e3)))]),e("h6",[t._v("余额："+t._s(t._f("formatPrice")(a.balance)))])])])})),0)]:t._e(),!t.list.length&&t.finished?e("div",{staticClass:"ecard-list-empty"},[e("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/dingdan.png",alt:""}}),e("p",[t._v("暂无消费记录")])]):t._e()],2)])},i=[],r=e("bbc2"),s=e("b311"),o=e.n(s),c=e("f121");function d(t){return h(t)||f(t)||u(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,a){if(t){if("string"===typeof t)return p(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,a):void 0}}function f(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t){if(Array.isArray(t))return p(t)}function p(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=t[e];return n}var v={name:"EcardDetail",data:function(){return{cardNo:"",curPage:1,pageSize:20,list:[],loading:!1,finished:!1}},mounted:function(){console.log(this.$route.params),this.cardNo=this.$route.params.cardNo,this.fetchData()},methods:{fetchData:function(){var t=this;this.loading=!0;var a={pageIndex:this.curPage,pageSize:this.pageSize,cardNo:this.cardNo},e=r["a"].getSmartEcardExpenditureDetails;this.$http.post(e,a,{baseURL:c["a"].OHOST}).then((function(a){var e=a.data,n=e;n.success?n.data&&n.data.length?(t.curPage+=1,t.loading=!1,t.list=[].concat(d(t.list),d(n.data)),t.finished=n.data.length<t.pageSize):(t.loading=!1,t.finished=!0):t.finished=!0}))},copy:function(t){var a=this,e=new o.a(".button",{text:function(a){return t}});e.on("success",(function(){a.$toast("已复制")})),e.on("error",(function(){a.$toast("复制失败")}))}}},g=v,m=(e("473e"),e("2877")),b=Object(m["a"])(g,n,i,!1,null,"122c0da7",null);a["default"]=b.exports},"473e":function(t,a,e){"use strict";e("bfba")},bfba:function(t,a,e){}}]);
//# sourceMappingURL=chunk-4992ea16.0f426d64.js.map