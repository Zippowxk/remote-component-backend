(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c7a4ada"],{"51ca":function(t,e,n){"use strict";n("bcb0")},9446:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"tab-container"},[n("DropdownMenu",{attrs:{"active-color":"#2878FF"}},[n("DropdownItem",{attrs:{options:t.fundTypeOptions},model:{value:t.fundType,callback:function(e){t.fundType=e},expression:"fundType"}})],1)],1)]},proxy:!0}])}),n("div",{staticClass:"content"},[n("div",{staticClass:"menubar"},[n("div",{staticClass:"left"},[n("DropdownMenu",{attrs:{"active-color":"#2878FF"}},[n("DropdownItem",{ref:"item",attrs:{title:t.dateTypeTitle}},t._l(t.timeOptions,(function(e,a){return n("van-cell",{key:a,style:{color:e.selected?"#2878FF":"#000"},attrs:{center:"",title:e.text},on:{click:function(n){return t.onConfirmDateType(a,e)}},scopedSlots:t._u([e.selected?{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:"success",color:"#2878FF"}})]},proxy:!0}:null],null,!0)})})),1),4!==t.fundType&&5!==t.fundType?n("DropdownItem",{attrs:{options:t.fundStateOptions},model:{value:t.fundState,callback:function(e){t.fundState=e},expression:"fundState"}}):t._e()],1)],1),n("div",{staticClass:"right"},[n("span",[t._v("收入 "+t._s(t.totalComminsion.totalComminsionIn.toFixed(2)))]),n("span",[t._v("支出 "+t._s(t.totalComminsion.totalComminsionOut.toFixed(2)))])])]),t.dataList.length>0?n("div",{staticClass:"list"},[n("van-list",{attrs:{finished:t.loadFinished,finishedText:"暂无更多数据","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.dataList,(function(e){return n("div",{key:e.billId,staticClass:"item"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/sales/default.png",alt:""}})]),n("div",{staticClass:"mid"},[n("span",{staticClass:"name"},[t._v(t._s(e.productName||"未知商品"))]),n("span",{staticClass:"msg"},[t._v(t._s(t._f("stateText")(e)))]),n("span",{staticClass:"time"},[t._v(t._s(e.transactionTime||""))])]),n("div",{staticClass:"right"},[n("span",{style:{color:"1"===e.forb?"#ff6026":"#000"}},[t._v(t._s(t._f("feePrice")(e)))])])])})),0)],1):n("div",{staticClass:"no-date"},[n("img",{attrs:{src:t.$cdnImageUrl+"/mine/sales/quesheng.png",alt:""}}),n("span",[t._v("暂无账单")])]),n("van-popup",{style:{height:"100%"},attrs:{position:"bottom"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[n("div",{staticClass:"pop-header"},[n("nav-bar",{attrs:{title:"选择时间","left-text":"取消","right-text":"确定"},on:{"click-left":t.cancel,"click-right":t.done}})],1),n("div",{staticClass:"pop-content"},[n("div",{staticClass:"title"},[t.showTimeSelectPopup?n("span",[t._v("按日选择")]):t._e(),t.showDateSelectPopup?n("span",[t._v("按月选择")]):t._e(),n("img",{attrs:{src:t.$cdnImageUrl+"/mine/sales/change.png",alt:""}})]),t.showTimeSelectPopup?n("div",{staticClass:"date"},[n("span",{staticClass:"dater",class:{"no-select":1===t.selectOn},on:{click:function(e){t.selectOn=0}}},[t._v(t._s(t._f("dateFormat")(t.startDate)))]),n("span",[t._v("至")]),n("span",{staticClass:"dater",class:{"no-select":0===t.selectOn},on:{click:function(e){t.selectOn=1}}},[t._v(t._s(t._f("dateFormat")(t.endDate)))])]):t._e(),t.showDateSelectPopup?n("div",{staticClass:"date"},[n("span",[t._v(t._s(t._f("monthFormat")(t.monthDate)))])]):t._e(),n("div",{staticClass:"picker"},[t.showTimeSelectPopup&&0===t.selectOn?[n("van-datetime-picker",{attrs:{"show-toolbar":!1,type:"date",title:"选择年月日","min-date":t.minDate,"max-date":t.endDate,formatter:t.formatter},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})]:t._e(),t.showTimeSelectPopup&&1===t.selectOn?[n("van-datetime-picker",{attrs:{"show-toolbar":!1,type:"date",title:"选择年月日","min-date":t.startDate,"max-date":t.maxDate,formatter:t.formatter},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})]:t._e(),t.showDateSelectPopup?n("van-datetime-picker",{attrs:{"show-toolbar":!1,type:"year-month","min-date":t.minDate,"max-date":t.maxDate,formatter:t.formatter},model:{value:t.monthDate,callback:function(e){t.monthDate=e},expression:"monthDate"}}):t._e()],2)])])],1)],1)},o=[],i=(n("5246"),n("6b41")),s=(n("68ef"),n("a71a"),n("9d70"),n("3743"),n("1a04"),n("4d75"),n("b2cc"),n("d282")),r=n("1325"),c=n("1421"),l=n("9884"),u=n("7744"),d=n("ad06"),p=n("e41f"),h=Object(s["a"])("dropdown-item"),f=h[0],m=h[1],v=f({mixins:[Object(c["a"])({ref:"wrapper"}),Object(l["a"])("vanDropdownMenu")],props:{value:null,title:String,disabled:Boolean,titleClass:String,options:{type:Array,default:function(){return[]}},lazyRender:{type:Boolean,default:!0}},data:function(){return{transition:!0,showPopup:!1,showWrapper:!1}},computed:{displayTitle:function(){var t=this;if(this.title)return this.title;var e=this.options.filter((function(e){return e.value===t.value}));return e.length?e[0].text:""}},watch:{showPopup:function(t){this.bindScroll(t)}},beforeCreate:function(){var t=this,e=function(e){return function(){return t.$emit(e)}};this.onOpen=e("open"),this.onClose=e("close"),this.onOpened=e("opened")},methods:{toggle:function(t,e){void 0===t&&(t=!this.showPopup),void 0===e&&(e={}),t!==this.showPopup&&(this.transition=!e.immediate,this.showPopup=t,t&&(this.parent.updateOffset(),this.showWrapper=!0))},bindScroll:function(t){var e=this.parent.scroller,n=t?r["b"]:r["a"];n(e,"scroll",this.onScroll,!0)},onScroll:function(){this.parent.updateOffset()},onClickWrapper:function(t){this.getContainer&&t.stopPropagation()}},render:function(){var t=this,e=arguments[0],n=this.parent,a=n.zIndex,o=n.offset,i=n.overlay,s=n.duration,r=n.direction,c=n.activeColor,l=n.closeOnClickOverlay,h=this.options.map((function(n){var a=n.value===t.value;return e(u["a"],{attrs:{clickable:!0,icon:n.icon,title:n.text},key:n.value,class:m("option",{active:a}),style:{color:a?c:""},on:{click:function(){t.showPopup=!1,n.value!==t.value&&(t.$emit("input",n.value),t.$emit("change",n.value))}}},[a&&e(d["a"],{class:m("icon"),attrs:{color:c,name:"success"}})])})),f={zIndex:a};return"down"===r?f.top=o+"px":f.bottom=o+"px",e("div",[e("div",{directives:[{name:"show",value:this.showWrapper}],ref:"wrapper",style:f,class:m([r]),on:{click:this.onClickWrapper}},[e(p["a"],{attrs:{overlay:i,position:"down"===r?"top":"bottom",duration:this.transition?s:0,lazyRender:this.lazyRender,overlayStyle:{position:"absolute"},closeOnClickOverlay:l},class:m("content"),on:{open:this.onOpen,close:this.onClose,opened:this.onOpened,closed:function(){t.showWrapper=!1,t.$emit("closed")}},model:{value:t.showPopup,callback:function(e){t.showPopup=e}}},[h,this.slots("default")])])])}}),y=(n("aec8"),n("a142")),w=n("a8c1"),b=n("b222"),g=Object(s["a"])("dropdown-menu"),D=g[0],O=g[1],S=D({mixins:[Object(l["b"])("vanDropdownMenu"),Object(b["a"])({event:"click",method:"onClickOutside"})],props:{zIndex:[Number,String],activeColor:String,overlay:{type:Boolean,default:!0},duration:{type:[Number,String],default:.2},direction:{type:String,default:"down"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{offset:0}},computed:{scroller:function(){return Object(w["d"])(this.$el)},opened:function(){return this.children.some((function(t){return t.showWrapper}))},barStyle:function(){if(this.opened&&Object(y["c"])(this.zIndex))return{zIndex:1+this.zIndex}}},methods:{updateOffset:function(){if(this.$refs.bar){var t=this.$refs.bar.getBoundingClientRect();"down"===this.direction?this.offset=t.bottom:this.offset=window.innerHeight-t.top}},toggleItem:function(t){this.children.forEach((function(e,n){n===t?e.toggle():e.showPopup&&e.toggle(!1,{immediate:!0})}))},onClickOutside:function(){this.children.forEach((function(t){t.toggle(!1)}))}},render:function(){var t=this,e=arguments[0],n=this.children.map((function(n,a){return e("div",{attrs:{role:"button",tabindex:n.disabled?-1:0},class:O("item",{disabled:n.disabled}),on:{click:function(){n.disabled||t.toggleItem(a)}}},[e("span",{class:[O("title",{active:n.showPopup,down:n.showPopup===("down"===t.direction)}),n.titleClass],style:{color:n.showPopup?t.activeColor:""}},[e("div",{class:"van-ellipsis"},[n.slots("title")||n.displayTitle])])])}));return e("div",{class:O()},[e("div",{ref:"bar",style:this.barStyle,class:O("bar",{opened:this.opened})},[n]),this.slots("default")])}}),C=n("e725"),T=n("d354"),P=n("fa7d");function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=new Date;F=F.setDate(F.getDate()-1),F=new Date(F);var Y={components:{Header:C["a"],DropdownMenu:S,DropdownItem:v,NavBar:i["a"]},data:function(){return{identifyFlag:0,fundState:0,fundType:2,pageSize:10,pageNo:1,dateType:0,preDateType:0,dataList:[],totalComminsion:{totalComminsionIn:0,totalComminsionOut:0},loading:!1,loadFinished:!1,showTimeSelectPopup:!1,showDateSelectPopup:!1,showPopup:!1,fundStateOptions:[{text:"全部",value:0},{text:"预计收益",value:1},{text:"提现中",value:2},{text:"已提现",value:3}],timeOptions:[{text:"全部",value:0,selected:!0},{text:"按日选择",value:1,selected:!1},{text:"按月选择",value:2,selected:!1}],minDate:new Date(2016,0,1),maxDate:new Date,startDate:F,endDate:new Date,selectOn:0,monthDate:new Date,dateQuery:{transactionTimeEnd:P["a"].dateFormat("YYYY-mm",new Date)}}},computed:{dateTypeTitle:function(){var t=this.timeOptions.find((function(t){return t.selected})).text;return"按月选择"===t&&(t=this.dateQuery.transactionTimeEnd),t},fundTypeOptions:function(){var t=[{text:"佣金账单",value:2},{text:"奖励账单",value:5}];return Number(this.identifyFlag)>=10&&Number(this.identifyFlag)<20&&(t.splice(1,0,{text:"货款账单",value:1}),t.splice(-1,0,{text:"手续费",value:4})),t.push({text:"设计师奖励",value:13}),t}},filters:{dateFormat:function(t){return P["a"].dateFormat("YYYY-mm-dd",t)},monthFormat:function(t){return P["a"].dateFormat("YYYY-mm",t)},feePrice:function(t){return"".concat("1"===t.forb?"+":"-").concat(t.fund?t.fund.toFixed(2):"0.00")},stateText:function(t){var e=t.fundState,n=t.hasStore,a=e,o="预计收益";if(isNaN(parseInt(a))&&"string"===typeof a)return a;switch(Number(a)){case 1:case 2:case 6:o="预计收益";break;case 3:o=n?"已提现":"提现中";break;case 4:o="提现中";break;case 5:o="已提现";break;default:o="预计收益"}return o}},methods:{fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if([11,12,13,14,15,16,16,22,21,31].includes(Number(this.identifyFlag))){e&&(this.dataList=[],this.loadFinished=!1,this.pageNo=1);var n=this.pageSize,a=this.fundState,o=this.fundType,i=this.pageNo,s=k(k({},this.dateQuery),{},{pageSize:n,fundState:a,fundType:o,pageNo:i,rewardType:"1"});Object(T["c"])(s).then((function(e){t.loading=!1,e.data.data.list&&0!==e.data.data.list.length?t.dataList=t.dataList.concat(e.data.data.list):t.loadFinished=!0,t.totalComminsion={totalComminsionIn:e.data.data.totalComminsionIn||0,totalComminsionOut:e.data.data.totalComminsionOut||0}}))["catch"]((function(t){console.log(t.message)}))}},onLoad:function(){this.pageNo+=1,this.fetchData()},doShowTimeSelectPopup:function(){this.showTimeSelectPopup=!0,this.showPopup=!0},doShowDateSelectPopup:function(){this.showDateSelectPopup=!0,this.showPopup=!0},onConfirmDateType:function(t,e){this.timeOptions.forEach((function(t){t.selected=!1})),this.timeOptions[t].selected=!0,1===e.value?this.doShowTimeSelectPopup():2===e.value&&this.doShowDateSelectPopup(),this.dateType=e.value,this.$refs.item.toggle()},cancel:function(){var t=this;this.dateType=this.preDateType,this.timeOptions.forEach((function(t){t.selected=!1})),this.timeOptions.find((function(e){return e.value===t.dateType})).selected=!0,this.showPopup=!1},done:function(){this.showTimeSelectPopup?this.dateQuery={transactionTimeStart:P["a"].dateFormat("YYYY-mm-dd",this.startDate),transactionTimeEnd:P["a"].dateFormat("YYYY-mm-dd",this.endDate)}:this.showDateSelectPopup&&(this.dateQuery={transactionTimeStart:P["a"].dateFormat("YYYY-mm",this.monthDate),transactionTimeEnd:P["a"].dateFormat("YYYY-mm",this.monthDate)}),this.showPopup=!1,this.fetchData(!0)},formatter:function(t,e){return"year"===t?"".concat(e,"年"):"month"===t?"".concat(e,"月"):e}},created:function(){var t=this;this.$route.query&&(this.fundState=void 0!==this.$route.query.fundState?Number(this.$route.query.fundState):0,this.fundType=void 0!==this.$route.query.fundType?Number(this.$route.query.fundType):2),Object(T["g"])().then((function(e){var n=e.data;n.success&&n.data&&(t.identifyFlag=n.data.identifyFlag,[11,12,13,14,15,16,16,22,21,31].includes(Number(n.data.identifyFlag))?t.fetchData(!0):t.$router.replace("/financialStationLocked"))}))},watch:{showPopup:function(t){t||(this.showTimeSelectPopup=!1,this.showDateSelectPopup=!1)},dateType:{sync:!0,handler:function(t,e){this.preDateType=e,0===t&&(this.dateQuery={transactionTimeEnd:P["a"].dateFormat("YYYY-mm",new Date)},this.fetchData(!0))}},fundState:function(){this.fetchData(!0)},fundType:function(t){4===t&&(this.fundState=0),this.fetchData(!0)}}},j=Y,I=(n("51ca"),n("a481"),n("2877")),N=Object(I["a"])(j,a,o,!1,null,"ee3dedde",null);e["default"]=N.exports},a481:function(t,e,n){"use strict";n("fe33")},aec8:function(t,e,n){},b2cc:function(t,e,n){},bcb0:function(t,e,n){},d354:function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return d}));var a=n("1c03"),o=n("bbc2"),i=function(t,e){return a["a"].request({url:o["a"].myManage,method:"get",params:{_t:Date.now()},noLogin:e})},s=function(t){return a["a"].request({url:o["a"].getOrderCount,method:"get",params:{chId:60}})},r=function(t){return a["a"].request({url:o["a"].wallet,method:"get",params:{}})},c=function(t){return a["a"].request({url:o["a"].checkBindByType,method:"get",params:t})},l=function(t){return a["a"].request({url:o["a"].getComminsionSumInfo,method:"POST",data:t,headers:{"Content-Type":"application/json"}})},u=function(t){return a["a"].request({url:o["a"].getGoodsAmountList,method:"POST",data:t,headers:{"Content-Type":"application/json"}})},d=function(t){return a["a"].request({url:o["a"].getServiceCharge,method:"get",params:t})}},fe33:function(t,e,n){}}]);
//# sourceMappingURL=chunk-7c7a4ada.edacc153.js.map