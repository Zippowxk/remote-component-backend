{"version":3,"sources":["webpack:///./src/views/shop/nearby/index.vue?9546","webpack:///./src/views/shop/nearby/index.vue?51cf","webpack:///./src/utils/AMap.js","webpack:///./src/http/service/example.js","webpack:///./src/http/index.js","webpack:///src/views/shop/nearby/index.vue","webpack:///./src/views/shop/nearby/index.vue?a6a2","webpack:///./src/views/shop/nearby/index.vue","webpack:///./src/http/service/shop.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","storesData","length","staticClass","class","onTop","on","toggleTop","pathOnTop","pathOnBottom","ref","_l","item","index","key","$event","gotoStore","_v","_s","name","_e","address","staticStyle","_f","distanceD","style","storeId","stopPropagation","collectStore","collected","mobile","goAmap","_m","staticRenderFns","MapLoader","Promise","resolve","reject","window","AMap","script","document","createElement","type","async","src","onerror","head","appendChild","initAMap","test","params","http","interceptors","request","use","config","error","response","url","method","search","baseURL","SHOST","URL","hotSearch","example","shop","instance","initDeviceReady","components","data","mapScript","map","location","nearLocation","offsetTop","markers","selectedIndex","animating","animateDuration","beforeRouteLeave","from","meta","keepAlive","console","log","scrollTop","next","activated","$content","$nextTick","created","getLocation","filters","fixedDistance","value","toFixed","methods","setTimeout","loadShopNearby","$store","markIcon","utils","getAmapURL","AppUrl","getters","getLoginStatus","dispatch","then","res","$router","push","component","manage","get","enterprise","getNavigations","getImgCaptcha","getViewCouponCate","getCouponsCenter","receiveCoupon","commonLoadItemNew","getPriceByProductList","wdMarketFiltrate","getNearbyList","nearbyList","getBusinessCustomer","HOST4","GET_BANNER","getLiveByStoreId","getStoreFlashSale","getCate","getStoreSign","param","storeSign","getSelectedModel","storeSelectedModel","getCustomPageModel","getCustomPage","getUserCases","GET_STORE_SCENE","getRecommendList","recommendProducts","getVRPreviews","storeVRPreviewList","getPreSales","isPlatForm","platformPreSale","post","preSaleList","getStoreSceneTabs","sceneTabList","getStoreScene","sceneList","getStoreSceneNew","sceneListNew","DHOST","getSubStoreList","subStoreList","getShopPreview","shopPreview","STOREHOST","getCustomPagePreview","customPagePreview","getStoreSignPreview","storeSignPreview","getStoreNewProducts","storeNewProducts","checkPrivateDomain","cancelRepeat","getSuitList","getShopSuitList","getSuitImage","getShopSuitImage","getSuitDetail","getShopSuitDetail","validateTabOrSpace","checkIdentity","getFindGoods","storeFindGoods"],"mappings":"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","file":"js/shopNearby.8dfeca38.js","sourcesContent":["export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3a52081a&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"amap\"}}),(_vm.storesData.length === 0)?_c('div',{staticClass:\"bottom-table\"},[_c('div',{staticClass:\"bottom-table-empty\"})]):_c('div',{class:{ 'bottom-table': true, 'on-top': _vm.onTop, 'on-bottom': !_vm.onTop }},[_c('div',{staticClass:\"header\",on:{\"click\":_vm.toggleTop}},[_c('svg',{attrs:{\"id\":\"svg\"}},[_c('polyline',{attrs:{\"points\":_vm.onTop ? _vm.pathOnTop : _vm.pathOnBottom}})])]),_c('div',{staticClass:\"table\",attrs:{\"id\":\"table\"}},[_c('ul',{ref:\"storesTable\",attrs:{\"id\":\"tableul\"}},_vm._l((_vm.storesData),function(item,index){return _c('li',{key:index,attrs:{\"id\":index}},[_c('div',{staticClass:\"table-cell\",on:{\"click\":function($event){return _vm.gotoStore(index)}}},[_c('div',{staticClass:\"title-line\"},[_c('span',{staticClass:\"tag\"},[_vm._v(\"智家体验店\")]),_c('span',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]),_c('div',{staticClass:\"address\"},[(item.couponStatus)?_c('div',{staticClass:\"coupon-icon\"}):_vm._e(),_vm._v(\" \"+_vm._s(item.address)+\" \")]),_c('div',{staticClass:\"distance\"},[_vm._v(\" 距离 \"),_c('span',{staticStyle:{\"font-weight\":\"bold\",\"font-family\":\"PingFangSC-Medium, PingFang SC\",\"color\":\"black\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"fixedDistance\")(item.distanceD))+\" \")]),_vm._v(\" \"+_vm._s(item.distanceD >= 1000 ? '公里' : '米')+\" \")]),_c('div',{staticClass:\"divider\"}),_c('div',{staticClass:\"bottom-bar\",style:(_vm.storesData[index].storeId != null ? 'justify-content:space-between' : 'justify-content:space-around'),on:{\"click\":function($event){$event.stopPropagation();}}},[(_vm.storesData[index].storeId != null)?_c('div',{staticClass:\"bar-item\",on:{\"click\":function($event){return _vm.collectStore(index)}}},[_c('img',{attrs:{\"width\":\"15\",\"height\":\"14\",\"src\":item.collected\n                      ? 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAACYUlEQVRIS8XXy2sTURQG8O9LKk1mFtIq9UEL6gxSLAriThQUBEFcVRBmimCLRan/gMu6FPeKj6ponREV3XTnQnHjzoWg+JhRsPh+bGQmTU1zpCmNMZlMbjIJ3mXmnPO7987cMxPiPw226srtod5wYe6Bbvk7WqnRMhw4hiyCJPOa5WWaxVuCQ8f0BbLpL8aruu2NNYM3Dedcc6woMlWNpLtTRubQm7eqeFOwPNyTCT/N5uoV121fuZ5y4CK2fF9jVvVVt/01KqtWhkPXeCyC3Y2KkjylWd6ZhnGNAmRma0/4K3cdIgcbxZavk5e0tf0T3PuoUC8ncsVyb1tfOBfcBLBPGasTSPJGdiXGecDLV4aU4dA1BiBwBNiVFKu7SvJOtlcb5f5nQQkObhnPUcSWToHVdQmcLcH1zmanJpJO0azYavO9iAx0CluuS9LRLG/kn4dL4ZwmmhfJgmZ5K0o9vrJSzh3cUJTf7xJVj0nWrCNpcrJYAy91J/MKIKPtxsn0sGa9vl/e8iggdMx5gZS2pD2DL3TbG4o8x5U/ighD1yxtSTtG1Mujbq8OHOMngJ7EMHFNt/yaWxcDm98BWZUYRvRHQhz8DZDViWFySre8YxHdK7p04BhfAPQlhsHLuu2Nq8Ou8RkCpZd67OSIi7rlH1eHHeMjgHVJV5wCLmRt/4QyHLrmBxFZHweTyIkgGxeTIs9nLW9CHXbMWYH01ybwCbvSI9nDr8qtNXSNnQCnRWRjRPw5zfZOKsOBaz6FyPZSAjmjdXcd5fDLH422Pn9382BhfmEawNI/DPK0bnmT1Xl/ALc6yU3m1MtPAAAAAElFTkSuQmCC'\n                      : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAADZ0lEQVRIS62WT2gdVRTGvzPvmVYw0BJjqLRqX0sVBEHumXlJSPAtdBFoNurCUsGmtlTqwp24jEtx58K/rRWVIgR0UwhkFVw0ZOaebgRBY/zTotSoBXmY50vezJH7yCuT15eXmbF3Nczc7/zu+e49Zy6hwJicnBxeX19fEZF9BeRtCRURGmN0S9cUkb1FYuQGM/OqqlY6MCK6ZK09nReeC8zMp1X1IoBEREqdzD3POxJF0Y954JnBtVptb71eb7jglUqlPDc3FxtjjgD4wb0Tkcyxcu1xKrvnoij6spOdMeYSgFMA1kRkJGvWmVZpjPkawCSAb0Tkie7gxph/AewB8IaIvJUF3hc8MTGxv9FofArg+G52pk76R4ODg+cXFxdb/RZwB7harY7Ecfy5qj7dJdwnIn/vFMz3/aeSJFlMfyeiz4aHh8/Oz883u3VtsO/7h5IkuQxgomvCdc/zTkRRdDWLfW4OMz+vqm7f7+vSzA0NDc0sLCz80z5czPydqh5LTVoB8IKIXMsK22leEATH4zh2W7U/VfdvW2tfd+CXVfUCEcXW2vL/he2kT52BoyKy2raama+r6iEi+sJae+Juw5n5hqoeBHBZRE5uq+POisrl8rHl5WVn910ZzHxOVd8nopa19p7blnceRkdHH9nc3Pxpt7LJs5qpqak9a2trrsYxPT1dmp2dTe4Ab1n+sarOENFNa+2BPJBeczsulkqlZ8Mw/GpbqXULjDEbAJwlr4nIO0XhzLygqs8A+FZEHu9Zx+mXqupOetuSvI2/E6dWq5Xr9fpmvxg9W6Yx5parvaLgarV6sNVq3QDwiYjM9HKtJ5iZ/1TVoaJgY8xDAH7pd0nYKeM/ANxfFDw+Pv5ws9n8mYguWmvPZM7YGPM7gAeKgoMgOBzHsbuRXBCRs5nBzHxTVUeKgn3fryRJskpEH1prz2UGG2N+A3CgG8zMjwJwv0xOBbsyMDDw0tLSkjuQ7TE2NnZ0Y2NjhYg+sNa+kgf8K4AHHTgIgrEkSRzs9s3SBSKihqreu60pEF31PO9FIiq3Wq3vAbwnIuczg1NNfZuGiJY8zzsZhmG7tbrh+/64qrqFHe4BeFdEXs0DvqaqT24JrpRKpVNhGP61WxczxjzmtgKA2XLlTWvtbGbwboAs31336nfv+g9yRXgswr/XfwAAAABJRU5ErkJggg=='}}),_c('span',[_vm._v(_vm._s(item.collected ? '已收藏' : '收藏店铺'))])]):_vm._e(),_c('div',{staticClass:\"bar-item\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('a',{staticClass:\"bar-item\",attrs:{\"href\":'tel:' + item.mobile}},[_c('img',{attrs:{\"width\":\"12\",\"height\":\"15\",\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAC4UlEQVRIS7WWS2gTYRDHZzYxkR4qKCqKSA1Yj0K/SVcFIeKD9qCCWEFEvHhS9CKIFL0IRXrx4OvixYOIEAQFoQel2MuGZmcQPPmAQOmhECooRip1syO7ZEuabpqH7XdKdr/v/5v55rUI67xwnfVhBSCXyyUrlcqUqh6K4JZljbuue6sbY5YBiGhCVYfihESkK2+XDhHRF1XtD8QR8SEzXw9+E9FrVT0NAJMicrRTL0KAbdsHPM8r1A6nRORvvZAxRoP/3XgRAohoQVU3IuIRZv7QaCURfVfVzYlE4mSxWHzbiRchoJWFg4ODB6vVqoOIv5i5d80B7RjRDNqWB2sGSKfT2x3HKcfEoKSqe7oJdBTkV6p6BhHvM/ONhgz6AwDp2rOdIjLXcQyIaJ+qfkbEKjMn1ypFw5qKxJplUvQ8k8mk8/n8YifWNwIEAAYsyxp1XfdeJEREN1V1HADmRWTr/wA2AcCPuEBGXiDiADN/7ASyrIEZY4Ir2AAA50QkHwlls9ljvu+/6zqLIiHbtvd6nvc1ToiIZlV1FwDMiEhfu16saMFENK+qWwDghYhciMsoRCwCwNaoNsJgIp5n5peN4BWAkZGRRKlU8oKNjYU3PDycLpfLQV3ELsuyLrqu+7z+ZewQMcYE0yvMpLgWTURBVjnM/CbYk81mh3zfn6gZ1ec4zkwEaTqljDG/AaAHAD6JyP5Wd26MuQMAdxuNWnUM1qXnbWYeawUhorBnIeIsM+9eVmhxh40xwabQXUQ8wcxhqq62IqOSyWT/9PT0t5aD3BhzGQCeBqKWZR13Xff9agAiOquqQQ0tiki6JaAWxCu+7z+uefKIma81g9i23et53s8oFm0Bgs3GmEsA8KwmXEmlUtsKhcJCPYiIHqhqCEfEKWbOtQ2oQZb6VU04+NoIrmMHAByugz0Rkastg9zsGohoTFVHY97PZTKZvvq23pEHjYLGmB5EPGVZVrlYLE7GGfQPvENKLg7IHSsAAAAASUVORK5CYII=\"}}),_c('span',[_vm._v(\"联系预约\")])])]),_c('div',{staticClass:\"bar-item\",on:{\"click\":function($event){return _vm.goAmap(index)}}},[_c('img',{attrs:{\"width\":\"13\",\"height\":\"13\",\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAACkklEQVRIS7WVPWgUURDHZ3bvDhUWEQUFrVQsRILwJrcWKmlSiKKFCZpCFLFSsPADBAUFbQTFQq38KESCpBALUbDQA5GQ3RlFxUbUAy20UBEjCue6Iy/chc3LXe4ud9lmd9+++f/e/HfmPYQ5vIjouOd5T6IoYuw2h4j6VfUeACyoaYsIdgVkjFmCiA9VleosfEREdnUEMsZcBYCDjvgvANgOAI/teBAE+VKplLQN6u3t3Zem6U0AcGNPiMh5Kx6G4dIkSb7YZ2ubvbcECsNwbZIkjwBgeXb1iHhXVXeLyN/sOBG9UNX1AHBMRC7OCBocHCyUy+URVd3hWPPR9/3+KIreNiokY4xms6kLIqKTqnrOEUk9z9sbx/HtZlVKRFtU9QEi/mTmhbX5E9bVK8mJVSBeZubDzcQd236r6nzf9zdHUfR0EkREQ6o6PDmA+C2fz68ZHR393g6gNreebZPWEdFXVV3s/OhPADDAzFGrQCI6rapnEPEZM2+copd9KRaL29I0HVbVwBF/l8vldo6Njb2aCVrLJgiCRaVS6UdDkOP1AADcsn474iIi03aAvr6+eePj43/captSDM2sIaI9qnodAAp2rud56+I4fpONM8bcB4CtiHiJmY+4mi01bC2IiPar6g0AeC0iPQ5oWu+0ZF2jLOtVVRiGPUmSvETEf8ycqxfbVkbVnktU1fc8b1Ucxx+qY59VdRkiDjHznW6BDqnqFUSMmbloRRv1TkfWucLGmAMAcA0Ry8y8spHlbVtXBaV2hyoUCisqlYptbKuzWkTedxt0FAAuAIDdyzY16p2OrcvaVxWbOK5n6sdZWeeCasf1XIFOAcDZVmyzc2adUTWrCgBsEJHnzbaxjkDNxLPf/wPvUxgqW8B9HwAAAABJRU5ErkJggg==\"}}),_c('span',[_vm._v(\"导航到店\")])])])])])}),0),_vm._m(0),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\".5rem\"}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"noMore\"},[_c('span',[_vm._v(\"没有更多啦~\")])])}]\n\nexport { render, staticRenderFns }","// 高德地图\nexport default function MapLoader() {\n  return new Promise((resolve, reject) => {\n    if (window.AMap) {\n      resolve(window.AMap)\n    } else {\n      var script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.async = true\n      script.src = 'https://webapi.amap.com/maps?v=1.4.15&key=2c32eb44ce0ecd452ce7c7b9fd020e83&plugin=AMap.Geocoder&callback=initAMap'\n      script.onerror = reject\n      document.head.appendChild(script)\n    }\n    window.initAMap = () => {\n      resolve(window.AMap)\n    }\n  })\n}\n","/**\n * 示例文件\n * 可单独封装接口请求方法\n * 文件根据相应功能模块语义化命名\n * 导出至'@/http/index'\n */\nimport http from '../http'\nimport config from '../../config'\nimport URL from '../url'\nexport const test = params => {\n  http.interceptors.request.use(\n    function(config) {\n      return config\n    },\n    function(error) {\n      return Promise.reject(error)\n    }\n  )\n  // 设置请求结束后拦截器\n  http.interceptors.response.use(response => {\n    return response\n  })\n\n  return http.request({\n    url: '/v3/mstore/sg/msgCenter.html',\n    method: 'get',\n    params,\n  })\n}\n// 轮播图\nexport const search = params => {\n  return http.request({\n    baseURL: config.SHOST,\n    url: URL.hotSearch,\n    method: 'GET',\n    params,\n  })\n}\nexport default {\n  test,\n  search,\n}\n","import example from './service/example'\nimport * as shop from './service/shop'\n/**\n * 所有封装好的接口方法在此文件导出\n * 在使用的文件中可解构导入，如\n * import { test, banner } from '@/http'\n */\nexport default {\n  ...example,\n  ...shop\n}\n","<template>\n  <div>\n    <div id=\"amap\"></div>\n    <div class=\"bottom-table\" v-if=\"storesData.length === 0\">\n      <div class=\"bottom-table-empty\"></div>\n    </div>\n    <div :class=\"{ 'bottom-table': true, 'on-top': onTop, 'on-bottom': !onTop }\" v-else>\n      <!--   -->\n      <div class=\"header\" @click=\"toggleTop\">\n        <svg id=\"svg\">\n          <polyline :points=\"onTop ? pathOnTop : pathOnBottom\">\n            <!-- <animate v-if=\"animating\"  attributeName=\"points\" attributeType=\"XML\" :from=\"onTop?pathOnTop:pathOnBottom\" :to=\"onTop?pathOnBottom:pathOnTop\" begin=\"0s\" :dur=\"animateDuration+'ms'\" fill='freeze' repeatCount=\"ini\"/> -->\n          </polyline>\n        </svg>\n      </div>\n      <div class=\"table\" id=\"table\">\n        <ul ref=\"storesTable\" id=\"tableul\">\n          <li v-for=\"(item, index) in storesData\" :key=\"index\" :id=\"index\">\n            <div class=\"table-cell\" @click=\"gotoStore(index)\">\n              <div class=\"title-line\">\n                <span class=\"tag\">智家体验店</span>\n                <span class=\"title\">\n                  {{ item.name }}\n                </span>\n              </div>\n              <div class=\"address\">\n                <div class=\"coupon-icon\" v-if=\"item.couponStatus\"></div>\n                {{ item.address }}\n              </div>\n              <div class=\"distance\">\n                距离\n                <span style=\"font-weight:bold;font-family: PingFangSC-Medium, PingFang SC;color:black\">\n                  {{ item.distanceD | fixedDistance }}\n                </span>\n                {{ item.distanceD >= 1000 ? '公里' : '米' }}\n              </div>\n              <div class=\"divider\"></div>\n              <div\n                class=\"bottom-bar\"\n                :style=\"storesData[index].storeId != null ? 'justify-content:space-between' : 'justify-content:space-around'\"\n                @click.stop\n              >\n                <div class=\"bar-item\" v-if=\"storesData[index].storeId != null\" @click=\"collectStore(index)\">\n                  <img\n                    width=\"15\"\n                    height=\"14\"\n                    :src=\"\n                      item.collected\n                        ? 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAACYUlEQVRIS8XXy2sTURQG8O9LKk1mFtIq9UEL6gxSLAriThQUBEFcVRBmimCLRan/gMu6FPeKj6ponREV3XTnQnHjzoWg+JhRsPh+bGQmTU1zpCmNMZlMbjIJ3mXmnPO7987cMxPiPw226srtod5wYe6Bbvk7WqnRMhw4hiyCJPOa5WWaxVuCQ8f0BbLpL8aruu2NNYM3Dedcc6woMlWNpLtTRubQm7eqeFOwPNyTCT/N5uoV121fuZ5y4CK2fF9jVvVVt/01KqtWhkPXeCyC3Y2KkjylWd6ZhnGNAmRma0/4K3cdIgcbxZavk5e0tf0T3PuoUC8ncsVyb1tfOBfcBLBPGasTSPJGdiXGecDLV4aU4dA1BiBwBNiVFKu7SvJOtlcb5f5nQQkObhnPUcSWToHVdQmcLcH1zmanJpJO0azYavO9iAx0CluuS9LRLG/kn4dL4ZwmmhfJgmZ5K0o9vrJSzh3cUJTf7xJVj0nWrCNpcrJYAy91J/MKIKPtxsn0sGa9vl/e8iggdMx5gZS2pD2DL3TbG4o8x5U/ighD1yxtSTtG1Mujbq8OHOMngJ7EMHFNt/yaWxcDm98BWZUYRvRHQhz8DZDViWFySre8YxHdK7p04BhfAPQlhsHLuu2Nq8Ou8RkCpZd67OSIi7rlH1eHHeMjgHVJV5wCLmRt/4QyHLrmBxFZHweTyIkgGxeTIs9nLW9CHXbMWYH01ybwCbvSI9nDr8qtNXSNnQCnRWRjRPw5zfZOKsOBaz6FyPZSAjmjdXcd5fDLH422Pn9382BhfmEawNI/DPK0bnmT1Xl/ALc6yU3m1MtPAAAAAElFTkSuQmCC'\n                        : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAADZ0lEQVRIS62WT2gdVRTGvzPvmVYw0BJjqLRqX0sVBEHumXlJSPAtdBFoNurCUsGmtlTqwp24jEtx58K/rRWVIgR0UwhkFVw0ZOaebgRBY/zTotSoBXmY50vezJH7yCuT15eXmbF3Nczc7/zu+e49Zy6hwJicnBxeX19fEZF9BeRtCRURGmN0S9cUkb1FYuQGM/OqqlY6MCK6ZK09nReeC8zMp1X1IoBEREqdzD3POxJF0Y954JnBtVptb71eb7jglUqlPDc3FxtjjgD4wb0Tkcyxcu1xKrvnoij6spOdMeYSgFMA1kRkJGvWmVZpjPkawCSAb0Tkie7gxph/AewB8IaIvJUF3hc8MTGxv9FofArg+G52pk76R4ODg+cXFxdb/RZwB7harY7Ecfy5qj7dJdwnIn/vFMz3/aeSJFlMfyeiz4aHh8/Oz883u3VtsO/7h5IkuQxgomvCdc/zTkRRdDWLfW4OMz+vqm7f7+vSzA0NDc0sLCz80z5czPydqh5LTVoB8IKIXMsK22leEATH4zh2W7U/VfdvW2tfd+CXVfUCEcXW2vL/he2kT52BoyKy2raama+r6iEi+sJae+Juw5n5hqoeBHBZRE5uq+POisrl8rHl5WVn910ZzHxOVd8nopa19p7blnceRkdHH9nc3Pxpt7LJs5qpqak9a2trrsYxPT1dmp2dTe4Ab1n+sarOENFNa+2BPJBeczsulkqlZ8Mw/GpbqXULjDEbAJwlr4nIO0XhzLygqs8A+FZEHu9Zx+mXqupOetuSvI2/E6dWq5Xr9fpmvxg9W6Yx5parvaLgarV6sNVq3QDwiYjM9HKtJ5iZ/1TVoaJgY8xDAH7pd0nYKeM/ANxfFDw+Pv5ws9n8mYguWmvPZM7YGPM7gAeKgoMgOBzHsbuRXBCRs5nBzHxTVUeKgn3fryRJskpEH1prz2UGG2N+A3CgG8zMjwJwv0xOBbsyMDDw0tLSkjuQ7TE2NnZ0Y2NjhYg+sNa+kgf8K4AHHTgIgrEkSRzs9s3SBSKihqreu60pEF31PO9FIiq3Wq3vAbwnIuczg1NNfZuGiJY8zzsZhmG7tbrh+/64qrqFHe4BeFdEXs0DvqaqT24JrpRKpVNhGP61WxczxjzmtgKA2XLlTWvtbGbwboAs31336nfv+g9yRXgswr/XfwAAAABJRU5ErkJggg=='\n                    \"\n                  />\n                  <span>{{ item.collected ? '已收藏' : '收藏店铺' }}</span>\n                </div>\n                <div class=\"bar-item\" @click.stop>\n                  <a class=\"bar-item\" :href=\"'tel:' + item.mobile\">\n                    <img\n                      width=\"12\"\n                      height=\"15\"\n                      src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAC4UlEQVRIS7WWS2gTYRDHZzYxkR4qKCqKSA1Yj0K/SVcFIeKD9qCCWEFEvHhS9CKIFL0IRXrx4OvixYOIEAQFoQel2MuGZmcQPPmAQOmhECooRip1syO7ZEuabpqH7XdKdr/v/5v55rUI67xwnfVhBSCXyyUrlcqUqh6K4JZljbuue6sbY5YBiGhCVYfihESkK2+XDhHRF1XtD8QR8SEzXw9+E9FrVT0NAJMicrRTL0KAbdsHPM8r1A6nRORvvZAxRoP/3XgRAohoQVU3IuIRZv7QaCURfVfVzYlE4mSxWHzbiRchoJWFg4ODB6vVqoOIv5i5d80B7RjRDNqWB2sGSKfT2x3HKcfEoKSqe7oJdBTkV6p6BhHvM/ONhgz6AwDp2rOdIjLXcQyIaJ+qfkbEKjMn1ypFw5qKxJplUvQ8k8mk8/n8YifWNwIEAAYsyxp1XfdeJEREN1V1HADmRWTr/wA2AcCPuEBGXiDiADN/7ASyrIEZY4Ir2AAA50QkHwlls9ljvu+/6zqLIiHbtvd6nvc1ToiIZlV1FwDMiEhfu16saMFENK+qWwDghYhciMsoRCwCwNaoNsJgIp5n5peN4BWAkZGRRKlU8oKNjYU3PDycLpfLQV3ELsuyLrqu+7z+ZewQMcYE0yvMpLgWTURBVjnM/CbYk81mh3zfn6gZ1ec4zkwEaTqljDG/AaAHAD6JyP5Wd26MuQMAdxuNWnUM1qXnbWYeawUhorBnIeIsM+9eVmhxh40xwabQXUQ8wcxhqq62IqOSyWT/9PT0t5aD3BhzGQCeBqKWZR13Xff9agAiOquqQQ0tiki6JaAWxCu+7z+uefKIma81g9i23et53s8oFm0Bgs3GmEsA8KwmXEmlUtsKhcJCPYiIHqhqCEfEKWbOtQ2oQZb6VU04+NoIrmMHAByugz0Rkastg9zsGohoTFVHY97PZTKZvvq23pEHjYLGmB5EPGVZVrlYLE7GGfQPvENKLg7IHSsAAAAASUVORK5CYII=\"\n                    />\n                    <span>联系预约</span>\n                  </a>\n                </div>\n                <div class=\"bar-item\" @click=\"goAmap(index)\">\n                  <!-- <a class=\"bar-item\"\n                     :href=\"getAmapURL(index)\"> -->\n                  <img\n                    width=\"13\"\n                    height=\"13\"\n                    src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAACkklEQVRIS7WVPWgUURDHZ3bvDhUWEQUFrVQsRILwJrcWKmlSiKKFCZpCFLFSsPADBAUFbQTFQq38KESCpBALUbDQA5GQ3RlFxUbUAy20UBEjCue6Iy/chc3LXe4ud9lmd9+++f/e/HfmPYQ5vIjouOd5T6IoYuw2h4j6VfUeACyoaYsIdgVkjFmCiA9VleosfEREdnUEMsZcBYCDjvgvANgOAI/teBAE+VKplLQN6u3t3Zem6U0AcGNPiMh5Kx6G4dIkSb7YZ2ubvbcECsNwbZIkjwBgeXb1iHhXVXeLyN/sOBG9UNX1AHBMRC7OCBocHCyUy+URVd3hWPPR9/3+KIreNiokY4xms6kLIqKTqnrOEUk9z9sbx/HtZlVKRFtU9QEi/mTmhbX5E9bVK8mJVSBeZubDzcQd236r6nzf9zdHUfR0EkREQ6o6PDmA+C2fz68ZHR393g6gNreebZPWEdFXVV3s/OhPADDAzFGrQCI6rapnEPEZM2+copd9KRaL29I0HVbVwBF/l8vldo6Njb2aCVrLJgiCRaVS6UdDkOP1AADcsn474iIi03aAvr6+eePj43/captSDM2sIaI9qnodAAp2rud56+I4fpONM8bcB4CtiHiJmY+4mi01bC2IiPar6g0AeC0iPQ5oWu+0ZF2jLOtVVRiGPUmSvETEf8ycqxfbVkbVnktU1fc8b1Ucxx+qY59VdRkiDjHznW6BDqnqFUSMmbloRRv1TkfWucLGmAMAcA0Ry8y8spHlbVtXBaV2hyoUCisqlYptbKuzWkTedxt0FAAuAIDdyzY16p2OrcvaVxWbOK5n6sdZWeeCasf1XIFOAcDZVmyzc2adUTWrCgBsEJHnzbaxjkDNxLPf/wPvUxgqW8B9HwAAAABJRU5ErkJggg==\"\n                  />\n                  <span>导航到店</span>\n                  <!-- </a> -->\n                </div>\n              </div>\n            </div>\n          </li>\n        </ul>\n        <div class=\"noMore\">\n          <span>没有更多啦~</span>\n        </div>\n        <div style=\"width:100%;height:.5rem\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n<style scoped lang=\"scss\">\n// @import '@/assets/styles/mixin';\n#amap {\n  height: 8.3rem;\n}\n#amap ::v-deep .amap-logo,\n#amap ::v-deep .amap-copyright {\n  display: none !important;\n}\n.bottom-table-empty {\n  display: flex;\n  height: 3rem;\n  // background-color: red;\n  justify-content: center;\n  align-items: center;\n}\n.table {\n  overflow: hidden;\n  overflow-y: auto;\n  height: 100%;\n  -webkit-overflow-scrolling: touch;\n}\n.on-top {\n  top: 3.42rem;\n}\n.on-bottom {\n  top: 8.66rem;\n  // top: 9rem;\n}\n.bottom-table {\n  position: absolute;\n  // top: 9.22rem;\n  overflow: hidden;\n  padding-bottom: 8px;\n  transition: top 0.375s;\n  bottom: 0;\n  width: 100%;\n  background: #eee;\n  .header {\n    height: 0.76rem;\n    background-color: #fff;\n    text-align: center;\n    border-bottom: 0.02rem #eee solid;\n    #svg {\n      width: 0.6rem;\n      height: 0.2rem;\n      margin-top: 0.28rem;\n      // background-color: red;\n    }\n    polyline {\n      fill: transparent;\n      stroke: #aaa;\n      stroke-width: 4px;\n      stroke-linecap: round;\n    }\n  }\n}\n.table-cell {\n  background-color: #fff;\n  font-family: PingFangSC-Medium, PingFang SC;\n  // height: 2.4rem;\n  line-height: 0.44rem;\n  padding: 0.24rem 0.24rem 0 0.24rem;\n  flex-direction: column;\n  display: flex;\n  align-items: baseline;\n  margin-bottom: 0.16rem;\n}\n.table-cell .title-line {\n  width: 100%;\n}\n.table-cell .title {\n  font-size: 0.32rem;\n  color: #333333;\n  font-weight: 500;\n  display: inline-block;\n  width: calc(100% - 1.6rem);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  vertical-align: middle;\n}\n.table-cell .tag {\n  border: 1px solid #2283e2;\n  font-family: PingFangSC-Regular, PingFang SC;\n  border-radius: 0.04rem;\n  padding: 0.04rem 0.08rem;\n  color: #2283e2;\n  font-size: 0.22rem;\n  font-weight: 400;\n  margin-right: 0.12rem;\n  position: relative;\n  // top: -0.05rem;\n  white-space: nowrap;\n}\n.table-cell .address,\n.table-cell .distance {\n  margin-top: 0.08rem;\n  font-size: 0.24rem;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: rgba(102, 102, 102, 1);\n  line-height: 0.34rem;\n}\n.table-cell .address {\n  display: flex;\n  align-items: center;\n}\n.table-cell .distance {\n  margin-top: 0.16rem;\n  color: #999999;\n}\n.divider {\n  height: 1px;\n  border-top: 1px #eee solid;\n  width: 100%;\n  margin-top: 0.24rem;\n  // margin-bottom: 0.24rem;\n}\n.bottom-bar {\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  height: 1rem;\n}\n.bar-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 1.55rem;\n}\n.bar-item img {\n  // width: 0.16rem;\n  // height: 0.15rem;\n  position: relative;\n  top: -1px;\n}\n.bar-item span {\n  margin-left: 0.08rem;\n  font-size: 0.28rem;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: #333333;\n  line-height: 0.2rem;\n  vertical-align: middle;\n}\n.noMore {\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  font-size: 0.24rem;\n  background: #f5f5f5;\n  color: #b8b8b8;\n  height: 1.08rem;\n  line-height: 0.88rem;\n}\n.coupon-icon {\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAD5klEQVRIS72Wa2wUVRiGnzO7s/dbW6sWEFo17Xon9Ac1arykgfpLqZSqERIRTIqQGvxRq1WrKRTFWxUVY9oQDcFKLcQmBLRWo+IFNAYk1qJGwQtQLNvOtt3tbHfGzNZduna323DpSebHnDPnfb7vPed8cwSA4q8sjEAj6KWAx+g7h00B0SlDreen1sNiDKZ/DWSdQ0gqqYCMKBF9/sr3QS8/z7D/5EW76PMvGTgPNqaLXzGA+vRkN0bJCBQ5XoTTjnb0eCIuc7EfU+FsRrZ9mOiT8i5AmpnL6Lfdk8afEehcX4XpygKURTWgj5nh3LgG02WzUMprEuKOZx7E7M9HWfLY2QHFxTn4dr/MUP1bqDs/i4l5P3kd9aN9hNZvib0bAXla1zFY9SyRLw6cGVC4HAi3IzbZtvIOtEAQta0LcWEW3ncbGGpoIdL1XWxcLitBnlvI8Ia3Y+96cBh9cDglOK2l9ocWY19dcUb7KbRpO6HX2lID9aLl7n4pWKrpohEoin8lstwYz/gmrBbcW54k0rmPUPMHaYPRA0GMZ1zrkYRe69PcnSLeGci/06fZLEbFSUD/r2hYa2Tdv7Aa/XjfVLPvkcJqSdbvO/tjx2L8rMAVFYs0XbRbym9Bnn/1BEH51mIYUYl8+UNGWOSbQ6jtnyIJvTyre/uOhHPjZxr2nhKDirWyFPmGa08P2W1YbryO6J+9RLt/S4bZrFhumsvooV/Rjv2TGIvsPchIayfZussjeloS/iZlGAcmrVu2B9fmR5G8LpSlT6H3BiZk52xchXleEcp99egnk8cnBcYtjStKBTNwv1EDspng0nq0v0+mttIq43rlEcyFswlWv0j04C+J79JaOn7TCI8TW1U5tnvL0Hr70E4E0P5KA4tLy2ZMl8/CdOlMwu/sIrx5B/rAoDGavGkmHAuHDd+eJoTNyvCr76Hu/gpn3f0xWWlGLiZ/PpGu/cmZWmQsN89DeaABo6Y6apahD4UYuP1hCKtj0PixSPW3kBeWMPp9z4T1cj63GinbS3DFuiSgEYjv400M3F1H9MDPiFwfpjl5KQt5xuKdWM9LLsLb8QJDT7yJ2vF5EtB0VQHetg30l1WjHTn9V0m14FMD2q24mx+P2awsrgVNS9KSF8zH3bSWU8XLYHhk0jOaESjl5+FqWouU4yW4vIHo4aMTBB31K5Cvv4aBhdUZC0JaoMj2YF9TgfWu24geOcbgqo1of5yICVrvWQBWGaIa5qI5GJUp3NJB6PmtZwF02XE116Hu2svI1j0wGk2IOZ5eiVwyVvr0sEpk/4+EXtoGQ+EpAaf7EjXN18Rpvwgbpk/nVf9f5UiTZuhaBmEAAAAASUVORK5CYII=')\n    center center no-repeat;\n  width: 14px;\n  height: 14px;\n  display: inline-block;\n  background-size: cover;\n  margin-right: 0.16rem;\n}\n</style>\n<script>\nimport AMap from '@/utils/AMap'\nimport http from '@/http'\nimport utils from '@/utils/utils'\nimport { Toast } from 'vant'\n// import axios from 'axios'\nimport UplusApi from '@uplus/uplus-api'\nconst instance = new UplusApi()\ninstance.initDeviceReady()\n\nexport default {\n  name: 'ShopNearby',\n  components: {},\n  data() {\n    return {\n      mapScript: null,\n      map: null,\n      location: null,\n      storesData: [],\n      nearLocation: null,\n      offsetTop: 0,\n      markers: [],\n      selectedIndex: 0,\n      onTop: false,\n      pathOnBottom: '3 7, 15 3, 27 7',\n      pathOnTop: '3 3, 15 7, 27 3',\n      animating: false,\n      animateDuration: 3750,\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    if (from.meta.keepAlive) {\n      // 只针对 keep-alive 的页面记录滚动位置\n      let $content = document.querySelector('#table'); // 列表的外层容器\n      let scrollTop = $content ? $content.scrollTop : 0;\n      console.log('scrollTop', scrollTop)\n      from.meta.scrollTop = scrollTop;\n    }\n    next();\n  },\n  activated() {\n    let scrollTop = this.$route.meta.scrollTop;\n    if (scrollTop && scrollTop !== 0) {\n      // 初次进入页面不执行，返回页面执行\n      let $content = document.querySelector('#table');\n      if ($content) {\n        this.$nextTick(() => {\n          $content.scrollTop = scrollTop;\n        })\n      }\n    }\n  },\n  created() {\n    // Toast.loading({\n    //   message: '加载中...',\n    //   forbidClick: true,\n    // })\n    this.getLocation()\n    // this.loadShopNearby()\n  },\n  filters: {\n    // 处理距离\n    fixedDistance(value) {\n      try {\n        if (value >= 1000) {\n          value = value / 1000\n          return value.toFixed(1)\n        } else {\n          return value\n        }\n      } catch {\n        return 0\n      }\n    },\n  },\n  methods: {\n    toggleTop() {\n      this.animating = true\n      this.onTop = !this.onTop\n      setTimeout(() => {\n        this.animating = false\n      }, this.animateDuration)\n    },\n    // 加载附近的店铺，然后获取最近的店铺后 作为坐标中心\n    loadShopNearby() {\n      http\n        .getNearbyList({\n          // cityId: this.$store.state.cityId, // 不传取全国\n          itemsId: 1, // 0：专卖店；\n          latitude: this.location.lat,\n          longitude: this.location.lng,\n          pageIndex: 1,\n          pageSize: 1000,\n          maxDistance: 30,\n          // type: 1, // 1：专卖店；0：体验店， 不传为全部\n        })\n        .then(res => {\n          if (res.success) {\n            if (!res.data || res.data.length === 0) {\n              // this.$toast({ message: '抱歉，您选择的地区暂无智家体验店', duration: 10000 })\n            } else {\n              this.storesData = res.data\n              this.nearLocation = {\n                lng: res.data[0].longitude,\n                lat: res.data[0].latitude,\n              }\n            }\n            this.initAMap()\n          }\n        })\n    },\n    // 获取当前位置\n    getLocation() {\n      // 如果在U+中，获取APP的位置信息，如果获取不到则遵循默认地址\n      // 默认地址\n      const that = this\n      this.location = { lng: this.$store.state.longitude, lat: this.$store.state.latitude }\n      this.$store\n        .dispatch('doLocation', true)\n        .then(res => {\n          if (res === 400) {\n            that.loadShopNearby()\n          } else {\n            this.location = { lng: res.longitude, lat: res.latitude }\n            that.loadShopNearby()\n          }\n        })\n        .catch(err => {\n          console.log('--------------========', err)\n        })\n    },\n    // 初始化地图\n    async initAMap() {\n      try {\n        const res = await AMap()\n        this.mapScript = res\n        this.map = new res.Map('amap', {\n          resizeEnable: true,\n          zoom: 14,\n          center: this.nearLocation ? [this.nearLocation.lng, this.nearLocation.lat] : [this.location.lng, this.location.lat],\n        })\n        this.addMarks()\n      } catch (err) {\n        // Toast.clear()\n      }\n    },\n    // 添加大头针\n    async addMarks() {\n      let res = null\n      let that = this\n      if (this.mapScript) {\n        res = this.mapScript\n      } else {\n        res = await AMap()\n      }\n      let markers = []\n      let iconSize = { big: { w: 42, h: 54 }, normal: { w: 22, h: 28 } }\n      this.storesData.forEach((item, index) => {\n        let isSelected = index === that.selectedIndex\n        var marker = new res.Marker({\n          content: isSelected ? this.markIcon('big', index, iconSize) : this.markIcon('', index, iconSize),\n          position: [item.longitude, item.latitude],\n          extData: { index },\n          offset: new res.Pixel(\n            isSelected ? -iconSize.big.w / 2 : -iconSize.normal.w / 2,\n            isSelected ? -iconSize.big.h : -iconSize.normal.h\n          ),\n          zIndex: isSelected ? 101 : 100,\n        })\n        marker.on('click', ctx => {\n          that.selectedMarker(ctx.target.getExtData().index, ctx.target)\n        })\n        markers.push(marker)\n      })\n      this.markers = markers\n      this.map.add(markers)\n      // Toast.clear()\n    },\n    async selectedMarker(index, marker) {\n      // 移动地图\n      const data = this.storesData[index]\n      if (!data) {\n        return ''\n      }\n      this.selectedIndex = index\n      let res = null\n      let that = this\n      if (that.mapScript) {\n        res = that.mapScript\n      } else {\n        res = await AMap()\n      }\n      const elat = data.latitude\n      const elng = data.longitude\n      var position = new res.LngLat(elng, elat)\n      that.map.setCenter(position)\n      // 重新渲染所有markers\n      that.map.remove(this.markers)\n      await that.addMarks()\n      // 滚动列表\n      var height = 0\n      for (var i = 0; i < index; i++) {\n        height += document.getElementById(i).offsetHeight\n        height += 8 // margin 不计算在 offsetHeight中\n      }\n      document.getElementById('table').scrollTop = height\n    },\n    // 大头针样式\n    markIcon(size, index, iconSize) {\n      let title =\n        this.selectedIndex === index\n          ? `<div style=\"position:absolute;top:-25px;padding:4px;white-space:nowrap;height:15px;text-align:center;background-color:white;border-radius:5px;border:1px solid #ccc\">${this.storesData[index].name}</div>`\n          : ''\n      // let title = ''\n      return `<div style=\"overflow:hidden;display:flex;flex-direction:column; align-items:center\" class=\"marker sg-amap-marker\">\n        ${title}\n        <img width='${size === 'big' ? iconSize.big.w : iconSize.normal.w}'\n        height='${size === 'big' ? iconSize.big.h : iconSize.normal.h}'\n         src='data:image/png;base64,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'/>\n     </div>`\n    },\n    // 跳转导航\n    goAmap(index) {\n      const data = this.storesData[index]\n      if (!data) {\n        return ''\n      }\n      const elat = data.latitude\n      const elng = data.longitude\n\n      if (utils.isIos() || utils.isAndroid()) {\n        // window.location = this.getAmapURL(index)\n        setTimeout(function() {\n          const encode = encodeURI(`${elng},${elat}`)\n          const name = data.name\n          utils.openNewWindow(`https://uri.amap.com/marker?position=${encode}&name=${name}`, true)\n          // utils.openNewWindow(`http://api.map.baidu.com/marker?location=${elat},${elng}&title=${data.name}&output=html`, true)\n        }, 500)\n      } else {\n        utils.openNewWindow(this.getAmapURL(index), true)\n      }\n    },\n    getAmapURL(index) {\n      const data = this.storesData[index]\n      if (!data) {\n        return ''\n      }\n      const elat = data.latitude\n      const elng = data.longitude\n      if (!utils.isIos() && !utils.isAndroid()) {\n        const encode = encodeURI(`${elng},${elat}`)\n        const name = encodeURI(data.name)\n        return utils.openNewWindow(`https://uri.amap.com/marker?position=${encode}&name=${name}`, true)\n        // return `http://api.map.baidu.com/marker?location=${elat},${elng}&title=${data.name}&output=html`\n      }\n      let proto = utils.isIos() ? 'iosamap://path' : utils.isAndroid ? 'amapuri://route/plan' : ''\n      const AppUrl = proto + '?t=0&dlat=' + elat + '&dlon=' + elng + '&dname=' + encodeURI(data.name)\n      return AppUrl\n    },\n    collectStore(index) {\n      let that = this\n      const data = this.storesData[index]\n      if (!data) {\n        return\n      }\n      // 检查登录状态\n      if (this.$store.getters.getLoginStatus) {\n        http\n          .collectStore({\n            collectId: data.storeId,\n            type: 1, // data.type,\n          })\n          .then(res => {\n            console.log(res)\n            if (res.success) {\n              let arr = that.storesData.slice(0)\n              if (res.totalCount === 1) {\n                arr[index].collected = true\n                Toast.success('收藏成功')\n              } else {\n                arr[index].collected = false\n                Toast.success('已取消')\n              }\n              that.storesData = arr\n            } else {\n              Toast.fail('收藏失败')\n            }\n          })\n      } else {\n        this.$store.dispatch('doLogin').then(res => {\n          if (res === 400) {\n            console.log('请求异常')\n          } else {\n            http\n              .collectStore({\n                collectId: data.storeId,\n                type: 1, // data.type,\n              })\n              .then(res => {\n                if (res.success) {\n                  let arr = that.storesData.slice(0)\n                  if (res.totalCount === 1) {\n                    arr[index].collected = true\n                    Toast.success('收藏成功')\n                  } else {\n                    arr[index].collected = false\n                    Toast.success('已取消')\n                  }\n                  that.storesData = arr\n                } else {\n                  Toast.fail('收藏失败')\n                }\n              })\n          }\n        })\n      }\n    },\n    gotoStore(index) {\n      const data = this.storesData[index]\n      if (!data) {\n        return\n      }\n      this.$router.push({ path: '/nearshop', query: { nearStoreId: data.id } })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3a52081a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3a52081a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a52081a\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 店铺相关\n */\nimport URL from '../url.js'\nimport { get, post } from '../http'\nimport config from '@/config'\n\n// 店铺信息\nexport const manage = data => get(URL.manage, data)\n// 关注店铺\nexport const collectStore = data => get(URL.collectStore, data)\n// 获取商家营业执照\nexport const enterprise = data => get(URL.enterprise, data)\n// 店铺分类\nexport const getNavigations = data => get(URL.getNavigations, data)\n// 获取图形验证码（商城）\nexport const getImgCaptcha = data => get(URL.getImgCaptcha, data)\n// 领券中心商品类目列表\nexport const getViewCouponCate = data => get(URL.getViewCouponCate, data)\n// 领券中心\nexport const getCouponsCenter = data => get(URL.getCouponsCenter, data, {}, true)\n// 领券\nexport const receiveCoupon = data => get(URL.receiveCoupon, data)\n// 分类商品列表\nexport const commonLoadItemNew = data =>\n  get(URL.commonLoadItemNew, data, {\n    baseURL: config.SHOST,\n  }, true)\n// 异步获取信息接口(获取商品价钱)\nexport const getPriceByProductList = data =>\n  get(URL.getPriceByProductList, data, {\n    baseURL: config.SHOST,\n  }, true)\n// 获取商品分类项\nexport const wdMarketFiltrate = data =>\n  get(URL.wdMarketFiltrate, data, {\n    baseURL: config.SHOST,\n  })\nexport const getNearbyList = data => get(URL.nearbyList, data, {})\nexport const getBusinessCustomer = data =>\n  get(URL.getBusinessCustomer, data, {\n    baseURL: config.HOST4,\n  })\nexport const GET_BANNER = data => get(URL.GET_BANNER, data)\n\n// export const getCouponsList = data => get(URL.getCouponsCenter, data, {}, true)\n// 获取店铺的直播信息\nexport const getLiveByStoreId = data => get(URL.getLiveByStoreId, data)\n// 获取限时抢购商品列表\nexport const getStoreFlashSale = data => get(URL.getStoreFlashSale, data)\n// 获取店铺的商品分类\nexport const getCate = data => get(URL.getCate, data)\n\n/** 店招模块接口 */\nexport const getStoreSign = param => get(URL.storeSign, param);\n/** 首页精选模块接口 自定义页面数据 */\nexport const getSelectedModel = param => get(URL.storeSelectedModel, param);\n/** 自定义页面数据 */\nexport const getCustomPageModel = param => get(URL.getCustomPage, param);\n/** 用户案例 老的场景接口筛选type为case */\nexport const getUserCases = param => get(URL.GET_STORE_SCENE, param);\n/** 推荐商品列表 生态优选列表 */\nexport const getRecommendList = params => get(URL.recommendProducts, params);\n/** VR预览列表 */\nexport const getVRPreviews = param => get(URL.storeVRPreviewList, param);\n/** 预售专区 */\nexport const getPreSales = (param, isPlatForm) => {\n  if (isPlatForm) {\n    return get(URL.platformPreSale, param);\n  } else {\n    return post(`${URL.preSaleList}?storeId=${param.storeId}`);\n  }\n}\n/** 店铺场景筛选条件 */\nexport const getStoreSceneTabs = param => get(URL.sceneTabList, param);\n/** 店铺场景列表 */\nexport const getStoreScene = param => post(URL.sceneList, param);\n\n/** 店铺场景列表(新) */\nexport const getStoreSceneNew = param => get(URL.sceneListNew, param, {\n  baseURL: config.DHOST\n});\n\n/** 店铺分店列表 */\nexport const getSubStoreList = param => get(URL.subStoreList, param);\n// /** 店铺预览接口 */\nexport const getShopPreview = param => post(URL.shopPreview, param, {\n  baseURL: config.STOREHOST\n});\n// /** 店铺自定义页面预览接口 */\nexport const getCustomPagePreview = param => post(URL.customPagePreview, param, {\n  baseURL: config.STOREHOST\n});\n/** 店招模块预览接口 */\nexport const getStoreSignPreview = param => get(URL.storeSignPreview, param, {\n  baseURL: config.STOREHOST\n});\n/** 店铺上新接口 */\nexport const getStoreNewProducts = param => get(URL.storeNewProducts, param);\n/** 验证当前位置是否在私域返回 */\nexport const checkPrivateDomain = param => get(URL.checkPrivateDomain, param, { cancelRepeat: true });\n// 获取套购列表\nexport const getSuitList = data => get(URL.getShopSuitList, data)\n// 获取套购广告图\nexport const getSuitImage = data => get(URL.getShopSuitImage, data)\n// 获取套购详情\nexport const getSuitDetail = data => post(URL.getShopSuitDetail, data, { cancelRepeat: true })\n\nexport const validateTabOrSpace = data => post(URL.validateTabOrSpace, data)\n\nexport const checkIdentity = data => get(URL.checkIdentity, data)\n\n/** 发现好货 */\nexport const getFindGoods = (param) => get(URL.storeFindGoods, param);\n"],"sourceRoot":""}