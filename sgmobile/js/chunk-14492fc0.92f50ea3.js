(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14492fc0"],{b566:function(e,t,o){},f10a:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",{staticClass:"pic-top-bg",style:{background:"url("+e.storeSign.storeBgImg+") 0% 0% / 100% 5.96rem no-repeat"}},[o("div",{staticClass:"top-bg-masking"}),o("div",{staticClass:"top-gradient"})]),o("div",{staticClass:"shop-nav-bar"},[o("div",{staticClass:"top-back-btn"}),e._m(0),e.showShare?o("div",{staticClass:"share-btn"}):e._e()]),e.isSkeletonLoading?o("skeleton",{attrs:{zIndex:3,nums:4,iheight:".4rem"}}):o("div",[o("div",{staticClass:"content",attrs:{id:"content"}},[o("shop-header",{attrs:{shopInfo:e.shopBasicInfo,storeSign:e.storeSign},on:{toogleModal:e.toogleModal,updateShopInfo:e.getMemberStoreId}}),o("keep-alive",["tab-home"===e.bottomTabType?o("tab-recommend",{attrs:{storeId:e.shopStoreId,shareId:e.shareId,storeSceneData:e.storeSceneData,storeSign:e.storeSign}}):e._e(),"tab-product"===e.bottomTabType?o("tab-product",{attrs:{storeId:e.shopStoreId,shareId:e.shareId,isBottomBar:!0}}):e._e(),"tab-category"===e.bottomTabType?o("tab-category",{attrs:{storeId:e.shopStoreId,shareId:e.shareId,storeSign:e.storeSign}}):e._e()],1)],1)]),e.isSkeletonLoading?e._e():o("bottom-tab",{attrs:{storeId:e.shopStoreId,showSignUp:6===e.storeSign.storeType||"12"===e.storeSign.shopStoreCategory,storeCode:e.storeSign.storeCode,showSceneTab:"9"!==e.storeSign.synStoreType,currentTab:e.bottomTabType,storeSceneData:e.storeSceneData},on:{changeTab:e.changeBottomTab}}),o("address-list-modal",{attrs:{storeId:e.shopStoreId,showAddress:e.showAddress},on:{"update:showAddress":function(t){e.showAddress=t},"update:show-address":function(t){e.showAddress=t}}})],1)},r=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"search-bar"},[o("div"),o("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/shop/icon_shop_search.png"}}),o("span",[e._v("搜索")])])}],n=o("c3f5"),a=o("2f62"),i=o("a73f"),c=o("5457"),d=o("c9b2"),l=o("815f");function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p=function(){return o.e("chunk-771825f2").then(o.bind(null,"8ce6"))},b=function(){return o.e("chunk-e9915004").then(o.bind(null,"71d1"))},f=function(){return Promise.all([o.e("chunk-3aea2a64"),o.e("chunk-3bda9849")]).then(o.bind(null,"8331"))},S="H5",m={H5:{val:5,urlKey:"detailUrl"},WeChat:{val:22,urlKey:"weChatDetailUrl"},Flutter:{val:16,urlKey:"flutterDetailUrl"}}[S],I={queryStoreId:"",scrollTop:0},y={components:{skeleton:i["a"],shopHeader:c["a"],bottomTab:d["a"],tabRecommend:l["a"],tabCategory:b,tabProduct:f,addressListModal:p},data:function(){return{showShare:this.$util.isSgRn()||this.$util.isHaierApp(),isSkeletonLoading:!1,bottomTabType:"tab-home",shopStoreId:"",shareId:"",shopBasicInfo:{},storeSign:{showLogo:1,logoUrl:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/uplus_logo.png",storeType:1,shopStoreCategory:"",storeBgImg:"http://cdn50.ehaier.com/mobilemall-admin-web/bannercontroller/image/2020/11/6858e97ff3e140acb3b004b838654e22.png",storeCode:"",storeAddress:"",latitude:"",longitude:"",storeName:"",chosenTab:1},storeSceneData:{},showAddress:!1}},computed:h(h({},Object(a["d"])(["mId"])),{},{location:function(){return this.$store.getters["getlocationInfo"]}}),created:function(){I.queryStoreId=this.$route.query.storeId,this.getMemberStoreId()},activated:function(){this.$nextTick((function(){setTimeout((function(){document.getElementById("content").scrollTo(0,I.scrollTop||0)}),100)}))},beforeRouteLeave:function(e,t,o){I.scrollTop=document.getElementById("content").scrollTop,o()},mounted:function(){},methods:{getSceneList:function(){var e=this,t={current:1,size:4,storeId:this.storeSign.storeId};Object(n["getStoreSceneNew"])(t).then((function(t){if(e.loading=!1,t.success){var o="";t.data["senceList".concat(S,"Url")]&&(o=t.data["senceList".concat(S,"Url")],o.includes("?")?o+="&":o+="?",o+="userId=".concat(e.$store.state.ucId?e.$store.state.ucId:"","&userAccessToken=").concat(e.$store.getters.getUserCenterToken)),e.storeSceneData=h(h({},t.data),{},{storeSenceUrl:e.$util.injectISOAddressCodeToURL(o,e.$store.getters.getlocationInfo),jumpType:m.val,sceneUrlKey:m.urlKey}),console.log("场景数据",e.storeSceneData)}else e.$toast(t.message||"获取数据失败，请稍后重试")}))},getMemberStoreId:function(){var e=this;Object(n["manage"])({storeId:I.queryStoreId,provinceId:this.location.provinceId,cityId:this.location.cityId,ionId:this.location.districtId,street:this.location.townshipId,shareStoreId:this.shareId}).then((function(t){t.success?(e.shopStoreId=t.data.storeId?t.data.storeId+"":"",e.shopBasicInfo=t.data,e.getStoreSign()):e.$toast(t.message)}))},getStoreSign:function(){var e=this;Object(n["getStoreSignPreview"])({storeId:this.shopStoreId}).then((function(t){t.success?(e.storeSign=h(h({},e.storeSign),t.data),"9"!==t.data.synStoreType&&e.getSceneList(),t.data.logoUrl||(9!==Number(t.data.synStoreType)||e.$util.isSyBird()?e.storeSign.logoUrl="".concat(e.$cdnImageUrl,"/sybird_default_logo.png"):e.storeSign.logoUrl="".concat(e.$cdnImageUrl,"/uplus_logo.png"))):console.log("获取店招模块失败")}))},getShopPreview:function(){var e=this,t={storeCode:this.$route.query.storeCode};Object(n["getShopPreview"])(t).then((function(t){t.success&&t.data&&t.data.controlViews&&t.data.controlViews.length&&console.log("yulanstoreId=",e.shopStoreId)}))},changeBottomTab:function(e){this.bottomTabType!==e&&(this.bottomTabType=e)},toogleModal:function(e){this.showAddress=e}}},w=y,v=(o("ff4f"),o("2877")),T=Object(v["a"])(w,s,r,!1,null,"4978912d",null);t["default"]=T.exports},ff4f:function(e,t,o){"use strict";o("b566")}}]);
//# sourceMappingURL=chunk-14492fc0.92f50ea3.js.map