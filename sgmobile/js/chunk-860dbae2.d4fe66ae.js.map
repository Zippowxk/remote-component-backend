{"version":3,"sources":["webpack:///./src/views/order/trackingOrders/order-track-info.vue?1bb1","webpack:///./src/views/order/mapTrackingOrders/components/trackMap.vue?5da5","webpack:///./src/views/order/mapTrackingOrders/index.vue?2935","webpack:///./src/views/order/trackingOrders/order-track-info.vue?57ad","webpack:///src/views/order/trackingOrders/order-track-info.vue","webpack:///./src/views/order/trackingOrders/order-track-info.vue?39ed","webpack:///./src/views/order/trackingOrders/order-track-info.vue","webpack:///./src/views/order/mapTrackingOrders/index.vue?0b4d","webpack:///./src/views/order/mapTrackingOrders/components/trackMap.vue?0c32","webpack:///./src/utils/Driving.js","webpack:///src/views/order/mapTrackingOrders/components/trackMap.vue","webpack:///./src/views/order/mapTrackingOrders/components/trackMap.vue?e630","webpack:///./src/views/order/mapTrackingOrders/components/trackMap.vue","webpack:///src/views/order/mapTrackingOrders/index.vue","webpack:///./src/views/order/mapTrackingOrders/index.vue?1a3d","webpack:///./src/views/order/mapTrackingOrders/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","from","_l","item","index","key","nodeType","parentData","length","nodeName","domProps","_s","nodeContent","on","option","trackNo","noCancle","toLogistigsTrack","_m","_e","_v","nodeTime","attrs","model","value","callback","$$v","copyOptionShow","expression","currentPhoneNum","copyPhone","callPhone","cancleOption","staticRenderFns","name","props","type","default","orderNo","String","data","created","getLogisticsCode","computed","filter","i","methods","res","success","event","target","className","console","log","innerText","text","that","clipboard","location","href","$router","push","query","component","scMpEnv","goback","slot","resData","orderProductInfo","defaultImageUrl","trackListAll","handleScroll","mapData","noGeo","currentTrackNode","expressFixed","expressNumber","expressCompany","copy","ref","staticStyle","expandStatus","trackList","directives","rawName","MapLoader","Promise","resolve","reject","window","AMap","script","document","createElement","async","src","onerror","head","appendChild","initAMap","components","Boolean","trackData","Object","watch","handler","mapObj","drawMap","initMap","then","deep","path","marker","storeMark","distributionMark","receivingMark","peisongMark","reDrawCount","rewDrawTimer","mounted","drivingEndPoint","LngLat","serviceManTraces","lon","lat","geoInfo","userAddressLon","userAddressLat","driving","Driving","map","hideMarkers","showTraffic","showDir","isOutline","drivingStartPoint","netPoint","search","waypoints","status","clearMap","steps","forEach","it","lng","initMark","drawTrackLine","setFitView","zoomOut","panBy","clearTimeout","err","setTimeout","strokeColor","strokeOpacity","strokeWeight","strokeStyle","lineJoin","zIndex","borderWeight","polyline","setMap","userEndPoint","polyline2","car","Marker","position","pass","icon","Icon","image","size","Size","imageSize","offset","Pixel","autoRotation","moveTo","passedPolyline","setPath","context","storeText","receivingText","anchor","label","direction","netPointAddress","netPointLon","netPointLat","dateFormater","formater","indexOf","ret","val","toLocaleDateString","formatDate","dateFormaterWithCn","dateStr","startAnimation","moveAlong","pauseAnimation","pauseMove","resumeAnimation","resumeMove","stopAnimation","stopMove","orderTrackInfo","Header","trackMap","mapScript","orderSn","cOrderSn","fromDetail","trackListFold","lastInfoScrollTop","rem","utils","getREM","_query","$util","isHaierApp","$store","dispatch","isLogin","initData","getters","getLoginStatus","getOrderTrack","initOrderProductTrackGeo","mapDom","style","opacity","_eiTop","toggleFoldInfo","$toast","corderSn","trackObj","signNodes","orderCancelNodes","_trackList","concat","deliverNodes","shippingNodes","collectNodes","depotNodes","orderNodes","selectPhoneNumber","regx","phoneNums","str","match","temp","replace","toTrackList","list","obj","node","unshift"],"mappings":"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","file":"js/chunk-860dbae2.d4fe66ae.js","sourcesContent":["export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order-track-info.vue?vue&type=style&index=0&id=7f7d697c&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trackMap.vue?vue&type=style&index=0&id=22493f18&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5085e5ed&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"track-info-container\",class:{'wx':_vm.from === '1'}},_vm._l((_vm.parentData),function(item,index){return _c('div',{key:index,class:{'line': true, 'complete': index === 0, 'first': index === 0,'main': item.nodeType==='main','hide-line':item.nodeType==='main'&&index===_vm.parentData.length-2}},[_c('span',{class:{'install':item.nodeName==='安装服务','collect':item.nodeName==='已揽件','cancle':item.nodeName==='已取消','signIn':item.nodeName==='已签收','delivery':item.nodeName==='派送中','transit':item.nodeName==='运输中','warehouse':item.nodeName==='仓库处理中','order':item.nodeName==='已下单'}}),_c('div',{class:{'main-title':item.nodeType==='main','info':item.nodeType!=='main'},domProps:{\"innerHTML\":_vm._s(item.nodeType==='main'?item.nodeName:item.nodeContent)},on:{\"click\":_vm.option}}),(_vm.trackNo && _vm.noCancle && item.nodeType==='main' && item.nodeName==='派送中')?_c('div',{staticClass:\"view-map-container\",on:{\"click\":_vm.toLogistigsTrack}},[_vm._m(0,true)]):_vm._e(),(item.nodeType!=='main')?_c('div',{staticClass:\"date\"},[_vm._v(\" \"+_vm._s(item.nodeTime || '')+\" \")]):_vm._e()])}),0),_c('van-dialog',{attrs:{\"className\":\"custome-confirm\",\"showConfirmButton\":false,\"showCancelButton\":false,\"title\":\"\",\"width\":\"304px\",\"cancel-button-color\":\"#666666\",\"get-container\":\"#element-container\"},model:{value:(_vm.copyOptionShow),callback:function ($$v) {_vm.copyOptionShow=$$v},expression:\"copyOptionShow\"}},[_c('div',{staticClass:\"option-container\",class:{'wx':_vm.from === '1'}},[_c('div',{staticClass:\"phonenum-show\"},[_vm._v(_vm._s(_vm.currentPhoneNum))]),_c('div',{staticClass:\"copy-option\",on:{\"click\":_vm.copyPhone}},[_c('span',[_vm._v(\"复制号码\")])]),_c('div',{staticClass:\"call-option\"},[_c('div',{on:{\"click\":_vm.callPhone}},[_vm._v(\"拨打电话\")])]),_c('div',{staticClass:\"cancle-option\"},[_c('div',{on:{\"click\":_vm.cancleOption}},[_vm._v(\"取消\")])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-tips\"},[_c('div',{staticClass:\"map-icon\"}),_vm._v(\"查看配送地图\")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <div class=\"track-info-container\" :class=\"{'wx':from === '1'}\">\n     <div v-for=\"(item, index) in parentData\" :key=\"index\" :class=\"{'line': true, 'complete': index === 0, 'first': index === 0,'main': item.nodeType==='main','hide-line':item.nodeType==='main'&&index===parentData.length-2}\">\n      <span :class=\"{'install':item.nodeName==='安装服务','collect':item.nodeName==='已揽件','cancle':item.nodeName==='已取消','signIn':item.nodeName==='已签收','delivery':item.nodeName==='派送中','transit':item.nodeName==='运输中','warehouse':item.nodeName==='仓库处理中','order':item.nodeName==='已下单'}\"></span>\n       <div :class=\"{'main-title':item.nodeType==='main','info':item.nodeType!=='main'}\" v-html=\"item.nodeType==='main'?item.nodeName:item.nodeContent\" @click=\"option\">\n      </div>\n      <div v-if=\"trackNo && noCancle && item.nodeType==='main' && item.nodeName==='派送中'\" class=\"view-map-container\" @click=\"toLogistigsTrack\">\n        <div class=\"map-tips\"><div class=\"map-icon\"></div>查看配送地图</div>\n      </div>\n      <div class=\"date\" v-if=\"item.nodeType!=='main'\">\n        {{item.nodeTime || ''}}\n      </div>\n    </div>\n    </div>\n      <van-dialog v-model=\"copyOptionShow\" className=\"custome-confirm\" :showConfirmButton=\"false\" :showCancelButton=\"false\" title=\"\" width=\"304px\" cancel-button-color=\"#666666\" get-container=\"#element-container\">\n      <div class=\"option-container\" :class=\"{'wx':from === '1'}\">\n        <div class=\"phonenum-show\">{{currentPhoneNum}}</div>\n        <div class=\"copy-option\" @click=\"copyPhone\"><span >复制号码</span></div>\n        <div class=\"call-option\">\n          <div @click=\"callPhone\">拨打电话</div>\n        </div>\n        <div class=\"cancle-option\">\n          <div @click=\"cancleOption\">取消</div>\n        </div>\n      </div>\n    </van-dialog>\n  </div>\n</template>\n\n<script>\nimport ClipboardJS from 'clipboard'; // 复制插件\n/*\n * 接口配置文件\n*/\nimport personalApi from '@/http/service/index';\n/*\n * 追踪订单 物流信息\n*/\nexport default {\n  name: 'orderTrackInfo',\n  props: {\n    /**\n     * 父组件传入数据源\n     */\n    parentData: {\n      type: null,\n      default: function () {\n        return []\n      },\n    },\n    /**\n     * 发货单号/网单号\n    */\n    orderNo: {\n      type: String,\n      default: function () {\n        return ''\n      },\n    },\n    /**\n    * 来源\n     */\n    from: {\n      type: null,\n      default: function () {\n        return ''\n      },\n    },\n  },\n  data() {\n    return {\n      copyOptionShow: false, // 复制号码，拨打电话操作弹窗\n      currentPhoneNum: '', // 电话号码,\n      trackNo: '', // 物流单号\n    }\n  },\n  created() {\n    this.getLogisticsCode()\n  },\n  computed: {\n    noCancle() {\n      return this.parentData.filter(i => {\n        return i.nodeName === '已取消'\n      }).length === 0\n    }\n  },\n  methods: {\n    /**\n     * @description 根据发货单号/网单号获取运单号\n    */\n    getLogisticsCode() {\n      personalApi.getLogisticsCode({ deliveryOrderCode: this.orderNo }).then(res => {\n        if (res.data.success) {\n          this.trackNo = res.data.data\n        }\n      })\n    },\n    /**\n     * @description 打开电话号码操作弹窗\n    */\n    option(event) {\n      if (event.target.className === 'copy phone-num' || event.target.className === 'phone-num') {\n        console.log(event.target.innerText)\n        this.currentPhoneNum = event.target.innerText\n        this.copyOptionShow = true\n      }\n    },\n    // handleInfoScroll(e) {\n    //   this.$emit('handleInfoScroll', e)\n    // },\n    /**\n     * @description 打开电话号码操作弹窗\n    */\n    cancleOption() {\n      this.copyOptionShow = false\n    },\n    /**\n     * @description 复制号码\n    */\n    copyPhone() {\n      let that = this\n      const clipboard = new ClipboardJS('.copy-option', {\n        text: function(trigger) {\n          return that.currentPhoneNum\n        }\n      });\n      clipboard.on('success', () => {\n        this.$toast.success('复制成功');\n        this.copyOptionShow = false\n      });\n\n      clipboard.on('error', () => {\n        this.$toast.success('复制失败');\n      });\n    },\n    /**\n     * @description  拨打电话\n    */\n    callPhone() {\n      location.href = 'tel:' + this.currentPhoneNum + ''\n      this.copyOptionShow = false\n    },\n    /**\n     * @description 跳转物流智汇宝物流轨迹\n    */\n    toLogistigsTrack() {\n      this.$router.push({ path: '/logistigsTrack',\n        query: {\n          trackNo: this.trackNo,\n        } })\n    },\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  background: #ffffff;\n  margin: 0 0 0.16rem 0;\n  padding: .24rem;\n  padding-top: .52rem;\n  .title {\n    font-size: 0.28rem;\n    font-weight: 400;\n    color: rgba(51,51,51,1);\n    line-height: 0.28rem;\n    margin: 0 0 0.32rem 0;\n  }\n\n  .line {\n    position: relative;\n    padding: 0 .25rem .56rem .34rem;\n    margin: 0 0 0 0.4rem;\n    font-size: 0.28rem;\n    font-weight: 400;\n    color: rgba(153,153,153,1);\n    // line-height: 0.40rem;\n    &:last-child{\n      padding-bottom: 0;\n      &::before{\n        bottom: .6rem;\n        display: none;\n      }\n    }\n    &::before{\n      content: '';\n      position: absolute;\n      top: 0;\n      left: -0.02rem;\n      bottom: 0;\n      width:2px;\n      background: #d8d8d8;\n      z-index: 1;\n    }\n    .info{\n      line-height: 18px;\n    }\n    .date {\n      font-size: 0.24rem;\n      margin-top: .14rem;\n    }\n\n    > span {\n      width: 0.16rem;\n      height: 0.16rem;\n      border-radius: 1rem;\n      background: #c0c0c0;\n      display: block;\n      position: absolute;\n      left: -0.08rem;\n      top: 0.04rem;\n      z-index: 3;\n    }\n\n  }\n  .line.main{\n      padding-bottom: .24rem;\n      line-height: unset;\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      span{\n        width: .4rem;\n        height: .4rem;\n        background-size: cover !important;\n        display: inline-block;\n        left: -.2rem;\n        top: -.06rem;\n      }\n      .main-title{\n        font-size: .32rem;\n        font-weight: bold;\n      }\n      .view-map-container{\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          .map-tips{\n            position: relative;\n            // width: 1.88rem;\n            height: .4rem;\n            background: rgba(40,120,255,0.11);\n            border: .02rem solid #e1ecff;\n            border-radius: 2rem;\n            // margin-left: -.28rem;\n            display: flex;\n            align-items: center;\n            margin-left: .44rem;\n            justify-content: flex-end;\n            padding-right: .16rem;\n            padding-left: .38rem;\n            font-size: .22rem;\n            font-family: PingFangSC, PingFangSC-Medium;\n            font-weight: 500;\n            color: #2878ff;\n            letter-spacing: 0px;\n            .map-icon{\n              position: absolute;\n              width: .56rem;\n              height: .52rem;\n              background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/map-logo.png') center center no-repeat;\n              background-size: cover;\n              left: -.26rem;\n              z-index: 9;\n              top: -.08rem;\n          }\n          }\n        }\n      span.signIn{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/yiqianshou-gray.png') center center no-repeat;\n      }\n      span.delivery{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/paisongzhong-gray.png') center center no-repeat;\n      }\n      span.transit{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/yunshuzhong-gray.png') center center no-repeat;\n      }\n      span.warehouse{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/chulizhong-gray.png') center center no-repeat;\n      }\n      span.order{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/yixiadan-gray.png') center center no-repeat;\n      }\n      span.cancle{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/yiquxiao-gray.png') center center no-repeat;\n      }\n      span.collect{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/collect-gray.png') center center no-repeat;\n      }\n      span.install{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/anzhuangfuwu-gray.png') center center no-repeat;\n      }\n  }\n  .line.main.first{\n      padding-bottom: .24rem;\n      line-height: unset;\n      span{\n        width: .4rem;\n        height: .4rem;\n        background-size: cover !important;\n        display: inline-block;\n        left: -.2rem;\n        top: -.06rem;\n      }\n      span.signIn{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/yiqianshou-blue.png') center center no-repeat;\n      }\n      span.delivery{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/paisongzhong-blue.png') center center no-repeat;\n      }\n      span.transit{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/yunshuzhong-blue.png') center center no-repeat;\n      }\n      span.warehouse{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/chulizhong-blue.png') center center no-repeat;\n      }\n      span.order{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/yixiadan-blue.png') center center no-repeat;\n      }\n      span.cancle{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/yiquxiao-blue.png') center center no-repeat;\n      }\n      span.collect{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/collect-blue.png') center center no-repeat;\n      }\n      span.install{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/anzhuangfuwu-blue.png') center center no-repeat;\n      }\n  }\n  .main + .line{\n\n    span{\n      display: none;\n    }\n  }\n  .first{\n    &::before{\n      top: .3rem\n    }\n  }\n\n  .complete {\n    // color: $themeOrange;\n    color: #333333;\n    >span {\n      display: block;\n      position: absolute;\n      left: -0.16rem;\n      top: .03rem;\n      z-index: 2;\n      width: 0.32rem;\n      height: 0.32rem;\n      background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACcElEQVRYR81XTWgTURD+ZnYbtcGAolaUJiZtQTxYRPQgCnpQQQWPelbwpJ48u6x49KSeBL17FMSDHioIHhSRXkRo2pgtglWxEEmqaXZGNjFtmmZfYkl57nHf/Hwzb+abeYReP2/CHcbIDhe0jQYkJaEkGeRG6gKtscNlXeRSDfp9FtNf4Z+o9WKaugkN3fiSHExVRiXk3czkdJOvAxIN2ZHPldJgfu7OzrJJJx6Ap5xGsNdlzSqIe3HcLkNQqQkVAqQ/wifpZKMjgNFrUxtkKHFIQ2xZi+NVQBzM81z1bf7e2O/VINv+jHpTKUHisDI29cN50wYJFhjVN3l/rNRqd0UG6pFvTRzrt/MVIH5UX7VmYhmAp5wbCI70K+1x2SMH8zOL6dfNmlgCkPaK+xzGSD/THmcrFEwHfuZDdF4HELVacvOv4z1VO1MahJMkdEBJt9eNKH1T1vdQvIBo0C2IqDvKPze+jFq0DiB7a2Yc6qRNigJ1mZ1LgJ4hoGNbasRJoGci4SMGmYmIwqBwMzdJ8CbcDLKnTCQTOXfY8QAd7xZd45wmQwl9E4iIrIooPKdhL9jlsh40Gma+QtBzvTlvSCnoKUQemHRqQu8o683uB0smVjC6c+BuXNrj9BrXgevGmhAuUu528aix9Ry6TIrz/xJ9U1YJTxDqQ1NL0h6/cJrAiVgh4vsgNRZoLDilQFWuxmdJqpTzP501th/TY8LaaFmBBYheiA0OKusMgCoQuWgEYP8KbBeh9Ta0TkTWqdj+MPofxnGUBasLSZ0obK9kEQa7S+lfvrS6ljc52+rDZGlw2HyatU4ve4/T9hm6Ts/zP4Jzp/Y782oKAAAAAElFTkSuQmCC) no-repeat;\n      background-size: contain;\n      background-color: #fff;\n    }\n  }\n\n  .border-none {\n    border-left: 1px solid #ffffff;\n  }\n  .option-container{\n    color: #333333;\n    font-size: .32rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    .phonenum-show{\n      margin-top: .02rem;\n      margin-bottom: .48rem;\n\n    }\n    .copy-option{\n      font-size: .24rem;\n      color: #2979FF;\n      margin-bottom: .32rem;\n    }\n    .call-option{\n      width: 100%;\n      display: flex;\n      justify-content: center;\n      margin-bottom: .32rem;\n      div{\n        margin: 0 .48rem;\n        height: .88rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        background-color: #2979FF;\n        color: #ffffff;\n        border-radius: .44rem;\n      }\n\n    }\n    .cancle-option{\n      width: 100%;\n      display: flex;\n      justify-content: center;\n      margin-bottom: .48rem;\n       div{\n        margin: 0 .48rem;\n        height: .88rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        background-color: #ffffff;\n        border: 1px solid #2979ff;\n        color: #2979FF;\n        border-radius: .44rem;\n      }\n    }\n  }\n  .option-container.wx{\n    color: #333333;\n    font-size: .32rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    .phonenum-show{\n      margin-top: .02rem;\n      margin-bottom: .48rem;\n\n    }\n    .copy-option{\n      font-size: .24rem;\n      color: #FF6026;\n      margin-bottom: .32rem;\n    }\n    .call-option{\n      width: 100%;\n      display: flex;\n      justify-content: center;\n      margin-bottom: .32rem;\n      div{\n        margin: 0 .48rem;\n        height: .88rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        background-color: #FF6026;\n        color: #ffffff;\n        border-radius: .44rem;\n      }\n\n    }\n    .cancle-option{\n      width: 100%;\n      display: flex;\n      justify-content: center;\n      margin-bottom: .48rem;\n       div{\n        margin: 0 .48rem;\n        height: .88rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        background-color: #ffffff;\n        border: 1px solid #FF6026;\n        color: #FF6026;\n        border-radius: .44rem;\n      }\n    }\n  }\n\n}\n.content ::v-deep .van-dialog{\n    border-radius: 0.16rem;\n}\n.hide-line{\n  &::before{\n    display: none;\n  }\n}\n.first + .line{\n  color: #333333;\n}\n\n.track-info-container.wx .line.main.first{\n      padding-bottom: .24rem;\n      line-height: unset;\n      .main-title{\n        color: #FF6026;\n      }\n      span{\n        width: .4rem;\n        height: .4rem;\n        background-size: cover !important;\n        display: inline-block;\n        left: -.2rem;\n        top: -.06rem;\n      }\n      span.signIn{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/microMall/order/yiqianshou-orage.png') center center no-repeat;\n      }\n      span.delivery{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/microMall/order/paisongzhong-orage.png') center center no-repeat;\n      }\n      span.transit{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/microMall/order/yunshuzhong-orage.png') center center no-repeat;\n      }\n      span.warehouse{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/microMall/order/chulizhong-orage.png') center center no-repeat;\n      }\n      span.order{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/microMall/order/yixiadan-orage.png') center center no-repeat;\n      }\n      span.cancle{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/microMall/order/yiquxiao-orage.png') center center no-repeat;\n      }\n      span.collect{\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/microMall/order/yilanshou-orage.png') center center no-repeat;\n      }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order-track-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order-track-info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./order-track-info.vue?vue&type=template&id=7f7d697c&scoped=true&\"\nimport script from \"./order-track-info.vue?vue&type=script&lang=js&\"\nexport * from \"./order-track-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order-track-info.vue?vue&type=style&index=0&id=7f7d697c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f7d697c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-info-container\",class:{'hide-back':_vm.scMpEnv}},[_c('Header',{attrs:{\"leftClick\":_vm.goback}},[_c('div',{staticClass:\"track-status\",attrs:{\"slot\":\"title\"},slot:\"title\"},[(_vm.data.resData)?_c('img',{staticClass:\"product-top-img\",attrs:{\"src\":_vm.data.resData.orderProductInfo.defaultImageUrl}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.trackListAll && _vm.trackListAll.length ? _vm.trackListAll[0].nodeName : '')+\" \")])]),_c('div',{staticClass:\"map-info-content\",class:{'wx': _vm.from === '1'},on:{\"scroll\":_vm.handleScroll}},[_c('trackMap',{attrs:{\"mapData\":_vm.mapData,\"noGeo\":_vm.noGeo,\"currentTrackNode\":_vm.currentTrackNode,\"trackData\":_vm.data.resData}}),(_vm.expressFixed && _vm.data.resData && _vm.data.resData.expressNumber)?_c('div',{staticClass:\"express-info-fixed\"},[_c('div',{staticClass:\"express-info-container\"},[_c('div',{staticClass:\"track-icon\"}),_c('div',{staticClass:\"track-text\"},[_vm._v(_vm._s(_vm.data.resData.expressCompany)+\"：\"+_vm._s(_vm.data.resData.expressNumber))]),_c('div',{staticClass:\"track-text-copy copy\",on:{\"click\":_vm.copy}},[_vm._v(\" 复制\")])])]):_vm._e(),(_vm.mapData)?_c('div',{ref:\"expressInfo\",staticClass:\"track-info-container\",class:{\n      'no-geo-has-express':_vm.noGeo,\n      'ordered':((_vm.currentTrackNode === '已下单') && !_vm.noGeo),\n      'no-express':_vm.data.resData && !_vm.data.resData.expressNumber\n      }},[(!_vm.expressFixed && _vm.data.resData && _vm.data.resData.expressNumber)?_c('div',{staticClass:\"express-info-container\"},[_c('div',{staticClass:\"track-icon\"}),_c('div',{staticClass:\"track-text\"},[_vm._v(_vm._s(_vm.data.resData.expressCompany)+\"：\"+_vm._s(_vm.data.resData.expressNumber))]),_c('div',{staticClass:\"track-text-copy copy\",on:{\"click\":_vm.copy}},[_vm._v(\" 复制\")])]):_vm._e(),(_vm.expressFixed)?_c('div',{staticStyle:{\"height\":\"1.6rem\"}}):_vm._e(),_c('div',{ref:\"trackinfo\",staticClass:\"info\",class:{'expand':_vm.expandStatus}},[(_vm.trackList)?_c('order-track-info',{attrs:{\"from\":_vm.from,\"parentData\":_vm.trackList}}):_vm._e()],1)]):_vm._e()],1),_c('div',{attrs:{\"id\":\"element-container\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mapData && !_vm.noGeo),expression:\"mapData && !noGeo\"}],attrs:{\"id\":\"amap\"}}),_c('div',{attrs:{\"id\":\"panel\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 高德地图 导航api\nexport default function MapLoader() {\n  return new Promise((resolve, reject) => {\n    if (window.AMap) {\n      resolve(window.AMap)\n    } else {\n      var script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.async = true\n      // script.src = 'https://webapi.amap.com/maps?v=1.4.15&key=2c32eb44ce0ecd452ce7c7b9fd020e83&callback=initAMap'\n      script.src = 'https://webapi.amap.com/maps?v=1.4.15&key=2c32eb44ce0ecd452ce7c7b9fd020e83&plugin=AMap.Driving&callback=initAMap'\n      script.onerror = reject\n      document.head.appendChild(script)\n      // var script2 = document.createElement('script')\n      // script2.type = 'text/javascript'\n      // script2.async = true\n      // script2.src = 'https://webapi.amap.com/maps?v=1.4.15&key=2c32eb44ce0ecd452ce7c7b9fd020e83&plugin=AMap.MouseTool'\n      // script2.onerror = reject\n      // document.head.appendChild(script2)\n    }\n    window.initAMap = () => {\n      resolve(window.AMap)\n    }\n  })\n}\n","<template>\n  <div class=\"map-container\">\n    <div id=\"amap\" v-show=\"mapData && !noGeo\"></div>\n    <div id=\"panel\"></div>\n  </div>\n</template>\n<script>\n/*\n * 接口配置文件\n*/\nimport AMap from '@/utils/Driving'\n/*\n * 订单详情 地图组件\n*/\nexport default {\n  name: 'trackMap',\n  components: {\n  },\n  props: {\n    /**\n     * 父组件传入数据源\n     */\n    mapData: {\n      type: null,\n      default: function () {\n        return null\n      },\n    },\n    noGeo: {\n      type: Boolean,\n      default: function () {\n        return false\n      },\n    },\n    currentTrackNode: {\n      type: String,\n      default: function () {\n        return ''\n      },\n    },\n    trackData: {\n      type: Object,\n      default: function () {\n        return {}\n      },\n    },\n  },\n  watch: {\n    mapData: {\n      handler(newValue, oldValue) {\n        if (!this.noGeo) {\n          if (this.mapObj) {\n            console.log('=======>has map')\n            this.drawMap()\n          } else {\n            console.log('=======>no map')\n            this.initMap().then(res => {\n              console.log('=======>no map then')\n              this.drawMap()\n            })\n          }\n        }\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      mapObj: null, // 地图实例\n      path: [], // 路线规划路径\n      marker: null,\n      storeMark: null, // 仓库标记\n      distributionMark: null, // 配送站标记\n      receivingMark: null, // 收货地址标记\n      peisongMark: null, // 配送员标记\n      reDrawCount: 0, // 异常重绘次数\n      rewDrawTimer: null, // 重绘计时器\n    }\n  },\n  mounted() {\n    // 初始化地图 api\n    this.initMap()\n  },\n  methods: {\n    initMap() {\n      return new Promise(async (resolve, reject) => {\n        this.mapObj = await AMap()\n        this.map = new this.mapObj.Map('amap', {\n          resizeEnable: true,\n          mapStyle: 'amap://styles/56de8777c9c9aa186a205f540f7bdb49',\n          zoom: 10,\n          zooms: [3, 14],\n          // center: [this.mapData.geoInfo.netPointLon, this.mapData.geoInfo.netPointLat], // 地图中心点\n          features: ['bg', 'road', 'point'] // 设置地图上显示的元素种类，支持bg（地图背景）、point（兴趣点）、road（道路）、building（建筑物）\n        })\n        resolve()\n      })\n    },\n    /**\n       * @description 初始化地图\n      */\n    drawMap() {\n      let that = this\n      let drivingStartPoint = new that.mapObj.LngLat(this.mapData.geoInfo.stockLon, this.mapData.geoInfo.stockLat)\n      let drivingEndPoint = null\n      // 派送中 导航终点为快递员坐标,其他情况导航到用户地址\n      if (this.currentTrackNode === '派送中') {\n        drivingEndPoint = new that.mapObj.LngLat(this.mapData.serviceManTraces[0].lon, this.mapData.serviceManTraces[0].lat)\n      } else {\n        drivingEndPoint = new that.mapObj.LngLat(this.mapData.geoInfo.userAddressLon, this.mapData.geoInfo.userAddressLat)\n      }\n      try {\n        // this.mapObj.plugin(['AMap.Driving'], () => { // 异步同时加载多个插件\n        // 构造路线导航类\n        var driving = new that.mapObj.Driving({\n          map: that.map,\n          hideMarkers: true, // 隐藏起始点 图标mark\n          showTraffic: false, // 不显示 实时路况信息\n          showDir: false,\n          isOutline: false,\n          // autoFitView: true, // 自动调整地图使路线规划处于可视区域\n\n        })\n        let netPoint = this.mapData.geoInfo.netPointAddress ? [new that.mapObj.LngLat(this.mapData.geoInfo.netPointLon, this.mapData.geoInfo.netPointLat)] : []\n        console.log('起始点：')\n        console.log(drivingStartPoint)\n        console.log('结束点：')\n        console.log(drivingEndPoint)\n        console.log('途经点：')\n        console.log(netPoint)\n        // 根据起终点经纬度规划驾车导航路线\n        driving.search(drivingStartPoint, drivingEndPoint, {\n          waypoints: netPoint\n        }, function(status, result) {\n          if (status === 'complete') {\n            // 录线规划完成清除地图覆盖物 重新添加\n            that.map.clearMap()\n            let { routes = [] } = result\n            let { steps = [] } = routes[0]\n            steps.forEach(i => {\n              i.path.forEach((it, index) => {\n                if (index % 2 === 0) {\n                  that.path.push(new that.mapObj.LngLat(it.lng, it.lat),)\n                }\n              })\n            })\n            // 绘制三点 mark\n            that.initMark()\n            // 绘制轨迹线\n            that.drawTrackLine()\n            if (that.currentTrackNode === '派送中') {\n              // // 派送中 有配送员坐标则设置中心点为 配送员 ，没有则设置中心点为 配送站\n              if (that.mapData.serviceManTraces[0].lon && that.mapData.serviceManTraces[0].lat) {\n                that.map.setFitView([that.distributionMark, that.receivingMark, that.peisongMark])\n              } else {\n                that.map.setFitView([that.distributionMark, that.receivingMark])\n              }\n            } else if (that.currentTrackNode === '已下单' || that.currentTrackNode === '仓库处理中' || that.currentTrackNode === '已签收') {\n              that.map.setFitView([that.storeMark, that.receivingMark])\n              that.map.zoomOut()\n            } else if (that.currentTrackNode === '运输中') {\n              that.map.setFitView([that.storeMark, that.distributionMark])\n              that.map.zoomOut()\n            } else {\n              that.map.setFitView([that.storeMark, that.receivingMark, that.distributionMark])\n              that.map.zoomOut()\n            }\n            that.map.panBy(0, -150)\n          }\n        })\n        if (this.rewDrawTimer) clearTimeout(this.rewDrawTimer);\n        // })\n      } catch (err) {\n        console.log(err)\n        // 发生异常 定时重绘\n        if (this.reDrawCount < 10) {\n          this.rewDrawTimer = setTimeout(() => {\n            this.reDrawCount++\n            this.drawMap()\n          }, 200)\n        } else {\n          clearTimeout(this.rewDrawTimer);\n        }\n      }\n    },\n    drawTrackLine() {\n      let that = this\n      if (this.currentTrackNode === '已下单' || this.currentTrackNode === '仓库处理中' || this.currentTrackNode === '已签收') {\n      // 这三个点不需要轨迹回放 绘制一条灰线,已签收 全线线颜色红色\n        let polyline = new that.mapObj.Polyline({\n          map: that.map,\n          path: that.path,\n          // path: lineArr,\n          showDir: false,\n          strokeColor: that.currentTrackNode === '已签收' ? '#ff5757' : '#8d8d8d', // 线颜色\n          strokeOpacity: 1, // 线透明度\n          strokeWeight: 3, // 线宽\n          strokeStyle: 'solid', // 线样式\n          lineJoin: 'round', // 折线拐点的绘制样式\n          zIndex: 999,\n          isOutline: false,\n          borderWeight: 0,\n        })\n        polyline.setMap(that.map)\n      } else if (this.currentTrackNode === '派送中') {\n        let polyline = new that.mapObj.Polyline({\n          map: that.map,\n          path: that.path,\n          // path: lineArr,\n          showDir: false,\n          strokeColor: '#ff5757', // 线颜色\n          strokeOpacity: 1, // 线透明度\n          strokeWeight: 3, // 线宽\n          strokeStyle: 'solid', // 线样式\n          lineJoin: 'round', // 折线拐点的绘制样式\n          zIndex: 999,\n          isOutline: false,\n          borderWeight: 0,\n        })\n        // 派送中 路线规划从 仓库到快递员最新地址 ，快递员到 收货地址虚线关联\n        let userEndPoint = new that.mapObj.LngLat(this.mapData.geoInfo.userAddressLon, this.mapData.geoInfo.userAddressLat)\n        let drivingEndPoint = new that.mapObj.LngLat(that.mapData.serviceManTraces[0].lon, that.mapData.serviceManTraces[0].lat) // 配送员坐标\n        polyline.setMap(that.map)\n        let polyline2 = new that.mapObj.Polyline({\n          map: that.map,\n          path: [drivingEndPoint, userEndPoint],\n          // path: lineArr,\n          showDir: false,\n          strokeColor: '#cccccc', // 线颜色\n          strokeOpacity: 1, // 线透明度\n          strokeWeight: 3, // 线宽\n          strokeStyle: 'dashed', // 线样式\n          lineJoin: 'round', // 折线拐点的绘制样式\n          zIndex: 999,\n          isOutline: false,\n          borderWeight: 0,\n        })\n        polyline2.setMap(that.map)\n      } else {\n        // 运输中 默认 车辆形势到总路线的一半\n        let pass = that.path.filter((r, index) => {\n          return index < that.path.length / 2\n        })\n        let car = ''\n        // 判断行驶方向\n        if ((Number(this.mapData.geoInfo.userAddressLon) - Number(this.mapData.geoInfo.stockLon)) > 0) {\n          // 向右\n          car = 'https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/car-move-right.png'\n        } else {\n          // 向左\n          car = 'https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/car-move-toleft.png'\n        }\n        // 计算小车 方向\n        that.marker = new that.mapObj.Marker({\n          map: that.map,\n          position: pass[pass.length - 3],\n          icon: new that.mapObj.Icon({\n            image: car,\n            size: new that.mapObj.Size(93, 48), // 图标大小\n            imageSize: new that.mapObj.Size(31, 16)\n          }),\n          offset: new that.mapObj.Pixel(-26, -13),\n          autoRotation: true,\n          // angle: 180,\n        })\n        // 调整车头方向 跟随轨迹\n        this.marker.moveTo(pass[pass.length - 1])\n        // 绘制轨迹\n        let polyline = new that.mapObj.Polyline({\n          map: that.map,\n          path: that.path,\n          showDir: false,\n          strokeColor: '#8d8d8d', // 线颜色\n          strokeOpacity: 1, // 线透明度\n          strokeWeight: 3, // 线宽\n          strokeStyle: 'solid', // 线样式\n          lineJoin: 'round', // 折线拐点的绘制样式\n          isOutline: false,\n          borderWeight: 0,\n        })\n        polyline.setMap(that.map)\n        let passedPolyline = new that.mapObj.Polyline({\n          map: that.map,\n          // path: lineArr,\n          showDir: false,\n          strokeColor: '#ff5757', // 线颜色\n          strokeOpacity: 1, // 线透明度\n          strokeWeight: 3, // 线宽\n          strokeStyle: 'solid', // 线样式\n          lineJoin: 'round', // 折线拐点的绘制样式\n          zIndex: 999,\n          isOutline: false,\n          borderWeight: 0,\n        })\n        passedPolyline.setPath(pass)\n        // that.marker.on('moving', function (e) {\n        //   if (e.passedPath.length >= pass.length) {\n        //     that.stopAnimation()\n        //   } else {\n        //     passedPolyline.setPath(e.passedPath)\n        //   }\n        // })\n        // that.startAnimation()\n        // this.marker.moveAlong(this.path, 50000)\n      }\n    },\n    /**\n     * 初始化 mark\n    */\n    initMark() {\n      let context = this\n      let storeText = `<div class=\"info-container\"><span class=\"info-icon\">发</span><span class=\"info-text\">发货仓</span></div>`\n      let receivingText = `<div class=\"info-container double\"><span class=\"info-icon\">收</span><div class=\"double-cloumn\">${context.trackData.orderProductInfo.expectTime ? '<span class=\"info-time\">' + context.mapData.geoInfo.userRegionName.split(' ')[1] + ' | 预计' + this.dateFormaterWithCn(context.trackData.orderProductInfo.expectTime) + '送达</span>' : '<span class=\"info-time\">' + context.mapData.geoInfo.userRegionName.split(' ')[1] + '</span>'}</div></div>`\n      switch (context.currentTrackNode) {\n        case '已下单':\n          storeText = '<div class=\"info-container\"><span class=\"info-icon\">发</span><span class=\"info-text\">已下单</span></div>'\n          break;\n        case '仓库处理中':\n          storeText = '<div class=\"info-container\"><span class=\"info-icon\">发</span><span class=\"info-text\">仓库处理中</span></div>'\n          break;\n        case '已揽件':\n          storeText = '<div class=\"info-container\"><span class=\"info-icon\">发</span><span class=\"info-text\">仓库处理中</span></div>'\n          break;\n        case '已签收':\n          receivingText = `<div class=\"info-container double\"><span class=\"info-icon\">收</span><div class=\"double-cloumn\">${context.mapData.geoInfo.userAcceptTime ? '<span class=\"info-time\">' + context.mapData.geoInfo.userRegionName.split(' ')[1] + ' | ' + this.dateFormater(new Date(context.mapData.geoInfo.userAcceptTime * 1000)) + ' 签收</span>' : '<span class=\"info-time\"></span>'}</div></div>`\n          break;\n        case '已取消':\n          receivingText = `<div class=\"info-container double\"><span class=\"info-icon\">收</span><div class=\"double-cloumn\">${context.mapData.geoInfo.userCancelTime ? '<span class=\"info-time\">' + context.mapData.geoInfo.userRegionName.split(' ')[1] + ' | ' + this.dateFormater(new Date(context.mapData.geoInfo.userCancelTime * 1000)) + '取消</span>' : '<span class=\"info-time\"></span>'}</div></div>`\n          break;\n      }\n      // 发货仓\n      this.storeMark = new context.mapObj.Marker({\n        position: context.path[0],\n        map: context.map,\n        offset: new context.mapObj.Pixel(0, -6),\n        anchor: 'center',\n        icon: 'https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/location-blue-x1.png',\n        label: { content: storeText,\n          direction: 'top' // 文本标注方位 可选值：'top'|'right'|'bottom'|'left'|'center'，默认值: 'right'\n        },\n      })\n      // 配送站 netPointAddress\n      if (context.mapData.geoInfo.netPointAddress && context.currentTrackNode !== '已签收') {\n        this.distributionMark = new context.mapObj.Marker({\n          position: new context.mapObj.LngLat(context.mapData.geoInfo.netPointLon, context.mapData.geoInfo.netPointLat),\n          map: context.map,\n          anchor: 'top-center',\n          offset: new context.mapObj.Pixel(0, -10),\n          label: { content: \"<div class='infos'>当地服务中心</div>\",\n            direction: 'top' // 文本标注方位 可选值：'top'|'right'|'bottom'|'left'|'center'，默认值: 'right'\n          },\n          icon: 'https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/location-blue-x1.png',\n        })\n      }\n      // 收货地\n      this.receivingMark = new context.mapObj.Marker({\n        position: new context.mapObj.LngLat(context.mapData.geoInfo.userAddressLon, context.mapData.geoInfo.userAddressLat),\n        map: context.map,\n        offset: new context.mapObj.Pixel(-7, -10),\n        icon: 'https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/location-blue-x1.png',\n        label: { content: receivingText,\n          direction: 'top' // 文本标注方位 可选值：'top'|'right'|'bottom'|'left'|'center'，默认值: 'right'\n        },\n      })\n      if (context.currentTrackNode === '派送中') {\n        // 派送中状态展示 送货员实时坐标 that.path\n        context.peisongMark = new context.mapObj.Marker({\n          position: new context.mapObj.LngLat(this.mapData.serviceManTraces[0].lon, this.mapData.serviceManTraces[0].lat),\n          map: context.map,\n          anchor: 'center',\n          offset: new context.mapObj.Pixel(-10, -10),\n          icon: new context.mapObj.Icon({\n            image: 'https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/car-move-right.png',\n            size: new context.mapObj.Size(31, 16), // 图标大小\n            imageSize: new context.mapObj.Size(31, 16)\n          }),\n          // angle: 330 - angle,\n          autoRotation: true,\n        })\n        context.peisongMark.moveTo(new context.mapObj.LngLat(context.mapData.geoInfo.userAddressLon, context.mapData.geoInfo.userAddressLat))\n      }\n    },\n    /**\n     * @description 时间格式转换 月日\n    */\n    dateFormater(val) {\n      let ret = ''\n      let formater = [\n        val.getFullYear(),\n        String(val.getMonth() + 1).padStart(2, '0'),\n        String(val.getDate()).padStart(2, '0'),\n      ].join('/')\n      if (formater.indexOf('/') !== -1) {\n        let dateArr = formater.split('/')\n        ret = `${Number(dateArr[1])}月${Number(dateArr[2])}日`\n      } else {\n        ret = val.toLocaleDateString()\n      }\n      return ret;\n    },\n    formatDate: function(date) {\n      return [\n        date.getFullYear(),\n        String(date.getMonth() + 1).padStart(2, '0'),\n        String(date.getDate()).padStart(2, '0'),\n      ].join('-');\n    },\n\n    /**\n     * @description 中文时间格式转换 月日\n    */\n    dateFormaterWithCn(val) {\n      let ret = ''\n      let dateStr = val.replace(/年|月/g, '/').replace(/日/g, '')\n      if (dateStr.indexOf('/') !== -1) {\n        let dateArr = dateStr.split('/')\n        ret = `${Number(dateArr[1])}月${Number(dateArr[2])}日`\n      } else {\n        ret = val\n      }\n      return ret;\n    },\n    /**\n     * 开启轨迹回放\n    */\n    startAnimation () {\n      this.marker.moveAlong(this.path, 50000)\n    },\n\n    pauseAnimation () {\n      this.marker.pauseMove()\n    },\n\n    resumeAnimation () {\n      this.marker.resumeMove()\n    },\n    stopAnimation () {\n      this.marker.stopMove()\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.map-container{\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n}\n#amap{\n        width: 100%;\n        height: 100%;\n        // position: fixed;\n        // top: 0;\n        // left: 0;\n        // z-index: 1050;\n        // ::v-deep .amap-logo,.amap-copyright{\n        //   display: none !important;\n        // }\n        // ::v-deep .amap-copyright{\n        //   display: none !important;\n        // }\n        ::v-deep .amap-marker-label{\n           border: none;\n           background: transparent;\n          .infos{\n            height: .44rem;\n            padding: 0 .16rem;\n            background: #ffffff;\n            border-radius: .22rem;\n            box-shadow: 0px .02rem .06rem 0 rgba(0,0,0,0.15);\n            font-size: .2rem;\n            font-family: PingFangSC, PingFangSC-Regular;\n            font-weight: 400;\n            color: #333333;\n            letter-spacing: 0px;\n            display: flex;\n            align-items: center;\n            margin-bottom: .02rem;\n          }\n        }\n        ::v-deep .amap-maps .amap-info-contentContainer{\n          padding-bottom: 0;\n          margin-bottom: -0.12rem;\n        }\n        ::v-deep .amap-info-content{\n          border: none;\n          box-shadow: unset;\n          background: transparent;\n          padding-bottom: 0;\n          .amap-info-close{\n            display: none;\n          }\n        }\n        ::v-deep .amap-info-sharp{\n          display: none;\n        }\n        ::v-deep .info-container{\n          height: .44rem;\n          background-color: #ffffff;\n          border-radius: 1rem;\n          box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.15);\n          padding: 0 .08rem;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n            .info-icon{\n              display: inline-block;\n              width: .32rem;\n              height: .32rem;\n              background: linear-gradient(90deg,#44a2ff 6%, #2878ff);\n              border-radius: 5rem;\n              font-size: .2rem;\n              font-family: PingFangSC, PingFangSC-Medium;\n              font-weight: 500;\n              text-align: center;\n              color: #ffffff;\n              letter-spacing: 0px;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n            }\n            .info-text{\n              font-size: .2rem;\n              font-family: PingFangSC, PingFangSC-Regular;\n              font-weight: 400;\n              text-align: center;\n              color: #333333;\n              letter-spacing: 0px;\n              margin-left: .04rem;\n            }\n            .double-cloumn{\n              display: flex;\n              flex-direction: column;\n              // justify-content: center;\n              align-items: center;\n              padding-bottom: .1rem;\n              padding-top: .08rem;\n              margin-left: .08rem;\n              .info-time{\n                font-size: .2rem;\n                font-family: PingFangSC, PingFangSC-Regular;\n                font-weight: 400;\n                color: #333333;\n                letter-spacing: 0px;\n              }\n            }\n        }\n        ::v-deep .info-container.double{\n          // height: .56rem;\n          padding-left: .1rem;\n          padding-right: .24rem;\n          //  .info-icon{\n          //    width: .44rem;\n          //    height: .44rem;\n          //  }\n      }\n    }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trackMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trackMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./trackMap.vue?vue&type=template&id=22493f18&scoped=true&\"\nimport script from \"./trackMap.vue?vue&type=script&lang=js&\"\nexport * from \"./trackMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./trackMap.vue?vue&type=style&index=0&id=22493f18&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22493f18\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"map-info-container\" :class=\"{'hide-back':scMpEnv}\">\n    <Header :leftClick=\"goback\">\n        <div slot=\"title\" class=\"track-status\">\n        <img :src=\"data.resData.orderProductInfo.defaultImageUrl\" class=\"product-top-img\" v-if=\"data.resData\">\n        {{trackListAll && trackListAll.length ? trackListAll[0].nodeName : ''}}\n        </div>\n    </Header>\n    <div class=\"map-info-content\" :class=\"{'wx': from === '1'}\"  @scroll=\"handleScroll\">\n      <trackMap :mapData=\"mapData\" :noGeo=\"noGeo\" :currentTrackNode=\"currentTrackNode\" :trackData=\"data.resData\"></trackMap>\n      <div class=\"express-info-fixed\" v-if=\"expressFixed && data.resData && data.resData.expressNumber\">\n          <div class=\"express-info-container\">\n          <div class=\"track-icon\"></div>\n          <div class=\"track-text\">{{data.resData.expressCompany}}：{{data.resData.expressNumber}}</div>\n          <div class=\"track-text-copy copy\" @click=\"copy\"> 复制</div>\n        </div>\n      </div>\n      <div class=\"track-info-container\" :class=\"{\n        'no-geo-has-express':noGeo,\n        'ordered':((currentTrackNode === '已下单') && !noGeo),\n        'no-express':data.resData && !data.resData.expressNumber\n        }\"\n        v-if=\"mapData\"\n        ref=\"expressInfo\">\n        <div class=\"express-info-container\" v-if=\"!expressFixed && data.resData && data.resData.expressNumber\">\n          <div class=\"track-icon\"></div>\n          <div class=\"track-text\">{{data.resData.expressCompany}}：{{data.resData.expressNumber}}</div>\n          <div class=\"track-text-copy copy\" @click=\"copy\"> 复制</div>\n        </div>\n        <div v-if=\"expressFixed\" style=\"height: 1.6rem\"></div>\n        <div class=\"info\" :class=\"{'expand':expandStatus}\" ref=\"trackinfo\" >\n          <order-track-info v-if=\"trackList\" :from=\"from\" :parentData = \"trackList\"></order-track-info>\n          <!-- <div class=\"fold-btn\" @click=\"toggleFoldInfo\">\n            <span class=\"btn\">点击{{expandStatus? '收起':'查看'}}更多物流详情 <span class=\"fold-icon\"></span></span>\n          </div> -->\n        </div>\n      </div>\n    </div>\n    <div id=\"element-container\"></div>\n  </div>\n</template>\n\n<script>\nimport ClipboardJS from 'clipboard' // 复制插件\n\n/*\n* 订单物流节点\n*/\nimport orderTrackInfo from '../trackingOrders/order-track-info'\n\n/**\n * 物流地图组件\n*/\nimport trackMap from './components/trackMap'\n\n/*\n * 接口配置文件\n*/\nimport personalApi from '@/http/service/index'\nimport Header from '@/components/header'\nimport utils from '@/utils/utils'\n/**\n * tost提醒\n */\nimport Vue from 'vue'\nimport { Toast } from 'vant'\nVue.use(Toast)\n\n/*\n * 订单详情 追踪订单\n*/\nexport default {\n  name: 'trackingOrders',\n  components: {\n    orderTrackInfo,\n    Header,\n    trackMap\n  },\n  data() {\n    return {\n      data: {\n        mapScript: null,\n        map: null,\n        orderSn: '', // 订单号\n        cOrderSn: '', // 网单号\n        expressNumber: '', // 快递单号\n        expressCompany: '', // 快递公司\n        resData: null,\n        fromDetail: false,\n      },\n      trackList: [], // 物流节点列表\n      trackListFold: [], // 数据源（折叠）\n      trackListAll: [], // 数据源（全部）\n\n      expandStatus: true, // 物流信息折叠状态 true:展开 false：折叠\n      expressFixed: false, // 物流信息吸顶状态\n      lastInfoScrollTop: 0,\n      rem: 0,\n      mapData: null, // 地图轨迹数据\n      currentTrackNode: '', // 物流当前最新节点\n      from: '', // 来源 '1':小程序\n      // isMiniProgram: false, // 校验是否小程序环境\n      noGeo: false, // 地图轨迹绘制数据是否完整\n      scMpEnv: false, // 是否小程序环境\n    }\n  },\n  created() {\n    const context = this\n    this.scMpEnv = utils.isScMp()\n    this.rem = this.getREM()\n    const _query = context.$route.query\n    context.data.orderSn = _query.orderSn\n    context.data.cOrderSn = _query.cOrderSn\n    context.data.expressNumber = _query.expressNumber\n    context.data.expressCompany = _query.expressCompany\n    context.data.fromDetail = _query.cOrderSn || false\n    context.from = _query.from || ''\n    // if (utils.isWeixin()) {\n    // // 加载小程序 sdk\n    //   utils.loadScript('//res.wx.qq.com/open/js/jweixin-1.3.2.js').then(() => {\n    //     wx.miniProgram.getEnv(res => {\n    //       if (res.miniprogram) {\n    //         this.isMiniProgram = true\n    //       } else {\n    //         this.isMiniProgram = false\n    //       }\n    //     })\n    //   })\n    // }\n  },\n  mounted() {\n    const context = this;\n    if (this.$util.isHaierApp()) {\n      // U+ 登陆处理\n      this.$store.dispatch('handleUpAuth').then(isLogin => {\n        // 登陆正常 调用加购接口\n        if (isLogin) {\n          context.initData()\n        } else {\n          context.$store.dispatch('doLogin').then(res => {\n            this.$store.dispatch('handleUpAuth').then(isLogin => {\n              if (isLogin) {\n                context.initData()\n              } else {\n                this.$toast('用户未登录')\n              }\n            })\n          })\n        }\n      })\n    } else {\n      if (this.$store.getters.getLoginStatus) {\n        context.initData()\n      } else {\n        context.$store.dispatch('doLogin')\n      }\n    }\n  },\n  methods: {\n    initData() {\n      // 初始化物流节点信息\n      this.getOrderTrack()\n      // 初始化地图轨迹信息\n      this.initOrderProductTrackGeo().then(res => {\n        // 旧订单无物流轨迹数据不初始化地图\n        // if (this.mapData && (!this.mapData.geoInfo || (this.mapData.geoInfo && (!this.mapData.geoInfo.stockLat || !this.mapData.geoInfo.userAddressLat)))) return\n        // 绘制地图轨迹\n        // this.drawMap()\n      })\n    },\n    /**\n     *  @description 监听页面滚动事件\n    */\n    handleScroll(e) {\n      let _eiTop = this.$refs.expressInfo.getBoundingClientRect().top\n      let mapDom = document.querySelector('#amap')\n      // 地图透明度变化效果处理：初始透明度 1 ，物流信息吸顶 透明度 0\n      mapDom.style.opacity = ((_eiTop / this.rem) - 1.32) / (6.4 - 1.32)\n      this.expressFixed = _eiTop <= 1.32 * this.rem\n    },\n    getREM() {\n      let rem = parseInt(window.getComputedStyle(document.documentElement, null).getPropertyValue('font-size'))\n      return rem\n    },\n    /**\n       * @description 展开折叠物流信息\n      */\n    toggleFoldInfo() {\n      this.expandStatus = !this.expandStatus\n      if (this.expandStatus) {\n        this.trackList = this.trackListAll\n      } else {\n        this.trackList = this.trackListFold\n      }\n    },\n    /**\n     * @description  复制快递单号\n     * @param {copyData} 复制快递单号\n     * 返回复制提示信息\n    */\n    copy () {\n      const context = this\n      const clipboard = new ClipboardJS('.copy', {\n        text: function(trigger) {\n          return context.data.resData.expressNumber\n        }\n      })\n      clipboard.on('success', () => {\n        context.$toast.success('复制成功')\n      })\n      clipboard.on('error', () => {\n        context.$toast.success('复制失败')\n      })\n    },\n    /**\n     * @description  新物流追踪节点展示接口\n    */\n    getOrderTrack() {\n      const context = this\n      const data = {\n        corderSn: this.data.cOrderSn,\n        expressNumber: this.data.expressNumber,\n        expressCompany: this.data.expressCompany\n      }\n      let _trackList = []\n      personalApi.orderProductTrack(data).then(res => {\n        if (res.data.success) {\n          context.data.resData = res.data.data\n          let trackObj = context.data.resData\n          // 物流节点新加订单取消大节点【orderCancelNodes】，这个大节点顺序放在最上面，如果签收大节点【signNodes】有小节点，这个订单取消大节点就不展示了\n          if (trackObj.signNodes.length === 0 && trackObj.orderCancelNodes.length > 0) {\n            _trackList = _trackList.concat(this.toTrackList({ title: '已取消', node: trackObj.orderCancelNodes })) // 取消节点\n          } else {\n            if (trackObj.signNodes.length > 0) _trackList = _trackList.concat(this.toTrackList({ title: '已签收', node: trackObj.signNodes })) // 签收节点\n          }\n          if (trackObj.deliverNodes.length > 0) _trackList = _trackList.concat(this.toTrackList({ title: '派送中', node: trackObj.deliverNodes })) // 派送节点\n          if (trackObj.shippingNodes.length > 0) _trackList = _trackList.concat(this.toTrackList({ title: '运输中', node: trackObj.shippingNodes })) // 运输节点\n          if (trackObj.collectNodes.length > 0) _trackList = _trackList.concat(this.toTrackList({ title: '已揽件', node: trackObj.collectNodes })) // 揽收节点\n          if (trackObj.depotNodes.length > 0) _trackList = _trackList.concat(this.toTrackList({ title: '仓库处理中', node: trackObj.depotNodes })) // 仓库节点\n          if (trackObj.orderNodes.length > 0) _trackList = _trackList.concat(this.toTrackList({ title: '已下单', node: trackObj.orderNodes })) // 订单节点\n          _trackList.forEach(i => {\n            i.nodeContent = this.selectPhoneNumber(i.nodeContent) || ''\n          })\n          this.trackListAll = _trackList\n          _trackList.forEach((t, index) => {\n            if (index <= 2) {\n              this.trackListFold.push(t)\n            } else {\n              if (index === 3) {\n                if (this.trackListFold[2].nodeType === 'main') {\n                  this.trackListFold.push(t)\n                }\n              }\n            }\n          })\n          if (this.expandStatus) {\n            this.trackList = this.trackListAll\n          } else {\n            this.trackList = this.trackListFold\n          }\n          this.currentTrackNode = this.trackListAll && this.trackListAll.length ? this.trackListAll[0].nodeName : ''\n        }\n      })\n    },\n    /**\n     * @description 初始化地图轨迹数据\n    */\n    initOrderProductTrackGeo() {\n      return new Promise((resolve, reject) => {\n        let param = {\n          corderSn: this.data.cOrderSn,\n        }\n        personalApi.orderProductTrackGeo(param).then(res => {\n          if (res.data.success) {\n            this.mapData = res.data.data\n            if (!this.mapData.geoInfo || (this.mapData.geoInfo && (!this.mapData.geoInfo.stockLat || !this.mapData.geoInfo.userAddressLat))) {\n              this.noGeo = true\n            }\n            resolve()\n          }\n        }).catch(err => {\n          reject(err)\n        })\n      })\n    },\n    /**\n     * @description 替换字符串中的电话号码\n     * @param {str} 替换前字符串\n     * 替换后字符串\n    */\n    selectPhoneNumber(str) {\n      // var regx = /(1[3|4|5|7|8][\\d]{9}|0[\\d]{2,3}-[\\d]{7,8}|400[-]?[\\d]{3}[-]?[\\d]{4})/g;\n      var regx = /(1(3|4|5|6|7|8|9)\\d{9})|(0[\\d]{2,4}-[\\d]{5,8})/g;\n      var phoneNums = str.match(regx);\n      if (phoneNums) {\n        for (var i = 0; i < phoneNums.length; i++) {\n          var temp = phoneNums[i]\n          str = str.replace(phoneNums[i], '<a class=\"phone-num\" style=\" text-decoration: underline;color: #2878FF;\">' + temp + '</a>');\n        }\n      }\n      return str;\n    },\n    toTrackList(obj) {\n      let list = []\n      list = list.concat(obj.node)\n      list.unshift({ nodeContent: '', nodeName: obj.title, nodeType: 'main', nodeTime: '2019-12-12 09:33:02' })\n      return list\n    },\n    goback() {\n      // if (this.isMiniProgram) {\n      //   wx.miniProgram.navigateBack()\n      // } else {\n      this.$store.dispatch('doHistoryBack')\n      // }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.map-info-container{\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    overflow: hidden;\n   ::v-deep .van-nav-bar__title{\n    margin: unset;\n    padding-left: 0.74rem;\n    .track-status{\n      font-size: .36rem;\n      font-family: PingFangSC, PingFangSC-Regular;\n      font-weight: 400;\n      color: #000000;\n      display: flex;\n      align-items: center;\n      .product-top-img{\n        width: .56rem;\n        height: .56rem;\n        background: #d8d8d8;\n        border-radius: .06rem;\n        margin-right: .12rem;\n      }\n    }\n  }\n  ::v-deep .van-nav-bar__left{\n    padding: 0 0.28rem;\n  }\n  ::v-deep .van-nav-bar--fixed{\n    z-index: 1000;\n  }\n  ::v-deep .van-nav-bar--fixed{\n    width: calc(100% - .48rem);\n    margin-left: .24rem;\n    margin-top: .16rem;\n    border-radius: .3rem;\n    box-shadow: 0 1px 3px 0 rgba(0,0,0,0.15);\n  }\n}\n.map-info-content{\n  position: relative;\n  height: 100%;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  // background: red;\n    position: fixed;\n    z-index: 999;\n    width: 100%;\n    top: 0;\n    left: 0;\n  ::v-deep .van-nav-bar__title{\n    margin: unset;\n    padding-left: 0.74rem;\n    .track-status{\n      font-size: .36rem;\n      font-family: PingFangSC, PingFangSC-Regular;\n      font-weight: 400;\n      color: #000000;\n      display: flex;\n      align-items: center;\n      .product-top-img{\n        width: .56rem;\n        height: .56rem;\n        background: #d8d8d8;\n        border-radius: .06rem;\n        margin-right: .12rem;\n      }\n    }\n  }\n  ::v-deep .van-nav-bar__left{\n    padding: 0 0.28rem;\n  }\n    .track-info-container{\n        width: calc(100% - .48rem);\n        margin-left: .24rem;\n        z-index: 1100;\n        // background: #fff;\n        position: absolute;\n        // top: 6.4rem;\n        // top: 8.8rem;\n        top: 66%;\n        border-radius: .24rem;\n        overflow: hidden;\n        padding-bottom: .1rem;\n        .info{\n          background: #fff;\n          border-radius: 0.24rem;\n          overflow: hidden;\n          .fold-btn{\n            height: .86rem;\n            width: 100%;\n            background: #ffffff;\n            display: flex;\n            align-items: flex-start;\n            justify-content: center;\n            .btn{\n              height: .5rem;\n              border: .02rem solid #dddddd;\n              border-radius: .28rem;\n              display: flex;\n              align-items: center;\n              padding: 0 .28rem;\n              color: #666666;\n              font-size: .24rem;\n            }\n          }\n          .fold-icon{\n            background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/common/down.png') center center no-repeat;\n            display: inline-block;\n            width: .18rem;\n            height: .18rem;\n            background-size: cover;\n          }\n        }\n        .info.allow-scroll{\n          ::v-deep .content{\n            overflow: scroll;\n            height: 11.5rem;\n          }\n        }\n        .info.expand{\n          .fold-icon{\n            background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/common/up.png') center center no-repeat;\n            display: inline-block;\n            width: .18rem;\n            height: .18rem;\n            background-size: cover;\n          }\n        }\n    }\n    .track-info-container.no-geo-has-express{\n      // top: 2.92rem;\n      top: 1.32rem;\n    }\n    .track-info-container.no-geo-no-express{\n      top: 1.32rem;\n    }\n    .track-info-container.ordered{\n      top: unset;\n      bottom: 0;\n    }\n    .track-info-container.no-express:not(.ordered):not(.no-geo-has-express){\n      top: calc(66% + 1.6rem)\n    }\n    ::v-deep .van-nav-bar--fixed{\n        width: calc(100% - .48rem);\n        margin-left: .24rem;\n        margin-top: .16rem;\n        border-radius: .3rem;\n        box-shadow: 0 1px 3px 0 rgba(0,0,0,0.15);\n    }\n    &::-webkit-scrollbar{\n        display: none;\n    }\n}\n.express-info-container{\n      height: 1.4rem;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      background: #ffffff;\n      border-radius: .24rem;\n      margin-bottom: .2rem;\n      background: url(https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/express-back-pic.png) 0 0 no-repeat,url(https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/tracking/car.png) calc(100% - .24rem) calc(100% - .18rem) no-repeat;\n      background-color: #fff;\n      background-size: 1.68rem,1.28rem;\n      .track-icon{\n        width: .36rem;\n        height: .36rem;\n        background: url('https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/tracking/littlecar.png') center center no-repeat;\n        background-size: cover;\n        margin-left: .28rem;\n      }\n      .track-text{\n        font-size: .26rem;\n        font-family: PingFangSC, PingFangSC-Regular;\n        font-weight: 400;\n        color: #000000;\n        line-height: .28rem;\n        margin-left: .08rem;\n      }\n      .track-text-copy{\n        height: .32rem;\n        border: .02rem solid #2878ff;\n        border-radius: .16rem;\n        font-size: .2rem;\n        font-family: PingFangSC, PingFangSC-Regular;\n        font-weight: 400;\n        color: #2878ff;\n        line-height: .2rem;\n        display: flex;\n        align-items: center;\n        padding: 0 .12rem;\n        margin-left: .16rem;\n      }\n    }\n    .express-info-container.express-fixed{\n      position: fixed;\n      z-index: 4;\n      top: 1.32rem;\n      width: calc(100% - .48rem);\n    }\n    .express-info-fixed{\n      position: fixed;\n      width: calc(100% - .48rem);\n      // top: 1.16rem;\n      padding: 1.32rem .24rem .2rem .24rem;\n      z-index: 1200;\n      background-color: #f5f5f5;\n      .express-info-container{\n        margin-bottom: 0;\n      }\n\n    }\n    .map-info-content.wx .copy{\n      border-color: #FF6026;\n      color: #FF6026;\n    }\n    #element-container{\n        ::v-deep .option-container{\n        color: #333333;\n        font-size: .32rem;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n        align-items: center;\n        .phonenum-show{\n          margin-top: .02rem;\n          margin-bottom: .48rem;\n\n        }\n        .copy-option{\n          font-size: .24rem;\n          color: #2979FF;\n          margin-bottom: .32rem;\n        }\n        .call-option{\n          width: 100%;\n          display: flex;\n          justify-content: center;\n          margin-bottom: .32rem;\n          div{\n            margin: 0 .48rem;\n            height: .88rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 100%;\n            background-color: #2979FF;\n            color: #ffffff;\n            border-radius: .44rem;\n          }\n\n        }\n        .cancle-option{\n          width: 100%;\n          display: flex;\n          justify-content: center;\n          margin-bottom: .48rem;\n          div{\n            margin: 0 .48rem;\n            height: .88rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 100%;\n            background-color: #ffffff;\n            border: 1px solid #2979ff;\n            color: #2979FF;\n            border-radius: .44rem;\n          }\n        }\n      }\n      ::v-deep .option-container.wx{\n        color: #333333;\n        font-size: .32rem;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n        align-items: center;\n        .phonenum-show{\n          margin-top: .02rem;\n          margin-bottom: .48rem;\n\n        }\n        .copy-option{\n          font-size: .24rem;\n          color: #FF6026;\n          margin-bottom: .32rem;\n        }\n        .call-option{\n          width: 100%;\n          display: flex;\n          justify-content: center;\n          margin-bottom: .32rem;\n          div{\n            margin: 0 .48rem;\n            height: .88rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 100%;\n            background-color: #FF6026;\n            color: #ffffff;\n            border-radius: .44rem;\n          }\n\n        }\n        .cancle-option{\n          width: 100%;\n          display: flex;\n          justify-content: center;\n          margin-bottom: .48rem;\n          div{\n            margin: 0 .48rem;\n            height: .88rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 100%;\n            background-color: #ffffff;\n            border: 1px solid #FF6026;\n            color: #FF6026;\n            border-radius: .44rem;\n          }\n        }\n      }\n    }\n   .map-info-container.hide-back{\n     ::v-deep .van-nav-bar__left{\n       display: none;\n     }\n     ::v-deep .van-nav-bar__title{\n       padding-left: 0.24rem;\n     }\n   }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5085e5ed&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5085e5ed&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5085e5ed\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}