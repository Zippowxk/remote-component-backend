{"version":3,"sources":["webpack:///./src/views/mine/subscribeStore/store-list.vue?aa5c","webpack:///./src/views/mine/subscribeStore/index.vue?5984","webpack:///./src/views/mine/subscribeStore/index.vue?6a8f","webpack:///./src/views/mine/subscribeStore/store-list.vue?8a3c","webpack:///src/views/mine/subscribeStore/store-list.vue","webpack:///./src/views/mine/subscribeStore/store-list.vue?424a","webpack:///./src/views/mine/subscribeStore/store-list.vue","webpack:///src/views/mine/subscribeStore/index.vue","webpack:///./src/views/mine/subscribeStore/index.vue?96e3","webpack:///./src/views/mine/subscribeStore/index.vue","webpack:///./node_modules/vant/es/rate/index.js","webpack:///./node_modules/vant/es/rate/style/index.js","webpack:///./src/assets/imgs/shop/logo.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","onRefresh","scopedSlots","_u","key","fn","attrs","proxy","model","value","callback","$$v","isLoading","expression","finished","storeList","length","onLoad","loading","cancelStore","staticRenderFns","_l","item","index","$event","tostoreDetail","collectId","_f","pic","getDefaultImageUrl","_v","_s","name","$cdnImageUrl","$set","collectionNum","stopPropagation","directives","rawName","isNoData","props","type","Array","default","data","filters","formatCollectionNum","nv","nvn","methods","$util","isSyBird","Number","store","synStoreType","logo","console","log","context","$emit","$router","push","path","component","components","refreshLoading","pageIndex","pageSize","activated","isHaierApp","$store","state","isLogin","dispatch","then","res","page","_resData","success","concat","totalCount","message","duration","_createNamespace","createComponent","bem","getRateStatus","allowHalf","mixins","size","String","color","gutter","readonly","Boolean","disabled","voidColor","iconPrefix","disabledColor","icon","voidIcon","count","touchable","computed","list","i","sizeWithUnit","gutterWithUnit","mounted","bindTouchEvent","$el","select","onTouchStart","event","_this","touchStart","rects","$refs","items","map","getBoundingClientRect","ranges","forEach","rect","score","left","width","onTouchMove","touchMove","direction","clientX","touches","getScoreByPosition","x","genStar","status","style","_this2","h","isFull","isVoid","paddingRight","full","_this3","arguments","module","exports"],"mappings":"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","file":"js/chunk-4241931c.65f1a1ef.js","sourcesContent":["export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store-list.vue?vue&type=style&index=0&id=913f8118&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=de7cc3a0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subscribe-store\"},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},scopedSlots:_vm._u([{key:\"pulling\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"下拉刷新\"}})]},proxy:true},{key:\"loosing\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"下拉刷新\"}})]},proxy:true},{key:\"loading\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"加载中\"}})]},proxy:true},{key:\"success\",fn:function(){return [_c('refreshLoading',{attrs:{\"text\":\"加载完成\"}})]},proxy:true}]),model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('div',{staticClass:\"store-content\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finishedText\":_vm.storeList.length > 0 ? '没有更多啦~' : '',\"van-clearfix\":\"\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('store-list',{attrs:{\"storeList\":_vm.storeList,\"isNoData\":!_vm.isLoading && !_vm.loading},on:{\"cancelStoreBack\":_vm.cancelStore}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-row',{staticClass:\"store-block\"},[_vm._l((_vm.storeList),function(item,index){return _c('van-col',{key:index,on:{\"click\":function($event){return _vm.tostoreDetail(item.collectId)}}},[_c('div',{staticClass:\"store-wrapper\"},[_c('div',{staticClass:\"default-block line\"},[_c('div',{staticClass:\"head-portrait\"},[(item.pic)?_c('img',{attrs:{\"src\":_vm._f(\"imageToHttps\")(item.pic),\"alt\":\"商店封面图\"}}):_c('img',{attrs:{\"src\":_vm.getDefaultImageUrl(item),\"alt\":\"商店封面图\"}})]),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"score\"},[_c('van-rate',{attrs:{\"allow-half\":\"\",\"size\":10,\"readonly\":\"\",\"icon\":(_vm.$cdnImageUrl + \"/shop/star.png\"),\"void-icon\":(_vm.$cdnImageUrl + \"/shop/star-void.png\")},model:{value:(item.score),callback:function ($$v) {_vm.$set(item, \"score\", $$v)},expression:\"item.score\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"formatCollectionNum\")(item.collectionNum))+\"人关注\")])],1)]),_c('div',{staticClass:\"icon\",on:{\"click\":function($event){$event.stopPropagation();return _vm.cancelStore(item)}}},[_c('vanImg',{attrs:{\"src\":(_vm.$cdnImageUrl + \"/shop/subscribe.png\")}})],1)])])])])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.storeList.length === 0 && _vm.isNoData),expression:\"storeList.length === 0 && isNoData\"}],staticClass:\"no-data\"},[_c('img',{attrs:{\"src\":_vm._f(\"imageToHttps\")((_vm.$cdnImageUrl + \"/personalCenter/new_collect.png\")),\"alt\":\"\"}}),_c('div',[_vm._v(\" 暂无收藏店铺 \")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <van-row class=\"store-block\">\n    <van-col @click=\"tostoreDetail(item.collectId)\" v-for=\"(item, index) in storeList\" :key=\"index\">\n      <div class=\"store-wrapper\">\n        <div class=\"default-block line\">\n          <div class=\"head-portrait\">\n            <img v-if=\"item.pic\" :src=\"item.pic | imageToHttps\" alt=\"商店封面图\"/>\n            <img v-else :src=\"getDefaultImageUrl(item)\" alt=\"商店封面图\"/>\n          </div>\n          <div class=\"detail\">\n            <div class=\"info\">\n              <div class=\"title\">{{item.name}}</div>\n              <div class=\"score\">\n                <van-rate\n                  v-model=\"item.score\"\n                  allow-half\n                  :size=\"10\"\n                  readonly\n                  :icon=\"`${$cdnImageUrl}/shop/star.png`\"\n                  :void-icon=\"`${$cdnImageUrl}/shop/star-void.png`\"\n                />\n                <span>{{item.collectionNum | formatCollectionNum}}人关注</span>\n              </div>\n            </div>\n            <div @click.stop=\"cancelStore(item)\" class=\"icon\">\n              <vanImg :src=\"`${$cdnImageUrl}/shop/subscribe.png`\"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    </van-col>\n    <!--店铺收藏列表为空-->\n    <div class=\"no-data\" v-show=\"storeList.length === 0 && isNoData\">\n      <img :src=\"`${$cdnImageUrl}/personalCenter/new_collect.png` | imageToHttps\" alt=\"\"/>\n      <div>\n        暂无收藏店铺\n      </div>\n    </div>\n  </van-row>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { Rate } from 'vant';\nconst logo = require('@/assets/imgs/shop/logo.png')\n\nVue.use(Rate);\n/*\n * 我的收藏列表\n*/\nexport default {\n  name: 'collectionList',\n  props: {\n    /**\n     * 父组件传入数据源\n     */\n    storeList: {\n      type: Array,\n      default: function () {\n        return []\n      },\n    },\n    isNoData: {\n      type: null,\n      default: function () {\n        return {}\n      },\n    }\n  },\n  data() {\n    return {}\n  },\n  filters: {\n    formatCollectionNum(v) {\n      const nv = Number(v);\n      const nvn = (nv / 10000).toFixed(1) + '万'\n      return nv <= 9999 ? nv : nvn\n    },\n  },\n  methods: {\n    getDefaultImageUrl(store) {\n      if (this.$util.isSyBird() || Number(store.synStoreType) !== 9) {\n        return `${this.$cdnImageUrl}/sybird_default_logo.png`\n      } else {\n        return logo\n      }\n    },\n    /**\n     * @description 删除已收藏的店铺\n     */\n    cancelStore(item) {\n      console.log(item);\n      const context = this;\n      // 回调父组建的取消收藏方法\n      context.$emit('cancelStoreBack', item);\n    },\n\n    /**\n     * @description  点击跳转到店铺\n    */\n    tostoreDetail(storeId) {\n      const context = this;\n      context.$router.push({\n        path: `/shopDetail?storeId=${storeId}&routerkey=${storeId}${new Date().getTime()}`,\n      });\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.store-block {\n  margin-top: -.02rem;\n}\n\n.line {\n  // padding: 0.32rem;\n  border-bottom: 0.01rem solid rgba(238,238,238,1);\n  ::v-deep.van-button {\n    height: 100%;\n  }\n\n}\n.store-wrapper {\n  padding: 0 .4rem;\n}\n.default-block {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: .4rem 0 .4rem .26rem;\n  // border-bottom: 0.01rem solid rgba(238,238,238,1);\n  // background: #ffffff;\n\n  .head-portrait {\n    width: .88rem;\n    margin-right: .26rem;\n\n    img {\n      width: .88rem;\n      height: .88rem;\n      border-radius: 0.16rem;\n    }\n\n  }\n\n  .detail{\n    width: 5.58rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .info {\n      height: .88rem;\n      padding-top: .1rem;\n      box-sizing: border-box;\n      display: flex;\n      justify-content: space-between;\n      flex-direction: column;\n      .title{\n        @include text-overflow(1);\n        font-family: PingFangSC-Medium;\n        font-size: .32rem;\n        color: #333333;\n        line-height: .32rem;\n        font-weight: 500;\n        max-width: 12em;\n      }\n      .score>span {\n        margin-left: .2rem;\n        font-family: PingFangSC-Regular;\n        font-size: .24rem;\n        color: #666666;\n        line-height: .24rem;\n        font-weight: 400;\n      }\n    }\n\n    // .tag{\n    //   display: flex;\n    //   align-items: center;\n    // }\n\n    // .authentication{\n    //   height: 0.28rem;\n    //   border-radius: 0.15rem;\n    //   border: 0.01rem solid $themeOrange;\n    //   margin: 0 0.10rem 0 0;\n    //   font-size: 0.18rem;\n    //   font-weight: 400;\n    //   color: $themeOrange;\n    //   line-height: 0.3rem;\n    //   text-align: center;\n    //   padding: 0 0.10rem;\n    // }\n\n    // .vip{\n    //   height: 0.28rem;\n    //   border-radius: 0.15rem;\n    //   border: 0.01rem solid rgba(11,120,227,1);\n    //   margin: 0 0.10rem 0 0;\n    //   font-size: 0.18rem;\n    //   font-weight: 400;\n    //   color: rgba(11,120,227,1);\n    //   line-height: 0.3rem;\n    //   text-align: center;\n    //   padding: 0 0.10rem;\n    // }\n\n    .icon{\n      width: .68rem;\n      height: .68rem;\n    }\n  }\n\n}\n\n/*\n * 没有数据\n */\n.no-data {\n  margin: 0 0 5rem 0;\n\n  img {\n    display: block;\n    width: 2.4rem;\n    height: 2.4rem;\n    padding: 40% 0 0 0;\n    margin: 0 auto;\n  }\n\n  div {\n    font-size: 0.28rem;\n    text-align: center;\n    color: #999;\n    margin-top: 0.3rem;\n  }\n\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./store-list.vue?vue&type=template&id=913f8118&scoped=true&\"\nimport script from \"./store-list.vue?vue&type=script&lang=js&\"\nexport * from \"./store-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./store-list.vue?vue&type=style&index=0&id=913f8118&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"913f8118\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"subscribe-store\">\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n      <template #pulling><refreshLoading text=\"下拉刷新\"/></template>\n        <template #loosing><refreshLoading text=\"下拉刷新\"/></template>\n        <template #loading><refreshLoading text=\"加载中\"/></template>\n        <template #success><refreshLoading text=\"加载完成\"/></template>\n      <!--店铺收藏列表-->\n      <div class=\"store-content\">\n          <!--上啦加载-->\n          <van-list\n            v-model=\"loading\"\n            :finished=\"finished\"\n            :finishedText=\"storeList.length > 0 ? '没有更多啦~' : ''\"\n            @load=\"onLoad\"\n            van-clearfix\n            :immediate-check=\"false\"\n          >\n            <store-list :storeList=\"storeList\" :isNoData=\"!isLoading && !loading\" @cancelStoreBack=\"cancelStore\"></store-list>\n          </van-list>\n      </div>\n\n    </van-pull-refresh>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { Toast, List, PullRefresh } from 'vant';\nimport personalApi from '@/http/service/index'\nimport storeList from './store-list'\n// import { mapGetters } from 'vuex'\nconst refreshLoading = () => import('@/components/refreshLoading')\n\n// 全局注册\nVue.use({ Toast, List, PullRefresh });\n\nexport default {\n  components: {\n    refreshLoading,\n    storeList\n  },\n  data() {\n    return {\n      isLoading: false,\n      loading: false,\n      finished: false,\n      storeList: [],\n      pageIndex: 1,\n      pageSize: 10\n    }\n  },\n  activated() {\n    const context = this;\n    context.pageIndex = 0\n    // 判断登陆状态，未登录便登陆\n    if (context.$util.isHaierApp()) { // 智家\n      if (!this.$store.state.isLogin) {\n        // this.$store.dispatch('doLogin')\n        this.$store.dispatch('handleUpAuth').then(res => {\n          if (res) {\n            context.isLoading = true;\n            context.storeList = [];\n            context.onLoad();\n          } else {\n            this.$store.dispatch('doLogin')\n          }\n        })\n      } else {\n        context.isLoading = true;\n        context.storeList = [];\n        context.onLoad();\n      }\n    } else {\n      /**\n       * @description  我的收藏列表\n      */\n      context.isLoading = true;\n      context.storeList = [];\n      context.onLoad();\n    }\n  },\n  methods: {\n    onLoad() {\n      const context = this;\n      context.pageIndex = context.pageIndex + 1;\n      // 店铺收藏列表\n      const data = {\n        page: context.pageIndex,\n        pageSize: context.pageSize,\n        type: 1,\n      }\n      personalApi.storeCollectionList(data).then(res => {\n        const _resData = res.data;\n        this.skeletonLoading = false\n        // 手动清除 Toast\n        // Toast.clear();\n        if (_resData.success) {\n          // 下啦刷新完成\n          if (context.isLoading) {\n            context.storeList = [];\n            context.isLoading = false;\n          }\n\n          context.storeList = context.storeList.concat(_resData.data);\n\n          // 加载状态结束\n          context.finished = false;\n          context.loading = false;\n          context.finished = false;\n\n          // 数据全部加载完成\n          if (_resData.data.length === 0 || context.storeList.length >= _resData.totalCount) {\n            context.finished = true;\n          }\n          console.log(context.isLoading, context.finished);\n        } else {\n          Toast.fail(_resData.message)\n        }\n      })\n    },\n    cancelStore(item) {\n      console.log('item', item);\n      const context = this;\n      const data = {\n        collectId: item.collectId,\n        type: 1,\n      };\n      personalApi.collectStore(data).then(res => {\n        const _resData = res.data;\n        if (_resData.success) {\n          Toast({\n            message: '您已取消关注',\n            duration: 1000\n          })\n          context.isLoading = true;\n          context.onRefresh(); // 下啦刷新\n        } else {\n          Toast({\n            message: _resData.message || '网络不可用，请稍后重试或检查网络设置',\n            duration: 1000\n          })\n        }\n      })\n    },\n    onRefresh() {\n      const context = this;\n      context.pageIndex = 0;\n      context.onLoad();\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.store-content {\n  background: #f5f5f5;\n  padding-top: .2rem;\n  ::v-deep.van-list {\n    background: #fff;\n    min-height: calc( 100vh - 1.12rem);\n    .van-list__finished-text {\n      background: #fff;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=de7cc3a0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=de7cc3a0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de7cc3a0\",\n  null\n  \n)\n\nexport default component.exports","// Utils\nimport { createNamespace, addUnit } from '../utils';\nimport { preventDefault } from '../utils/dom/event'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { FieldMixin } from '../mixins/field'; // Components\n\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('rate'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getRateStatus(value, index, allowHalf) {\n  if (value >= index) {\n    return 'full';\n  }\n\n  if (value + 0.5 >= index && allowHalf) {\n    return 'half';\n  }\n\n  return 'void';\n}\n\nexport default createComponent({\n  mixins: [TouchMixin, FieldMixin],\n  props: {\n    size: [Number, String],\n    color: String,\n    gutter: [Number, String],\n    readonly: Boolean,\n    disabled: Boolean,\n    allowHalf: Boolean,\n    voidColor: String,\n    iconPrefix: String,\n    disabledColor: String,\n    value: {\n      type: Number,\n      default: 0\n    },\n    icon: {\n      type: String,\n      default: 'star'\n    },\n    voidIcon: {\n      type: String,\n      default: 'star-o'\n    },\n    count: {\n      type: [Number, String],\n      default: 5\n    },\n    touchable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    list: function list() {\n      var list = [];\n\n      for (var i = 1; i <= this.count; i++) {\n        list.push(getRateStatus(this.value, i, this.allowHalf));\n      }\n\n      return list;\n    },\n    sizeWithUnit: function sizeWithUnit() {\n      return addUnit(this.size);\n    },\n    gutterWithUnit: function gutterWithUnit() {\n      return addUnit(this.gutter);\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$el);\n  },\n  methods: {\n    select: function select(index) {\n      if (!this.disabled && !this.readonly && index !== this.value) {\n        this.$emit('input', index);\n        this.$emit('change', index);\n      }\n    },\n    onTouchStart: function onTouchStart(event) {\n      var _this = this;\n\n      if (this.readonly || this.disabled || !this.touchable) {\n        return;\n      }\n\n      this.touchStart(event);\n      var rects = this.$refs.items.map(function (item) {\n        return item.getBoundingClientRect();\n      });\n      var ranges = [];\n      rects.forEach(function (rect, index) {\n        if (_this.allowHalf) {\n          ranges.push({\n            score: index + 0.5,\n            left: rect.left\n          }, {\n            score: index + 1,\n            left: rect.left + rect.width / 2\n          });\n        } else {\n          ranges.push({\n            score: index + 1,\n            left: rect.left\n          });\n        }\n      });\n      this.ranges = ranges;\n    },\n    onTouchMove: function onTouchMove(event) {\n      if (this.readonly || this.disabled || !this.touchable) {\n        return;\n      }\n\n      this.touchMove(event);\n\n      if (this.direction === 'horizontal') {\n        preventDefault(event);\n        var clientX = event.touches[0].clientX;\n        this.select(this.getScoreByPosition(clientX));\n      }\n    },\n    getScoreByPosition: function getScoreByPosition(x) {\n      for (var i = this.ranges.length - 1; i > 0; i--) {\n        if (x > this.ranges[i].left) {\n          return this.ranges[i].score;\n        }\n      }\n\n      return this.allowHalf ? 0.5 : 1;\n    },\n    genStar: function genStar(status, index) {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var icon = this.icon,\n          color = this.color,\n          count = this.count,\n          voidIcon = this.voidIcon,\n          disabled = this.disabled,\n          voidColor = this.voidColor,\n          disabledColor = this.disabledColor;\n      var score = index + 1;\n      var isFull = status === 'full';\n      var isVoid = status === 'void';\n      var style;\n\n      if (this.gutterWithUnit && score !== +count) {\n        style = {\n          paddingRight: this.gutterWithUnit\n        };\n      }\n\n      return h(\"div\", {\n        \"ref\": \"items\",\n        \"refInFor\": true,\n        \"key\": index,\n        \"attrs\": {\n          \"role\": \"radio\",\n          \"tabindex\": \"0\",\n          \"aria-setsize\": count,\n          \"aria-posinset\": score,\n          \"aria-checked\": String(!isVoid)\n        },\n        \"style\": style,\n        \"class\": bem('item')\n      }, [h(Icon, {\n        \"attrs\": {\n          \"size\": this.sizeWithUnit,\n          \"name\": isFull ? icon : voidIcon,\n          \"color\": disabled ? disabledColor : isFull ? color : voidColor,\n          \"classPrefix\": this.iconPrefix,\n          \"data-score\": score\n        },\n        \"class\": bem('icon', {\n          disabled: disabled,\n          full: isFull\n        }),\n        \"on\": {\n          \"click\": function click() {\n            _this2.select(score);\n          }\n        }\n      }), this.allowHalf && h(Icon, {\n        \"attrs\": {\n          \"size\": this.sizeWithUnit,\n          \"name\": isVoid ? voidIcon : icon,\n          \"color\": disabled ? disabledColor : isVoid ? voidColor : color,\n          \"classPrefix\": this.iconPrefix,\n          \"data-score\": score - 0.5\n        },\n        \"class\": bem('icon', ['half', {\n          disabled: disabled,\n          full: !isVoid\n        }]),\n        \"on\": {\n          \"click\": function click() {\n            _this2.select(score - 0.5);\n          }\n        }\n      })]);\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem({\n        readonly: this.readonly,\n        disabled: this.disabled\n      }),\n      \"attrs\": {\n        \"tabindex\": \"0\",\n        \"role\": \"radiogroup\"\n      }\n    }, [this.list.map(function (status, index) {\n      return _this3.genStar(status, index);\n    })]);\n  }\n});","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","module.exports = __webpack_public_path__ + \"img/logo.6ca4023e.png\";"],"sourceRoot":""}