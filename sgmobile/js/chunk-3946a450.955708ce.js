(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3946a450"],{"113e":function(t,e,r){},1771:function(t,e,r){"use strict";var o;e["a"]={swipeResize:function(t,e){var r=e,n=t;(function(){var t;function e(){n&&n.$refs&&n.$refs[r]&&n.$refs[r].resize()}o=function(){t||(t=setTimeout((function(){t=null,e()}),1e3))},window.addEventListener("resize",o,!1)})()},removeSwipeResize:function(){window.removeEventListener("resize",o,!1)}}},"4b00":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bar-selected"},[t.modelFetchend&&!t.modelList.length?r("common-empty"):t._l(t.modelList,(function(e,o){return r("div",{key:e.id,staticClass:"warp-item"},["coupon"===e.modelCode?r("coupon-list",{attrs:{data:e,storeId:t.storeId}}):t._e(),"carousel"===e.modelCode?r("banner",{attrs:{data:e,storeId:t.storeId,isCustom:!!t.pageId}}):t._e(),"template_img"===e.modelCode?r("multiple-img",{attrs:{columnNum:1,storeId:t.storeId,data:e,previousCode:0===o?"":t.modelList[o-1].modelCode,isCustom:!!t.pageId}}):t._e(),"draw"===e.modelCode?r("multiple-img",{attrs:{columnNum:1,storeId:t.storeId,data:e,previousCode:0===o?"":t.modelList[o-1].modelCode,isCustom:!!t.pageId}}):t._e(),"i_single"===e.modelCode?r("multiple-img",{attrs:{columnNum:1,storeId:t.storeId,data:e,previousCode:0===o?"":t.modelList[o-1].modelCode,isCustom:!!t.pageId}}):t._e(),"i_two"===e.modelCode?r("multiple-img",{attrs:{columnNum:2,storeId:t.storeId,data:e,previousCode:0===o?"":t.modelList[o-1].modelCode,isCustom:!!t.pageId}}):t._e(),"i_three"===e.modelCode?r("multiple-img",{attrs:{columnNum:3,storeId:t.storeId,data:e,previousCode:0===o?"":t.modelList[o-1].modelCode,isCustom:!!t.pageId}}):t._e(),"seckill"===e.modelCode?r("falsh-sale",t._g(t._b({attrs:{data:e,storeId:t.storeId,storeSign:t.storeSign}},"falsh-sale",t.$attrs,!1),t.$listeners)):t._e(),"pre_sale"===e.modelCode?r("presell",t._g(t._b({attrs:{storeId:t.storeId,data:e,storeSign:t.storeSign}},"presell",t.$attrs,!1),t.$listeners)):t._e(),"recommend"===e.modelCode?r("recommend-prod",{attrs:{contentType:0,storeId:t.storeId,data:e,isCustomPage:t.isCustomPage}}):t._e(),"eco_opt"===e.modelCode?r("recommend-prod",{attrs:{contentType:1,storeId:t.storeId,data:e,isCustomPage:t.isCustomPage}}):t._e(),"sa_order"===e.modelCode?r("three-bird",{attrs:{displayType:0,data:e,storeCode:t.storeSign.storeCode}}):t._e(),"sa_intr"===e.modelCode?r("three-bird",{attrs:{displayType:1,data:e}}):t._e(),"scenes"===e.modelCode?r("scene",{attrs:{storeSceneData:t.storeSceneData,data:e,storeId:t.storeId}}):t._e(),"vr_preview"===e.modelCode?r("vr-preview",{attrs:{data:e,isCustomPage:t.isCustomPage}}):t._e(),"prod_package"===e.modelCode?r("shop-suit",{attrs:{storeId:t.storeId}}):t._e(),"group_buy"===e.modelCode?r("group-booking",t._g(t._b({attrs:{storeId:t.storeId}},"group-booking",t.$attrs,!1),t.$listeners)):t._e(),"merc_water"===e.modelCode?r("product-list",{attrs:{data:e,from:1,storeId:t.storeId,shareId:t.shareId,isSelected:0!==o,offsetTop:t.pageId?"0.92rem":"1.62rem"}}):t._e()],1)}))],2)},n=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.saleList&&t.saleList.length>0?r("div",{staticClass:"flash-sale"},[r("div",{staticClass:"bg-tag"}),r("div",{staticClass:"title"},[r("span",{staticClass:"text"},[t._v("秒杀专区")]),r("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.goPage()}}},[t._v("更多 "),r("i")])]),r("div",[r("div",{staticClass:"horionzal-content"},[r("div",{staticClass:"horionzal-row"},t._l(t.saleList,(function(e,o){return r("div",{key:o,staticClass:"time-item",on:{click:function(e){return t.changeTab(o)}}},[r("div",{staticClass:"time-text",class:{active:t.currentTab===o}},["往日"===e.dayStr?r("img",{staticClass:"time-img",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/shop/previous-sale3x.png",alt:""}}):r("span",[t._v(t._s(e.timeStr))])]),r("div",{staticClass:"time-status",class:{active:t.currentTab===o}},[r("span",[t._v(t._s(e.timeTip))])])])})),0)]),r("div",{staticClass:"horionzal-content",staticStyle:{"margin-top":".16rem"}},[r("div",{staticClass:"horionzal-row"},t._l(t.activeProductList,(function(e,o){return r("div",{key:o,staticClass:"prod-item",on:{click:function(r){return t.toProduct(e,o)}}},[r("img",{attrs:{src:t._f("imageToWebp")(t._f("imageToHttps")(e.imageUrl),t.$webpSurpport)}}),r("div",{staticClass:"sale-price"},[t._v("￥"+t._s(t._f("formatPrice")(e.flashsalePrice)))]),r("div",{staticClass:"origin-price"},[t._v("￥"+t._s(t._f("formatPrice")(e.miniPrice)))])])})),0)])])]):t._e()},i=[],a=r("c3f5"),c=r("2f62");function l(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=m(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,s=t},f:function(){try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}}}function u(t){return f(t)||p(t)||m(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,e){if(t){if("string"===typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function p(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function f(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y={inheritAttrs:!1,props:{data:{type:Object,default:function(){}},storeId:{type:String,default:""},storeSign:{type:Object,default:function(){}}},data:function(){return{tabList:[1,2,3,4,5],prodList:[1,2,3,4,5,6],currentTab:0,saleList:[]}},computed:b(b({},Object(c["d"])(["mId"])),{},{location:function(){return this.$store.getters["getlocationInfo"]},activeProductList:function(){return this.saleList.length>this.currentTab?this.saleList[this.currentTab].products:[]}}),watch:{location:function(t){this.getFlashSale()},mId:function(){this.getFlashSale()}},mounted:function(){this.getFlashSale()},methods:{getFlashSale:function(){var t=this;Object(a["getStoreFlashSale"])({provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,streetId:this.location.townshipId,storeId:this.storeId}).then((function(e){if(e.success){var r=e.data;if(Array.isArray(r.dates)&&r.dates.length){var o=[];r.dates.forEach((function(t){o.push.apply(o,u(t.list))})),t.saleData=b(b({},r.dates[0]),{},{list:o,systemTime:r.systemTime}),t.handleSaleData(t.saleData)}}else t.$toast(e.message)}))},handleSaleData:function(t){if(t.list&&t.list.length){var e,r=t.systemTime,o=t.list,n={dayStr:"往日",timeTip:"进行中",promotionState:1,isSaling:!0,products:[]},s=[],i=l(o);try{for(i.s();!(e=i.n()).done;){var a,c=e.value;if("往日"===c.dayStr){if(c.products.length)(a=n.products).push.apply(a,u(c.products))}else r>c.endTime?(c.promotionState=2,c.isSaling=!1):r<c.startTime?(c.promotionState=0,c.isSaling=!1):(c.promotionState=1,c.isSaling=!0),s.push(c)}}catch(f){i.e(f)}finally{i.f()}n.products.length&&(s=[n].concat(u(s)));for(var d=0,m=0;m<s.length;m++){var p=s[m];if(new Date(p.startTime).getDate()===new Date(r).getDate()&&r<p.endTime&&r>p.startTime){d=m;break}}this.currentTab=d,this.saleList=s}},changeTab:function(t){this.currentTab=t},goPage:function(){this.$util.gioTrackWithVariable("mall_store_click_model",{modelName:"秒杀专区",modelCode:"seckill",site_number:"null",itemCode:"更多"}),this.$emit("changeBar",2)},toProduct:function(t,e){this.$util.gioTrackWithVariable("mall_store_click_model",{modelName:"秒杀专区",modelCode:"seckill",site_number:e+1+"",itemCode:t.productId+""}),this.$router.push("/goodsDetail?productId=".concat(t.productId,"&visitStore=").concat(this.storeId||""))}}},C=y,I=(r("77ba"),r("2877")),_=Object(I["a"])(C,s,i,!1,null,"73db3556",null),S=_.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.data.images&&t.data.images.length?r("div",{class:{banner:!0,"banner-img--custom":t.isCustom},style:t.isCustom?"margin-top:0;":""},[r("van-swipe",{ref:"vanSwiper",class:{swipe:!0,"banner-img--custom":t.isCustom},attrs:{autoplay:3e3,"lazy-render":!0,"indicator-color":"white"}},t._l(t.data.images,(function(e,o){return r("van-swipe-item",{key:o,class:{"swipe-item":!0,"banner-img--custom":t.isCustom},on:{click:function(r){return t.bannerClick(e,o)}}},[r("img",{class:{"swipe-img":!0,"banner-img--custom":t.isCustom},attrs:{src:t._f("imageToHttps")(e.imgUrl)}})])})),1)],1):t._e()},k=[],T=r("1771"),O={props:{data:{type:Object,default:function(){}},storeId:{type:String,default:""},isCustom:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){T["a"].swipeResize(this,"vanSwiper")},methods:{bannerClick:function(t,e){var r=t.urlType,o=t.urlParam;switch(this.$util.gioTrackWithVariable("mall_store_click_model",{modelName:"轮播图",modelCode:"carousel",site_number:e+1+"",itemCode:"null"}),Number(r||"")){case 1:o&&this.$router.push("/shopCustomPage?storeId=".concat(this.storeId,"&pageId=").concat(o));break;case 2:o&&this.$router.push("/goodsDetail?productId=".concat(o,"&visitStore=").concat(this.storeId));break;case 3:this.$router.push("/voucher?storeCouponid=".concat(this.storeId));break;case 5:o&&this.$router.push("/bannerCustom?id=".concat(o));break;case 6:if(o){var n=o+"&userId=".concat(this.$store.state.ucId?this.$store.state.ucId:"","&userAccessToken=").concat(this.$store.getters.getUserCenterToken);this.$store.dispatch("goPageByType",{type:5,params:this.$util.injectISOAddressCodeToURL(n,this.$store.getters.getlocationInfo)})}break}}}},P=O,$=(r("58f1"),Object(I["a"])(P,w,k,!1,null,"19c634e8",null)),j=$.exports,L=function(){return r.e("chunk-1a8266b5").then(r.bind(null,"8ab0"))},D=function(){return r.e("chunk-57174cef").then(r.bind(null,"4714"))},A=function(){return r.e("chunk-52e27db2").then(r.bind(null,"9ae2"))},z=function(){return r.e("chunk-162edb12").then(r.bind(null,"b54c"))},E=function(){return r.e("chunk-24337eab").then(r.bind(null,"7117"))},N=function(){return r.e("chunk-12f50b7c").then(r.bind(null,"62ed"))},x=function(){return r.e("chunk-056bbf76").then(r.bind(null,"d44a"))},B=function(){return Promise.all([r.e("chunk-3aea2a64"),r.e("chunk-3bda9849")]).then(r.bind(null,"8331"))},F=function(){return r.e("chunk-bb06fea8").then(r.bind(null,"da5c"))},U=function(){return r.e("chunk-17c39ef4").then(r.bind(null,"5943"))},R=function(){return r.e("chunk-059184a8").then(r.bind(null,"9771"))},W={inheritAttrs:!1,props:{storeSceneData:{type:Object,default:function(){}},storeId:{type:String,default:""},shareId:{type:String,default:""},pageId:{type:String,default:""},modelList:{type:Array,defaulut:function(){return[]}},modelFetchend:{type:Boolean,defaulut:!1},storeSign:{type:Object,default:function(){}},isCustomPage:{type:Boolean,default:!1}},components:{banner:j,multipleImg:A,scene:z,vrPreview:E,falshSale:S,presell:N,recommendProd:x,couponList:D,productList:B,threeBird:F,shopSuit:U,commonEmpty:L,groupBooking:R},data:function(){return{}},watch:{},mounted:function(){},methods:{},filters:{toObj:function(t){try{var e=JSON.parse(t);return e.text}catch(r){return{}}}}},H=W,J=(r("8a05"),Object(I["a"])(H,o,n,!1,null,"1fd9bbc0",null));e["default"]=J.exports},"58f1":function(t,e,r){"use strict";r("cadd")},"77ba":function(t,e,r){"use strict";r("bf43")},"8a05":function(t,e,r){"use strict";r("113e")},bf43:function(t,e,r){},cadd:function(t,e,r){}}]);
//# sourceMappingURL=chunk-3946a450.955708ce.js.map