{"version":3,"sources":["webpack:///./src/views/shop/voucher/index.vue?ab76","webpack:///./src/components/top-feedBack/mixins_inpage_scroll.js","webpack:///./src/views/shop/voucher/components/list-coupon-item.vue?d28c","webpack:///./src/components/couponValueLabel/index.vue?16b7","webpack:///src/components/couponValueLabel/index.vue","webpack:///./src/components/couponValueLabel/index.vue?6c43","webpack:///./src/components/couponValueLabel/index.vue","webpack:///./src/views/shop/voucher/index.vue?d1c1","webpack:///./src/views/shop/voucher/components/voucher-list.vue?be37","webpack:///./src/views/shop/voucher/components/list-coupon-item.vue?92f1","webpack:///src/views/shop/voucher/components/list-coupon-item.vue","webpack:///./src/views/shop/voucher/components/list-coupon-item.vue?d7a6","webpack:///./src/views/shop/voucher/components/list-coupon-item.vue","webpack:///src/views/shop/voucher/components/voucher-list.vue","webpack:///./src/views/shop/voucher/components/voucher-list.vue?8ebb","webpack:///./src/views/shop/voucher/components/voucher-list.vue?09e3","webpack:///src/views/shop/voucher/index.vue","webpack:///./src/views/shop/voucher/index.vue?4dee","webpack:///./src/views/shop/voucher/index.vue?6521","webpack:///./src/components/couponValueLabel/index.vue?fdab","webpack:///./src/views/shop/voucher/index.vue?1ba7","webpack:///./src/views/shop/voucher/components/voucher-list.vue?03c2","webpack:///./src/components/skeleton/index.vue?62cb","webpack:///./src/components/skeleton/index.vue?3508","webpack:///./src/components/skeleton/index.vue?db06","webpack:///./src/http/service/shop.js","webpack:///./src/views/shop/voucher/components/voucher-list.vue?c41a"],"names":["topFeedBack","components","data","showToTopFlag","scrollTarget","mounted","this","debouncedAction","$util","throttle","option","methods","handleScroll","ev","_scrollTop","$refs","toTop","scrollTop","hiddenFeedBack","fnScrollToTop","scrollSmoothTo","position","window","requestAnimationFrame","callback","setTimeout","_target","document","querySelector","step","distance","Math","abs","scrollTo","render","_vm","_h","$createElement","_c","_self","staticClass","class","forHomePage","style","color","textColor","couponType","_v","_e","fontSize","_s","_f","couponDisplayValue","staticRenderFns","name","props","couponValue","type","String","default","Boolean","maxFontSize","computed","length","withFloat","arr","Number","component","attrs","$route","query","browerFirstIn","backgroundImage","$globalIcon","on","doShare","slot","_l","item","index","key","active","id","couponCateId","$event","fnChange","cateName","fnShowVoucherType","$cdnImageUrl","ref","withoutCate","couponsCenterList","finished","vantLoading","onLoad","receiveCoupon","couponCateList","model","value","$$v","innerVantLoading","expression","couponOperate","toCommodity","couponData","scope","description","couponTemplateName","startTime","endTime","validityPeriod","displayType","stopPropagation","receive","apply","arguments","use","iconSrc","Object","created","beforeDestroy","gioTrackWithVariable","ad_coupon_id","couponTemplateCode","storeId","storeCouponid","$emit","$store","getters","getLoginStatus","$router","push","path","dispatch","couponIcon","ORDER","SCENE","SHOP","_couponIcon","isBigVal","applyType","watch","filters","formatCouponType","from","val","methodName","params","activityCode","sourceChannel","toUseLink","instance","initDeviceReady","mixins","skeleton","Header","voucherList","voucherType","noData","skeletonLoading","shareShow","showVoucherTypeFlag","pageSize","startIndex","isVouchers","utils","doShowUplusLive","getCouponsList","getViewCouponCate","getCouponsCenter","title","desc","thumImage","beforeRouteEnter","postMessage","next","isShowLive","sessionStorage","getItem","then","upLiveModule","showFloatWindow","category_name","getElementById","inline","res","success","Promise","streetId","resolve","location","townshipId","_list","forEach","inAppShare","url","href","indexOf","mId","nums","zIndex","bgColor","height","fheight","iheight","script","manage","get","URL","collectStore","enterprise","getNavigations","getImgCaptcha","commonLoadItemNew","baseURL","config","SHOST","getPriceByProductList","wdMarketFiltrate","getNearbyList","nearbyList","getBusinessCustomer","HOST4","GET_BANNER","getLiveByStoreId","getStoreFlashSale","getCate","getStoreSign","param","storeSign","getSelectedModel","storeSelectedModel","getCustomPageModel","getCustomPage","getUserCases","GET_STORE_SCENE","getRecommendList","recommendProducts","getVRPreviews","storeVRPreviewList","getPreSales","isPlatForm","platformPreSale","post","preSaleList","getStoreSceneTabs","sceneTabList","getStoreScene","sceneList","getStoreSceneNew","sceneListNew","DHOST","getSubStoreList","subStoreList","getShopPreview","shopPreview","STOREHOST","getCustomPagePreview","customPagePreview","getStoreSignPreview","storeSignPreview","getStoreNewProducts","storeNewProducts","checkPrivateDomain","cancelRepeat","getSuitList","getShopSuitList","getSuitImage","getShopSuitImage","getSuitDetail","getShopSuitDetail","validateTabOrSpace","checkIdentity","getFindGoods","storeFindGoods"],"mappings":"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","file":"js/voucher.0f512ae9.js","sourcesContent":["export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=648d17e8&lang=scss&scoped=true&\"","// import topFeedBack from '@/components/top-feedBack/index'\nconst topFeedBack = () => import('@/components/top-feedBack/index')\n\nexport default {\n  components: {\n    topFeedBack\n  },\n  data() {\n    return {\n      showToTopFlag: false,\n      scrollTarget: '' // 页面滚动元素\n    }\n  },\n  mounted() {\n    this.debouncedAction = this.$util.throttle(this.option, 100)\n  },\n  methods: {\n    handleScroll(ev) {\n      this.debouncedAction()\n    },\n    option() {\n      let _scrollTop = this.$refs.toTop.scrollTop\n      this.showToTopFlag = _scrollTop > 200\n    },\n    /**\n     * 隐藏 FeedBack\n    */\n    hiddenFeedBack() {\n      this.showToTopFlag = false\n    },\n    /**\n     * 返回顶部\n    */\n    fnScrollToTop() {\n      // this.$refs.toTop.scrollIntoView({\n      //   block: 'start',\n      //   behavior: 'smooth', // 平滑过渡\n      // }) // 回到顶部\n      this.scrollSmoothTo(0)\n    },\n    /**\n     * 模拟动画滚动\n    */\n    scrollSmoothTo(position) {\n      if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = function(callback) {\n          return setTimeout(callback, 17);\n        };\n      }\n      // debugger\n      let _target = document.querySelector(this.scrollTarget)\n      // 当前滚动高度\n      let scrollTop = _target.scrollTop;\n\n      // 滚动step方法\n      let step = function () {\n        // 距离目标滚动距离\n        var distance = position - scrollTop;\n        // 目标滚动位置\n        scrollTop = scrollTop + distance / 10;\n        if (Math.abs(distance) < 1) {\n          _target.scrollTo(0, position);\n        } else {\n          _target.scrollTo(0, scrollTop);\n          requestAnimationFrame(step);\n        }\n      };\n      step();\n    },\n  },\n}\n","export * from \"-!../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-coupon-item.vue?vue&type=style&index=0&id=6161430c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{class:{'coupon-value-label':true,'home-style':_vm.forHomePage},style:({color:_vm.textColor})},[((_vm.couponType==='FIXED_CASH_COUPON' || _vm.couponType ==='REBATE_COUPON'))?_c('span',{staticClass:\"symbol\"},[_vm._v(\"￥\")]):_vm._e(),_c('span',{staticClass:\"integer\",style:({fontSize:_vm.fontSize})},[_vm._v(_vm._s(_vm._f(\"formatPriceInt\")(_vm.couponDisplayValue)))]),(_vm.withFloat)?_c('span',{staticClass:\"float\"},[_vm._v(_vm._s(_vm._f(\"formatPriceFloat\")(_vm.couponDisplayValue)))]):_vm._e(),(_vm.couponType==='DISCOUNT_COUPON')?_c('span',{staticClass:\"sales\"},[_vm._v(\"折\")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div :class=\"{'coupon-value-label':true,'home-style':forHomePage}\" :style='{color:textColor}'>\n      <span class=\"symbol\" v-if=\"(couponType==='FIXED_CASH_COUPON' || couponType ==='REBATE_COUPON')\">￥</span>\n      <span class=\"integer\" :style=\"{fontSize:fontSize}\">{{couponDisplayValue | formatPriceInt}}</span>\n      <span class=\"float\" v-if=\"withFloat\">{{couponDisplayValue | formatPriceFloat}}</span>\n      <span class=\"sales\" v-if=\"couponType==='DISCOUNT_COUPON'\">折</span>\n    </div>\n  </div>\n</template>\n<script>\n// 券类型\n// FIXED_CASH_COUPON：定额满减券\n// REBATE_COUPON：满减券\n// DISCOUNT_COUPON：折扣券\n// EQUITY_COUPON：权益券\n// GIFT_COUPON：礼品券\nexport default {\n  name: 'couponValueLabel',\n  props: {\n    couponValue: {\n      type: String,\n      default: '0'\n    },\n    couponType: {\n      type: String,\n      default: 'FIXED_CASH_COUPON'\n    },\n    forHomePage: {\n      type: Boolean,\n      default: false\n    },\n    maxFontSize: {\n      type: String,\n      default: '0.64'\n    },\n    textColor: {\n      type: String,\n      default: '#ED2856'\n    }\n  },\n  computed: {\n    fontSize() {\n      if (this.forHomePage) {\n        if (String(this.couponDisplayValue).length < 6) {\n          return '0.40rem'\n        } else if (String(this.couponDisplayValue).length === 6) {\n          return '0.38rem'\n        } else if (String(this.couponDisplayValue).length > 6) {\n          return '0.32rem'\n        }\n        return this.maxFontSize + 'rem'\n      }\n      if (String(this.couponDisplayValue).length < 6) {\n        return this.maxFontSize + 'rem'\n      } else if (String(this.couponDisplayValue).length === 6) {\n        return 0.875 * this.maxFontSize + 'rem'\n      } else if (String(this.couponDisplayValue).length > 6) {\n        return 0.68 * this.maxFontSize + 'rem'\n      }\n      return this.maxFontSize + 'rem';\n    },\n    withFloat() {\n      const arr = this.couponDisplayValue.split('.')\n      if (arr && arr.length > 1 && arr[1] !== '00' && arr[1] !== '0') {\n        return true\n      }\n      return false\n    },\n    couponDisplayValue() {\n      return this.couponType === 'DISCOUNT_COUPON' ? String(Number(this.couponValue) / 10) : this.couponValue\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .container{\n    height: 2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .coupon-value-label{\n      display: flex;\n      flex-direction: row;\n      align-items: baseline;\n      justify-content: center;\n      width:1.72rem;\n      font-family: PingFangSC, PingFangSC-Semibold;\n      font-weight: 600;\n      // color:#ED2856;\n      .symbol{\n        font-size: 0.32rem;\n        font-weight: bold;\n      }\n      .integer{\n        font-size: 0.64rem;\n        font-weight: bold;\n      }\n      .float{\n        font-size: 0.24rem;\n        font-weight: bold;\n      }\n      .sales{\n        font-size: 0.24rem;\n        font-weight: bold;\n      }\n    }\n    .home-style {\n      color:#FF500E !important;\n      justify-content: flex-start;\n      .symbol{\n        font-size: 0.28rem;\n        font-weight: bold;\n      }\n      .integer{\n        font-size: 0.40rem;\n        font-weight: bold;\n      }\n      .float{\n        font-size: 0.24rem;\n        font-weight: bold;\n      }\n      .sales{\n        font-size: 0.24rem;\n        font-weight: bold;\n      }\n    }\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5a48cfec&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5a48cfec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a48cfec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.skeletonLoading)?_c('skeleton',{attrs:{\"nums\":4,\"iheight\":'.4rem'}}):_c('div',[_c('div',{staticClass:\"shop-voucher\"},[_c('Header',{attrs:{\"leftArrow\":!_vm.$route.query.browerFirstIn}},[(_vm.shareShow)?_c('div',{staticClass:\"header-share\",style:({backgroundImage: (\"url(\" + (_vm.$globalIcon.blackShareIcon) + \")\")}),attrs:{\"slot\":\"right\"},on:{\"click\":_vm.doShare},slot:\"right\"}):_vm._e()]),(_vm.isVouchers)?_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"scroll-view\"},[_c('div',{staticClass:\"tab\"},_vm._l((_vm.couponCateList),function(item,index){return _c('div',{key:index,staticClass:\"tab-item\",class:{active:item.id===_vm.couponCateId},attrs:{\"id\":(\"id\" + (item.id))},on:{\"click\":function($event){return _vm.fnChange(item)}}},[_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(item.cateName))]),_c('div',{staticClass:\"line\"})])}),0)]),_c('div',{staticClass:\"right\",on:{\"click\":_vm.fnShowVoucherType}},[_c('img',{attrs:{\"alt\":\"\",\"mode\":\"widthFix\",\"src\":(_vm.$cdnImageUrl + \"/shop/icon-arrow1.png\")}})])]):_vm._e(),_c('div',{staticClass:\"voucher-box\"},[_c('div',{ref:\"toTop\",class:['voucher-list-wrap',_vm.withoutCate ? 'without-cate' : ''],on:{\"scroll\":_vm.handleScroll}},[_c('voucher-list',{attrs:{\"couponsCenterList\":_vm.couponsCenterList,\"finished\":_vm.finished,\"vantLoading\":_vm.vantLoading},on:{\"update:vantLoading\":function($event){_vm.vantLoading=$event},\"update:vant-loading\":function($event){_vm.vantLoading=$event},\"onLoad\":_vm.onLoad,\"receiveCoupon\":_vm.receiveCoupon}})],1)]),(_vm.showVoucherTypeFlag)?_c('voucher-type',{attrs:{\"couponCateId\":_vm.couponCateId,\"couponCateList\":_vm.couponCateList},on:{\"fnChange\":_vm.fnChange,\"fnShowVoucherType\":_vm.fnShowVoucherType}}):_vm._e(),(_vm.finished && _vm.couponsCenterList.length==0)?_c('no-data'):_vm._e()],1)]),_c('top-feedBack',{attrs:{\"isShow\":_vm.showToTopFlag},on:{\"hiddenFeedBack\":_vm.hiddenFeedBack,\"toTop\":_vm.fnScrollToTop}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"voucher-list\",attrs:{\"id\":\"toTop\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finishedText\":_vm.finished && _vm.couponsCenterList.length > 0 ? '没有更多啦~' : ''},on:{\"load\":_vm.onLoad},model:{value:(_vm.innerVantLoading),callback:function ($$v) {_vm.innerVantLoading=$$v},expression:\"innerVantLoading\"}},_vm._l((_vm.couponsCenterList),function(item,index){return _c('list-coupon-item',{key:index+'-coupon',attrs:{\"couponData\":item},on:{\"operate\":_vm.couponOperate}})}),1),_c('div',{staticClass:\"bottom\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-coupon-item\"},[_c('div',{staticClass:\"content-wrapper\",on:{\"click\":_vm.toCommodity}},[_c('div',{staticClass:\"value-wrapper\"},[_c('coupon-value-label',{attrs:{\"couponValue\":_vm.couponData.couponValue,\"couponType\":_vm.couponData.couponType}})],1),_c('div',{staticClass:\"info-wrapper\"},[_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"info-text\"},[(_vm.couponData.scope==='PRODUCT')?_c('span',{staticClass:\"singleItem\"},[_vm._v(\"单品\")]):_vm._e(),(_vm.couponData.scope==='ORDER')?_c('span',{staticClass:\"singleItem\"},[_vm._v(\"订单\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.couponData.description)+\" \")]),_c('p',{staticClass:\"info-text\"},[_vm._v(_vm._s(_vm.couponData.couponTemplateName))]),(_vm.couponData.startTime)?_c('p',{staticClass:\"info-text\"},[_vm._v(_vm._s(_vm._f(\"formatDateEndOfDay\")(_vm.couponData.startTime))+\" — \"+_vm._s(_vm._f(\"formatDateEndOfDay\")(_vm.couponData.endTime)))]):_c('p',{staticClass:\"info-text\"},[_vm._v(_vm._s(_vm.couponData.validityPeriod))])]),_c('div',{staticClass:\"receive\"},[(_vm.couponData.displayType==='1')?_c('div',{staticClass:\"not-received\"},[_c('span',{staticClass:\"receive-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.receive.apply(null, arguments)}}},[_vm._v(\"点击领取\")])]):(_vm.couponData.displayType==='2')?_c('div',{staticClass:\"received\"},[_c('span',{staticClass:\"receive-disabled\",on:{\"click\":function($event){$event.stopPropagation();return _vm.use.apply(null, arguments)}}},[_vm._v(\"立即使用\")]),_c('img',{staticClass:\"received-img\",attrs:{\"src\":(_vm.$cdnImageUrl + \"/shop/coupon-received.png\")}})]):_c('div',{staticClass:\"sold-out\"},[_c('img',{staticClass:\"sold-out-img\",attrs:{\"src\":(_vm.$cdnImageUrl + \"/voucher/voucher-center-yiqiangguang.svg\")}})])])])]),_c('img',{staticClass:\"type-icon\",attrs:{\"src\":_vm.iconSrc,\"alt\":\"\"}}),_c('img',{staticClass:\"new-coupon-bg\",attrs:{\"src\":(_vm.$cdnImageUrl + \"/shop/yhq-new-coupon-bg.png\")}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"list-coupon-item\">\n    <div class=\"content-wrapper\" @click=\"toCommodity\">\n      <div class=\"value-wrapper\">\n        <coupon-value-label :couponValue='couponData.couponValue' :couponType='couponData.couponType'></coupon-value-label>\n        <!-- <span class=\"val-icon\">￥</span>\n        <span class=\"val-num\" :class=\"{bigVal:isBigVal}\">{{couponData.couponValue}}</span> -->\n      </div>\n      <div class=\"info-wrapper\">\n        <div class=\"info\">\n          <p class=\"info-text\">\n            <span v-if=\"couponData.scope==='PRODUCT'\" class=\"singleItem\">单品</span>\n            <span v-if=\"couponData.scope==='ORDER'\" class=\"singleItem\">订单</span>\n            {{couponData.description}}\n          </p>\n          <p class=\"info-text\">{{couponData.couponTemplateName}}</p>\n          <p class=\"info-text\" v-if=\"couponData.startTime\">{{couponData.startTime | formatDateEndOfDay}} — {{couponData.endTime | formatDateEndOfDay}}</p>\n          <p class=\"info-text\" v-else>{{couponData.validityPeriod}}</p>\n          <!-- <van-progress :show-pivot=\"false\" stroke-width=\"0.12rem\" color=\"#ED2856\" track-color=\"rgba(237,40,86,.2)\" :percentage=\"couponData.percent\" /> -->\n        </div>\n        <div class=\"receive\">\n          <div v-if=\"couponData.displayType==='1'\" class=\"not-received\">\n            <span class=\"receive-btn\" @click.stop=\"receive\">点击领取</span>\n          </div>\n          <div v-else-if=\"couponData.displayType==='2'\" class=\"received\">\n            <span class=\"receive-disabled\" @click.stop=\"use\">立即使用</span>\n            <img :src=\"`${$cdnImageUrl}/shop/coupon-received.png`\" class=\"received-img\">\n          </div>\n          <div v-else class=\"sold-out\">\n            <img :src=\"`${$cdnImageUrl}/voucher/voucher-center-yiqiangguang.svg`\" class=\"sold-out-img\">\n          </div>\n          <!-- <span class=\"received-num\">已领{{couponData.percent}}%</span> -->\n        </div>\n      </div>\n    </div>\n    <img class=\"type-icon\" :src=\"iconSrc\" alt=\"\">\n    <img class=\"new-coupon-bg\" :src=\"`${$cdnImageUrl}/shop/yhq-new-coupon-bg.png`\" />\n  </div>\n</template>\n\n<script>\n// import { Progress } from 'vant';\nimport couponValueLabel from '@/components/couponValueLabel'\nexport default {\n  components: { couponValueLabel },\n  props: {\n    couponData: Object\n  },\n  data () {\n    return {}\n  },\n  created () {},\n  mounted () {},\n  beforeDestroy () {},\n  methods: {\n    receive () {\n      this.$util.gioTrackWithVariable('MB15608', {\n        ad_coupon_id: this.couponData.couponTemplateCode ? this.couponData.couponTemplateCode + '' : 'null',\n        storeId: this.$route.query.storeCouponid ? this.$route.query.storeCouponid + '' : 'null',\n      })\n      this.$emit('operate', { methodName: 'receiveCoupon', params: { activityCode: this.couponData.activityCode, couponTemplateCode: this.couponData.couponTemplateCode, sourceChannel: this.couponData.sourceChannel } })\n    },\n    use () {\n      this.$util.gioTrackWithVariable('MB15609', {\n        ad_coupon_id: this.couponData.couponTemplateCode ? this.couponData.couponTemplateCode + '' : 'null',\n        storeId: this.$route.query.storeCouponid ? this.$route.query.storeCouponid + '' : 'null',\n      })\n      this.$emit('operate', { methodName: 'toUseLink', params: this.couponData })\n    },\n    /**\n     * @description  点击跳转到适用商品，已过期、已使用无法跳转\n    */\n    toCommodity () {\n      // 登陆判断\n      if (!this.$store.getters.getLoginStatus) {\n        this.$store.dispatch('doLogin')\n        return\n      }\n      let storeId = this.$route.query.storeCouponid || ''\n      this.$router.push({\n        path: `/usablecouponlist?activityCode=${this.couponData.activityCode}&couponTemplateCode=${this.couponData.couponTemplateCode}&couponType=${this.couponData.couponType}&sourceChannel=${this.couponData.sourceChannel | ''}&storeId=${storeId}`\n      })\n    },\n  },\n  computed: {\n    couponIcon () {\n      const _couponIcon = {\n        ORDER: `${this.$cdnImageUrl}/shop/icon-coupon-card.png`,\n        SCENE: `${this.$cdnImageUrl}/shop/icon-coupon-scene.png`,\n        SHOP: `${this.$cdnImageUrl}/shop/icon-coupon-shop.png`\n      }\n      return _couponIcon\n    },\n    isBigVal () {\n      // console.log(this)\n      return this.couponData.couponValue > 1000\n    },\n    iconSrc () {\n      let type = this.couponData.couponUseType\n\n      if (this.couponData.applyType) type = 'SCENE'\n\n      return this.couponIcon[type] || type\n    }\n  },\n  watch: {}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.list-coupon-item {\n  position: relative;\n  width: 100%;\n  margin-bottom: 0.32rem;\n  .content-wrapper {\n    position: relative;\n    z-index: 1;\n\n    .value-wrapper ,.info-wrapper {\n      display: inline-block;\n      vertical-align: top;\n      height: 2rem;\n    }\n    .value-wrapper {\n      width: 28.5%;\n      font-size: 0.32rem;\n      color:#ED2856;\n      text-align: center;\n      .val-icon, .val-num {\n        position: relative;\n        left: -0.12rem;\n        line-height: 2rem;\n      }\n      .val-num {\n        font-size:0.72rem;\n        font-weight: bold;\n        &.bigVal {\n          font-size: 0.56rem;\n        }\n      }\n    }\n    .info-wrapper {\n      width: 71.5%;\n      .info, .receive {\n        display: inline-block;\n         vertical-align: top;\n      }\n      .info {\n        width: 68%;\n        padding: 0.36rem 0 0.26rem 0.22rem;\n        box-sizing: border-box;\n        .info-text {\n          font-size: 0.24rem;\n          color:#666666;\n          line-height: 0.4rem;\n        }\n        .van-progress {\n          margin-top: 0.06rem;\n        }\n        .singleItem{\n          color: #ED2856;\n          margin-right: 0.06rem;\n        }\n      }\n      .receive {\n        width: 32%;\n        box-sizing: border-box;\n        height: 2rem;\n        text-align: center;\n        .not-received, .received {\n          vertical-align: middle;\n          height: 1.5rem;\n        }\n        .receive-btn, .receive-disabled {\n          font-size: 0.28rem;\n          line-height: 0.44rem;\n          vertical-align: middle;\n        }\n        .not-received {\n          position: relative;\n\n          padding-right: 0.16rem;\n          text-align: right;\n          .receive-btn {\n            position: absolute;\n            left: 0;\n            top: 50%;\n            transform: translateY(-50%);\n            display: inline-block;\n            padding: 0 0.16rem;\n            background-color: #ED2856;\n            border-radius: 0.24rem;\n            color: white;\n          }\n        }\n        .received {\n          position: relative;\n          text-align: center;\n          .receive-disabled {\n            padding: 0.06rem 0.12rem;\n            color: #ED2856;\n            line-height: 1.8rem;\n            border-radius: 0.22rem;\n            border: 1px solid #ED2856;\n            background:#fff4f5;\n          }\n          .received-img {\n            width: 1.08rem;\n            position: absolute;\n            right: 0;\n            top: 0;\n            z-index: -1;\n          }\n        }\n        .sold-out {\n          position: relative;\n          // height: 1.5rem;\n          height: 100%;\n          .sold-out-img {\n            width: 1.14rem;\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n          }\n        }\n        .received-num {\n          box-sizing: border-box;\n          display: inline-block;\n          width: 100%;\n          padding-right: 0.16rem;\n          text-align: right;\n          font-size:0.24rem;\n          color:#666666;\n          line-height: 0.34rem;\n        }\n      }\n    }\n\n  }\n  .type-icon {\n    position: absolute;\n    z-index: 0;\n    left: 0;\n    top: 0.16rem;\n    height: 0.36rem;\n  }\n  .new-coupon-bg {\n    position: absolute;\n    z-index: 0;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 2rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-coupon-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-coupon-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list-coupon-item.vue?vue&type=template&id=6161430c&scoped=true&\"\nimport script from \"./list-coupon-item.vue?vue&type=script&lang=js&\"\nexport * from \"./list-coupon-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list-coupon-item.vue?vue&type=style&index=0&id=6161430c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6161430c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"voucher-list\" id=\"toTop\">\n    <van-list :finished=\"finished\" v-model=\"innerVantLoading\" @load=\"onLoad\" :finishedText=\"finished && couponsCenterList.length > 0 ? '没有更多啦~' : ''\">\n      <list-coupon-item v-for=\"(item,index) of couponsCenterList\" :key=\"index+'-coupon'\" :couponData=\"item\" @operate=\"couponOperate\"></list-coupon-item>\n    </van-list>\n    <div class=\"bottom\"></div>\n  </div>\n</template>\n\n<script>\nimport listCouponItem from './list-coupon-item.vue'\nexport default {\n  components: { listCouponItem },\n  props: ['couponsCenterList', 'finished', 'vantLoading'],\n  data() {\n    return {\n      // loading: false,\n      innerVantLoading: this.vantLoading\n    }\n  },\n  filters: {\n    formatCouponType(from, type) {\n      if (from === '2') {\n        return '优惠券'\n      } else {\n        if (Number(type) === 1) {\n          return '平台券'\n        } else {\n          return '店铺券'\n        }\n      }\n    },\n  },\n  watch: {\n    vantLoading(val) {\n      this.innerVantLoading = val\n    },\n    innerVantLoading(value) {\n      this.$emit('update:vantLoading', value)\n    },\n  },\n  methods: {\n    couponOperate ({ methodName, params }) {\n      this[methodName](params)\n    },\n    receiveCoupon({ activityCode, couponTemplateCode, sourceChannel }) {\n      // 登陆判断\n      if (!this.$store.getters.getLoginStatus) {\n        this.$store.dispatch('doLogin')\n        return\n      }\n      this.$emit('receiveCoupon', activityCode, couponTemplateCode, sourceChannel)\n    },\n    onLoad() {\n      this.$emit('onLoad')\n    },\n    /**\n     * @description 跳转优惠券可用商品列表\n     */\n    toUseLink(item) {\n      this.$router.push({\n        path: '/usablecouponlist',\n        query: {\n          activityCode: item.activityCode,\n          couponTemplateCode: item.couponTemplateCode,\n          sourceChannel: item.sourceChannel | '',\n          storeId: this.$route.query.storeCouponid || ''\n        }\n      })\n    },\n    // /**\n    //  * @description 优惠券详情\n    //  */\n    // fnOpenVoucherDetail(item) {\n    //   this.$router.push(`/couponDetail/${item.id}/${item.couponFrom}`);\n    // },\n  },\n}\n</script>\n<style>\n.van-list__error-text,\n.van-list__finished-text,\n.van-list__loading {\n  width: 100%;\n}\n.voucher-list .van-list__finished-text {\n  width: calc(100% + 0.62rem);\n  transform: translateX(-0.32rem);\n  background-color: #F5F5F5;\n  color: #999999;\n  font-size: 0.24rem;\n}\n</style>\n<style lang=\"scss\" scoped>\n.voucher-list .voucher-list-item {\n  display: flex;\n  align-items: center;\n  height: 1.8rem;\n  margin-bottom: 0.32rem;\n}\n.voucher-list .voucher-list-item .left {\n  display: flex;\n  align-items: center;\n  width: 1.8rem;\n}\n.voucher-list .voucher-list-item .left img {\n  width: 0.2rem;\n}\n.voucher-list .voucher-list-item .left .bg {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 1.8rem;\n  flex: 1;\n  color: #fff;\n}\n.voucher-list .voucher-list-item .left .bg.red {\n  background-color: $themeOrange;\n}\n.voucher-list .voucher-list-item .left .bg.blue {\n  background-color: $themeColor;\n}\n.voucher-list .voucher-list-item .left .bg .price {\n  display: flex;\n  align-items: center;\n}\n.voucher-list .voucher-list-item .left .bg .price .unit {\n  font-size: 0.3rem;\n  margin-right: 0.04rem;\n}\n.voucher-list .voucher-list-item .left .bg .price .value {\n  font-size: 0.48rem;\n  font-family: Impact;\n  line-height: 0.58rem;\n}\n.voucher-list .voucher-list-item .left .bg .price .value.fz {\n  font-size: .32rem;\n}\n.voucher-list .voucher-list-item .left .bg .type {\n  font-size: 0.24rem;\n  color: rgba(255, 255, 255, 1);\n  line-height: 0.34rem;\n  text-align: center;\n}\n.voucher-list .voucher-list-item .right {\n  flex: 1;\n  background-color: #fff;\n  height: 1.8rem;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n}\n.voucher-list .voucher-list-item .right .info {\n  /* flex: 1; */\n  width: calc(100% - 1.46rem);\n  padding-left: 0.2rem;\n  height: 1.8rem;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.voucher-list .voucher-list-item .right .info .name {\n  font-size: 0.28rem;\n  color: rgba(51, 51, 51, 1);\n  line-height: 0.4rem;\n  width: 100%;\n}\n.voucher-list .voucher-list-item .right .info .condition {\n  display: flex;\n  align-items: center;\n  margin-top: 0.08rem;\n  margin-bottom: 0.08rem;\n}\n.voucher-list .voucher-list-item .right .info .condition .condition-item {\n  height: 0.34rem;\n  font-size: 0.24rem;\n  color: $themeOrange;\n  line-height: 0.34rem;\n  padding-left: 0.04rem;\n  padding-right: 0.04rem;\n}\n.voucher-list .voucher-list-item .right .info .condition .condition-item.red {\n  background:rgba(237,40,86,0.2);\n  color: $themeOrange;\n}\n.voucher-list .voucher-list-item .right .info .condition .condition-item.blue {\n  background:rgba(34,131,226,0.2);\n  color: $themeColor;\n}\n.voucher-list .voucher-list-item .right .info .date {\n  font-size: 0.24rem;\n  color: rgba(153, 153, 153, 1);\n  line-height: 0.34rem;\n}\n.voucher-list .voucher-list-item .right .operate {\n  height: 1.8rem;\n  width: 1.46rem;\n  box-sizing: border-box;\n  border-left: 0.04rem dashed #eee;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.voucher-list .voucher-list-item .right .operate .dot {\n  position: absolute;\n  left: 0;\n  background-color: #f2f2f2;\n  width: 0.24rem;\n  height: 0.24rem;\n  border-radius: 50%;\n}\n.voucher-list .voucher-list-item .right .operate .dot:nth-child(1) {\n  top: 0;\n  transform: translate(-0.14rem, -0.14rem);\n}\n.voucher-list .voucher-list-item .right .operate .dot:nth-child(2) {\n  bottom: 0;\n  transform: translate(-0.14rem, 0.14rem);\n}\n.voucher-list .voucher-list-item .right .operate .unaccalimed .progress-wrap {\n  display: flex;\n  justify-content: center;\n}\n.voucher-list .voucher-list-item .right .operate .unaccalimed .btn {\n  height: 0.34rem;\n  border-radius: 0.17rem;\n  width: 1.24rem;\n  font-size: 0.2rem;\n  color: rgba(255, 255, 255, 1);\n  line-height: 0.34rem;\n  text-align: center;\n  margin-top: .1rem;\n}\n.voucher-list .voucher-list-item .right .operate .unaccalimed .btn.red {\n  background-color: $themeOrange;\n}\n.voucher-list .voucher-list-item .right .operate .unaccalimed .btn.blue {\n  background-color: $themeColor;\n}\n.voucher-list .voucher-list-item .right .operate .received {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.voucher-list .voucher-list-item .right .operate .received img.ylq {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 1.05rem;\n}\n.voucher-list .voucher-list-item .right .operate .received .btn {\n  position: absolute;\n  bottom: 0.22rem;\n  left: 50%;\n  transform: translateX(-50%);\n  height: 0.34rem;\n  border-radius: 0.17rem;\n  width: 1.24rem;\n  font-size: 0.2rem;\n  color: rgba(255, 255, 255, 1);\n  line-height: 0.34rem;\n  text-align: center;\n  background: #F5A623;\n}\n.voucher-list .voucher-list-item .right .operate .grab {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  padding-top: 0.2rem;\n}\n.voucher-list .voucher-list-item .right .operate .grab img.yqg {\n  width: 1rem;\n  display: block;\n  margin: 0 auto;\n}\n.voucher-list .voucher-list-item .right .operate .grab .btn {\n  position: absolute;\n  bottom: 0.22rem;\n  left: 50%;\n  transform: translateX(-50%);\n  height: 0.34rem;\n  border-radius: 0.17rem;\n  width: 1.24rem;\n  font-size: 0.2rem;\n  color: rgba(255, 255, 255, 1);\n  line-height: 0.34rem;\n  text-align: center;\n  background: rgba(194, 194, 194, 1);\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./voucher-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./voucher-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./voucher-list.vue?vue&type=template&id=04c56156&scoped=true&\"\nimport script from \"./voucher-list.vue?vue&type=script&lang=js&\"\nexport * from \"./voucher-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./voucher-list.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./voucher-list.vue?vue&type=style&index=1&id=04c56156&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04c56156\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <skeleton v-if=\"skeletonLoading\" :nums=\"4\" :iheight=\"'.4rem'\"></skeleton>\n    <div v-else>\n      <div class=\"shop-voucher\" >\n        <Header :leftArrow=\"!$route.query.browerFirstIn\">\n          <div v-if=\"shareShow\" class=\"header-share\" slot=\"right\" :style=\"{backgroundImage: `url(${$globalIcon.blackShareIcon})`}\" @click=\"doShare\"></div>\n        </Header>\n        <div class=\"header\" v-if=\"isVouchers\">\n          <div class=\"scroll-view\">\n            <div class=\"tab\">\n              <div\n                :class=\"{active:item.id===couponCateId}\"\n                :id=\"`id${item.id}`\"\n                :key=\"index\"\n                @click=\"fnChange(item)\"\n                class=\"tab-item\"\n                v-for=\"(item,index) in couponCateList\"\n              >\n                <div class=\"text\">{{item.cateName}}</div>\n                <div class=\"line\"></div>\n              </div>\n            </div>\n          </div>\n          <div @click=\"fnShowVoucherType\" class=\"right\">\n            <img alt mode=\"widthFix\" :src=\"`${$cdnImageUrl}/shop/icon-arrow1.png`\" />\n          </div>\n        </div>\n        <div class=\"voucher-box\">\n          <div :class=\"['voucher-list-wrap',withoutCate ? 'without-cate' : '']\" ref=\"toTop\" @scroll=\"handleScroll\">\n            <voucher-list\n              :couponsCenterList=\"couponsCenterList\"\n              :finished=\"finished\"\n              :vantLoading.sync=\"vantLoading\"\n              @onLoad=\"onLoad\"\n              @receiveCoupon=\"receiveCoupon\"\n            ></voucher-list>\n          </div>\n        </div>\n        <voucher-type\n          :couponCateId=\"couponCateId\"\n          :couponCateList=\"couponCateList\"\n          @fnChange=\"fnChange\"\n          @fnShowVoucherType=\"fnShowVoucherType\"\n          v-if=\"showVoucherTypeFlag\"\n        ></voucher-type>\n        <no-data v-if=\"finished && couponsCenterList.length==0\"></no-data>\n      </div>\n    </div>\n    <!-- 返回顶部 -->\n    <top-feedBack :isShow=\"showToTopFlag\" @hiddenFeedBack=\"hiddenFeedBack\" @toTop=\"fnScrollToTop\"></top-feedBack>\n  </div>\n</template>\n\n<script>\nimport skeleton from '@/components/skeleton'\n/**\n * toast提醒\n */\nimport utils from '@/utils/utils'\nimport UplusApi from '@uplus/uplus-api'\nimport Header from '@/components/header'\nimport voucherList from './components/voucher-list'\nimport { getViewCouponCate, getCouponsCenter, receiveCoupon } from '@/http/service/shop'\nimport { mapGetters } from 'vuex'\nimport mixins from '@/components/top-feedBack/mixins_inpage_scroll.js'\n\nconst voucherType = () => import('./components/voucher-type');\nconst noData = () => import('./components/no-data');\n\nconst instance = new UplusApi()\ninstance.initDeviceReady()\n\nexport default {\n  mixins: [mixins],\n  components: {\n    skeleton,\n    Header,\n    voucherList,\n    voucherType,\n    noData,\n  },\n  data() {\n    return {\n      skeletonLoading: true,\n      shareShow: false,\n      showVoucherTypeFlag: false,\n      couponCateList: [],\n      couponCateId: null,\n      couponsCenterList: [],\n      pageSize: 10,\n      startIndex: 1,\n      finished: true,\n      vantLoading: false,\n      isVouchers: false,\n      withoutCate: false,\n      scrollTarget: '.voucher-list-wrap', // 页面滚动元素\n    }\n  },\n  computed: {\n    ...mapGetters(['mId']),\n    ...mapGetters({\n      location: 'getlocationInfo',\n    }),\n  },\n  created() {\n    if (utils.isUplus()) {\n      this.shareShow = true\n      this.doShowUplusLive()\n    }\n\n    // 获取优惠券数据信息\n    if (this.$route.query.storeCouponid) {\n      // 根据店铺ID 获取该店铺下优惠券\n      this.couponCateId = this.$route.query.storeCouponid\n      this.withoutCate = true\n      this.getCouponsList()\n      // 埋点\n      this.$util.gioTrackWithVariable('MB15606', {\n        storeId: this.$route.query.storeCouponid ? this.$route.query.storeCouponid + '' : 'null'\n      })\n    } else {\n      // 默认不展示优惠券顶部分类，非通过店铺优惠券列表显示\n      this.getViewCouponCate();// 获取商品类目\n      this.isVouchers = true\n      this.getCouponsCenter()\n      // 埋点\n      this.$util.gioTrackWithVariable('MB15606', {\n        storeId: 'null'\n      })\n    }\n\n    // 二次分享\n    this.$store.dispatch('WeChatSecondShare', {\n      title: '智家商城领券频道，优惠券等您来抢',\n      desc: '给您推荐智家商城领券频道，超值优惠券每日限量抢，不可错过哦！',\n      thumImage: '',\n    })\n  },\n  beforeRouteEnter (to, from, next) {\n    let storeId = to.query.storeCouponid\n    if (utils.isSgRn()) {\n      window.postMessage(\n        JSON.stringify({\n          type: 'goCouponCenter',\n          data: {\n            storeId,\n          },\n        })\n      )\n      next(false)\n    } else {\n      next();\n    }\n  },\n  // 关闭直播\n  // beforeRouteLeave(to, from, next) {\n  //   if (utils.isUplus()) {\n  //     let isShowLive = from.query.show_live\n  //     if (+isShowLive && to.name !== 'usablecouponlist' && to.name !== 'detail') {\n  //       instance\n  //         .initDeviceReady()\n  //         .then(() => {\n  //           instance.upLiveModule\n  //             .closeFloatWindow()\n  //             .then(result => {\n  //               if (result.retCode === '000000') {\n  //                 sessionStorage.setItem('showlive', true)\n  //                 next()\n  //               } else {\n  //                 next()\n  //               }\n  //             })\n  //             .catch(() => {\n  //               next()\n  //             })\n  //         })\n  //         .catch(() => {\n  //           next()\n  //         })\n  //     } else {\n  //       next()\n  //     }\n  //   } else {\n  //     next()\n  //   }\n  // },\n  methods: {\n    // /**\n    //  * 返回顶部\n    // */\n    // fnScrollToTop() {\n    //   document.querySelector('#toTop').scrollIntoView({\n    //     block: 'start',\n    //     behavior: 'smooth', // 平滑过渡\n    //   }) // 回到顶部\n    // },\n    // 调用直播\n    doShowUplusLive() {\n      let isShowLive = this.$route.query.show_live\n      if (+isShowLive && !sessionStorage.getItem('showlive')) {\n        instance.initDeviceReady().then(() => {\n          instance.upLiveModule.showFloatWindow()\n        })\n      }\n    },\n    fnChange(item) {\n      // 埋点\n      this.$util.gioTrackWithVariable('MB15607', {\n        category_name: item.cateName || 'null'\n      })\n      // 滚动到当前元素\n      document.getElementById(`id${item.id}`).scrollIntoView({\n        inline: 'center',\n      })\n      this.couponCateId = item.id\n      this.couponsCenterList = []\n      this.startIndex = 1\n      this.finished = false\n      this.getCouponsCenter()\n    },\n    /**\n     * @description 领券中心商品类目列表\n     */\n    getViewCouponCate() {\n      // new Promise((resolve, reject) => {\n      getViewCouponCate().then(res => {\n        if (res.success) {\n          this.couponCateList = res.data;\n          this.couponCateId = res.data[0].id;\n          // resolve(res.data)\n        } else {\n          this.$toast(res.message)\n        }\n        this.skeletonLoading = false\n      })\n      // })\n    },\n    /**\n     * @description 根据店铺id 获取该店铺优惠券列表\n     */\n    getCouponsList() {\n      return new Promise((resolve, reject) => {\n        getCouponsCenter({\n          // storeId: 1821113015,\n          storeId: this.$route.query.storeCouponid,\n          couponCateId: null\n        }).then(res => {\n          if (res.success) {\n            this.$toast.clear();// 清理toast\n            this.couponsCenterList = res.data\n            if (res.data) {\n              this.finished = res.data.length !== this.pageSize\n            } else {\n              this.finished = true\n            }\n          } else {\n            this.$toast(res.message)\n          }\n          this.skeletonLoading = false\n        })\n      })\n    },\n    /**\n     * @description 领券中心 获取优惠券列表\n     */\n    getCouponsCenter() {\n      return new Promise((resolve, reject) => {\n        getCouponsCenter({\n          couponCateId: this.couponCateId,\n          streetId: this.location.townshipId,\n          pageSize: this.pageSize,\n          startIndex: this.startIndex,\n        }).then(res => {\n          if (res.success) {\n            this.$toast.clear();// 清理toast\n            this.couponsCenterList = this.couponsCenterList.concat(res.data || []);\n            if (res.data) {\n              this.finished = res.data.length !== this.pageSize\n            } else {\n              this.finished = true\n            }\n            // console.log(this.finished, '=======')\n            resolve()\n          } else {\n            this.$toast(res.message)\n          }\n          this.skeletonLoading = false\n        })\n      })\n    },\n    /**\n     * @description 领券\n     * @param activityCode，couponTemplateCode 优惠券Id\n     */\n    receiveCoupon(activityCode, couponTemplateCode, sourceChannel) {\n      receiveCoupon({\n        activityCode,\n        couponTemplateCode,\n        sourceChannel,\n        streetId: this.location.townshipId\n      }).then(res => {\n        if (res.success) {\n          // this.$toast(res.message);\n          // 如果可以领取的优惠券数量为0，要手动将优惠券的的状态改成 去使用\n          // let _hasNum = res.data.hasReceivePersonNum;\n          let _list = this.couponsCenterList;// 优惠券列表list\n          // if (_hasNum === 0) {\n          _list.forEach(item => {\n            if (item.activityCode === activityCode && item.couponTemplateCode === couponTemplateCode) {\n              item.displayType = '2';\n              // item.percent = +res.data.percent;\n            }\n          })\n          // } else if (res.data) {\n          //   _list.forEach(item => {\n          //     if (item.activityCode === activityCode && item.couponTemplateCode === couponTemplateCode) {\n          //       item.percent = +res.data.percent;\n          //     }\n          //   })\n          // }\n          // setTimeout(() => {\n          //   this.getCouponsCenter()\n          // }, 2000)\n        } else {\n          this.$toast(res.message)\n        }\n      })\n    },\n    fnShowVoucherType() {\n      this.showVoucherTypeFlag = !this.showVoucherTypeFlag\n    },\n    async onLoad() {\n      this.startIndex++\n      this.vantLoading = true\n      await this.getCouponsCenter()\n      this.vantLoading = false\n    },\n    doShare() {\n      this.$util.gioTrackWithVariable('mall_couponCenter_click_share')\n      this.$util.inAppShare({\n        title: '智家商城领券频道，优惠券等您来抢',\n        url: location.href.indexOf('?') !== -1 ? location.href + '&shareId=' + this.mId : location.href + '?shareId=' + this.mId,\n        desc: '给您推荐智家商城领券频道，超值优惠券每日限量抢，不可错过哦！'\n      })\n    }\n  }\n}\n</script>\n<style>\nimg {\n  display: block;\n  border: none;\n}\n</style>\n<style lang=\"scss\" scoped>\n/* .shopvoucher-page{\n  height: 100%;\n} */\n.shop-voucher{\n  width: 100%;\n  // height: 100vh;\n  // overflow: hidden;\n  z-index: 10;\n  position: relative;\n  box-sizing: border-box;\n  padding-top: 1.84rem;\n}\n.header-share{\n  display: inline-block;\n  width: .36rem;\n  height: .36rem;\n  background-repeat: no-repeat;\n  background-size: cover;\n  vertical-align: text-bottom;\n}\n.header {\n  display: flex;\n  align-items: center;\n  height: 0.88rem;\n  background-color: #fff;\n  border-bottom: 0.02rem solid #EEEEEE;\n  position: fixed;\n  right: 0;\n  left: 0;\n  top: 0.92rem;\n  @include max-width;\n  z-index: 4;\n}\n.header .scroll-view {\n  height: 0.88rem;\n  width: calc(100% - 1rem);\n  box-sizing: border-box;\n  padding-right: 0.32rem;\n  overflow-x: auto;\n}\n.header .tab {\n  display: flex;\n  align-items: center;\n  padding-left: 0.32rem;\n}\n.header .tab .tab-item {\n  height: 0.88rem;\n  display: flex;\n  align-items: center;\n  position: relative;\n  font-size: 0.28rem;\n  color: rgba(102, 102, 102, 1);\n  margin-right: 0.6rem;\n}\n.header .tab .tab-item:last-child {\n  margin-right: 0;\n}\n.header .tab .tab-item .text {\n  white-space: nowrap;\n}\n.header .tab .tab-item .line {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 0.4rem;\n  height: 0.06rem;\n  background: transparent;\n  border-radius: 0.03rem;\n}\n.header .tab .tab-item.active {\n  font-size: 0.32rem;\n  color: $themeColor;\n}\n.header .tab .tab-item.active .line {\n  background: $themeColor;\n}\n.header .right {\n  height: 0.5rem;\n  width: 1rem;\n  border-left: 0.02rem solid #eee;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.header .right img {\n  width: 0.48rem;\n}\n.voucher-list{\n  padding-left: 0.32rem;\n  padding-right: 0.3rem;\n  padding-top: 0.32rem;\n  background-color: white;\n}\n// .voucher-list-wrap {\n  // position: absolute;\n  // bottom: 0;\n  // left: 0;\n  // right: 0;\n  // top: 0.88rem;\n  // overflow: hidden;\n  // overflow-y: auto;\n// }\n.without-cate{\n   top: 0;\n}\n.voucher-list-wrap.topzero{\n  top: 0;\n}\n.voucher-box{\n  // height: 100%;\n  position: relative;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=648d17e8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=648d17e8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"648d17e8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5a48cfec&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./voucher-list.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function (_h,_vm) {var _c=_vm._c;return (_vm.props.nums > 0)?_c('div',{staticClass:\"m-skeleton\",style:({'z-index': _vm.props.zIndex || 0})},[_c('div',{style:({'background': _vm.props.bgColor, height: _vm.props.fheight})}),_vm._l((_vm.props.nums - 1),function(item){return _c('div',{key:item,style:({'background': _vm.props.bgColor, 'height': _vm.props.iheight})})})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a0d47b2e&functional=true&\"\nvar script = {}\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * 店铺相关\n */\nimport URL from '../url.js'\nimport { get, post } from '../http'\nimport config from '@/config'\n\n// 店铺信息\nexport const manage = data => get(URL.manage, data)\n// 关注店铺\nexport const collectStore = data => get(URL.collectStore, data)\n// 获取商家营业执照\nexport const enterprise = data => get(URL.enterprise, data)\n// 店铺分类\nexport const getNavigations = data => get(URL.getNavigations, data)\n// 获取图形验证码（商城）\nexport const getImgCaptcha = data => get(URL.getImgCaptcha, data)\n// 领券中心商品类目列表\nexport const getViewCouponCate = data => get(URL.getViewCouponCate, data)\n// 领券中心\nexport const getCouponsCenter = data => get(URL.getCouponsCenter, data, {}, true)\n// 领券\nexport const receiveCoupon = data => get(URL.receiveCoupon, data)\n// 分类商品列表\nexport const commonLoadItemNew = data =>\n  get(URL.commonLoadItemNew, data, {\n    baseURL: config.SHOST,\n  }, true)\n// 异步获取信息接口(获取商品价钱)\nexport const getPriceByProductList = data =>\n  get(URL.getPriceByProductList, data, {\n    baseURL: config.SHOST,\n  }, true)\n// 获取商品分类项\nexport const wdMarketFiltrate = data =>\n  get(URL.wdMarketFiltrate, data, {\n    baseURL: config.SHOST,\n  })\nexport const getNearbyList = data => get(URL.nearbyList, data, {})\nexport const getBusinessCustomer = data =>\n  get(URL.getBusinessCustomer, data, {\n    baseURL: config.HOST4,\n  })\nexport const GET_BANNER = data => get(URL.GET_BANNER, data)\n\n// export const getCouponsList = data => get(URL.getCouponsCenter, data, {}, true)\n// 获取店铺的直播信息\nexport const getLiveByStoreId = data => get(URL.getLiveByStoreId, data)\n// 获取限时抢购商品列表\nexport const getStoreFlashSale = data => get(URL.getStoreFlashSale, data)\n// 获取店铺的商品分类\nexport const getCate = data => get(URL.getCate, data)\n\n/** 店招模块接口 */\nexport const getStoreSign = param => get(URL.storeSign, param);\n/** 首页精选模块接口 自定义页面数据 */\nexport const getSelectedModel = param => get(URL.storeSelectedModel, param);\n/** 自定义页面数据 */\nexport const getCustomPageModel = param => get(URL.getCustomPage, param);\n/** 用户案例 老的场景接口筛选type为case */\nexport const getUserCases = param => get(URL.GET_STORE_SCENE, param);\n/** 推荐商品列表 生态优选列表 */\nexport const getRecommendList = params => get(URL.recommendProducts, params);\n/** VR预览列表 */\nexport const getVRPreviews = param => get(URL.storeVRPreviewList, param);\n/** 预售专区 */\nexport const getPreSales = (param, isPlatForm) => {\n  if (isPlatForm) {\n    return get(URL.platformPreSale, param);\n  } else {\n    return post(`${URL.preSaleList}?storeId=${param.storeId}`);\n  }\n}\n/** 店铺场景筛选条件 */\nexport const getStoreSceneTabs = param => get(URL.sceneTabList, param);\n/** 店铺场景列表 */\nexport const getStoreScene = param => post(URL.sceneList, param);\n\n/** 店铺场景列表(新) */\nexport const getStoreSceneNew = param => get(URL.sceneListNew, param, {\n  baseURL: config.DHOST\n});\n\n/** 店铺分店列表 */\nexport const getSubStoreList = param => get(URL.subStoreList, param);\n// /** 店铺预览接口 */\nexport const getShopPreview = param => post(URL.shopPreview, param, {\n  baseURL: config.STOREHOST\n});\n// /** 店铺自定义页面预览接口 */\nexport const getCustomPagePreview = param => post(URL.customPagePreview, param, {\n  baseURL: config.STOREHOST\n});\n/** 店招模块预览接口 */\nexport const getStoreSignPreview = param => get(URL.storeSignPreview, param, {\n  baseURL: config.STOREHOST\n});\n/** 店铺上新接口 */\nexport const getStoreNewProducts = param => get(URL.storeNewProducts, param);\n/** 验证当前位置是否在私域返回 */\nexport const checkPrivateDomain = param => get(URL.checkPrivateDomain, param, { cancelRepeat: true });\n// 获取套购列表\nexport const getSuitList = data => get(URL.getShopSuitList, data)\n// 获取套购广告图\nexport const getSuitImage = data => get(URL.getShopSuitImage, data)\n// 获取套购详情\nexport const getSuitDetail = data => post(URL.getShopSuitDetail, data, { cancelRepeat: true })\n\nexport const validateTabOrSpace = data => post(URL.validateTabOrSpace, data)\n\nexport const checkIdentity = data => get(URL.checkIdentity, data)\n\n/** 发现好货 */\nexport const getFindGoods = (param) => get(URL.storeFindGoods, param);\n","export * from \"-!../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./voucher-list.vue?vue&type=style&index=1&id=04c56156&lang=scss&scoped=true&\""],"sourceRoot":""}