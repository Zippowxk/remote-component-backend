(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51418811"],{"0990":function(t,a,e){"use strict";e("2c6c")},"0d8d":function(t,a,e){"use strict";e.d(a,"a",(function(){return o})),e.d(a,"b",(function(){return n}));var i=e("1c03"),s=e("bbc2"),o=function(t){return i["a"].request({url:s["a"].GET_PROVINCE_LIST,method:"get",params:t})},n=function(t){return i["a"].request({url:s["a"].GET_PROVINCE_LIST_BY_STOREOWNERID,method:"get",params:t})}},"1a29":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"box"},[i("div",{staticClass:"address",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"top",on:{touchmove:function(t){t.preventDefault()}}},[i("div",{staticClass:"title"},[t._v("配送至 "),i("img",{attrs:{src:t.$cdnImageUrl+"/common/control-close.png",alt:""},on:{click:t.closeModal}})]),t.location?i("div",{staticClass:"nowAddress",on:{click:t.chooseCurrent}},[i("img",{attrs:{src:e("7046")}}),i("span",[t._v("定位地址("+t._s(t.location.district)+"/"+t._s(t.location.township)+")")])]):i("div",{staticClass:"nowAddress",on:{click:t.chooseCurrent}},[i("img",{attrs:{src:t.$cdnImageUrl+"/common/location-icon-blue.svg"}}),i("span",[t._v("点击自动定位")])]),i("div",{staticClass:"change"},[t.province?i("span",{on:{click:t.provinceClick}},[t._v(t._s(t.provinceData.text))]):t._e(),t.city?i("span",{on:{click:t.cityClick}},[t._v(t._s(t.cityData.text))]):t._e(),t.area?i("span",{on:{click:t.areaClick}},[t._v(t._s(t.areaData.text))]):t._e(),i("span",{staticClass:"placeChange"},[t._v("请选择")])])]),t.list.length>6?i("div",{staticClass:"bottom"},[t.showLoading?i("van-loading",{staticClass:"loadingClass",attrs:{vertical:""}},[t._v("加载中...")]):t._e(),t._l(t.list,(function(a,e){return i("div",{key:e,staticClass:"address-item",on:{click:function(e){return t.cityListClick(a)}}},[t._v(t._s(a.text))])}))],2):i("div",{staticClass:"bottom",on:{touchmove:function(t){t.preventDefault()}}},[t.showLoading?i("van-loading",{staticClass:"loadingClass",attrs:{vertical:""}},[t._v("加载中...")]):t._e(),t._l(t.list,(function(a,e){return i("div",{key:e,staticClass:"address-item",on:{click:function(e){return t.cityListClick(a)}}},[t._v(t._s(a.text))])}))],2)])])},s=[],o=e("2f62"),n=e("0d8d");function c(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function r(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?c(Object(e),!0).forEach((function(a){l(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function l(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var d={props:["onlyread"],data:function(){return{showLoading:!1,location:null,show:!0,list:[],windowHeight:"",province:!1,provinceData:"",city:!1,cityData:"",area:!1,areaData:!1,clickNum:0,townData:"",firstValue:0,secondValue:0}},methods:r(r(r({},Object(o["e"])(["setLocationInfo","setLoaction"])),Object(o["c"])(["getLatLongByLocationInfo"])),{},{hideParent:function(t){},removeHidden:function(t){},load:function(){var t=this;this.hideParent(),this.showLoading=!0;var a={parentId:0,regionType:0};Object(n["a"])(a).then((function(a){t.showLoading=!1,200===a.status?t.list=a.data.data:t.$toast("请求失败，请重试")}))["catch"]((function(a){t.$toast("请求失败，请重试")}))},chooseCurrent:function(){this.location?(this.onlyread||(localStorage.setItem("latitude",this.location.latitude),localStorage.setItem("longitude",this.location.longitude),localStorage.setItem("provinceId",this.location.provinceId),localStorage.setItem("cityId",this.location.cityId),localStorage.setItem("districtId",this.location.districtId),localStorage.setItem("townshipId",this.location.townshipId),this.setLocationInfo(this.location),this.setLoaction({latitude:this.location.latitude,longitude:this.location.longitude})),this.$emit("handleLocation",this.location),this.closeModal()):(console.log("手动定位"),this.getLocation())},closeModal:function(){this.$emit("handleLocation",this.location),this.$emit("onHide")},provinceClick:function(){var t=this;this.showLoading=!0,this.list=[],Object(n["a"])({parentId:0,regionType:0}).then((function(a){t.province=!1,t.city=!1,t.area=!1,t.clickNum=0,t.showLoading=!1,200===a.status?t.list=a.data.data:t.$toast("请求失败，请重试")}))["catch"]((function(a){t.$toast("请求失败，请重试")}))},cityClick:function(){var t=this;this.showLoading=!0,this.list=[],Object(n["a"])({parentId:this.firstValue,regionType:1}).then((function(a){t.city=!1,t.area=!1,t.clickNum=1,t.showLoading=!1,200===a.status?t.list=a.data.data:t.$toast("请求失败，请重试")}))["catch"]((function(a){t.$toast("请求失败，请重试")}))},areaClick:function(){var t=this;this.showLoading=!0,this.list=[],Object(n["a"])({parentId:this.secondValue,regionType:2}).then((function(a){t.clickNum=2,t.area=!1,t.showLoading=!1,200===a.status?t.list=a.data.data:t.$toast("请求失败，请重试")}))["catch"]((function(a){t.$toast("请求失败，请重试")}))},cityListClick:function(t){var a=this;if(this.showLoading=!0,0===this.clickNum){this.provinceData=t,this.list=[];var e={parentId:t.value,regionType:1};this.firstValue=t.value,Object(n["a"])(e).then((function(t){a.showLoading=!1,200===t.status?a.list=t.data.data:a.$toast("请求失败，请重试")}))["catch"]((function(t){a.$toast("请求失败，请重试")})),this.province=!0,this.clickNum++}else 1===this.clickNum?(this.list=[],this.cityData=t,Object(n["a"])({parentId:t.value,regionType:2}).then((function(t){a.showLoading=!1,200===t.status?a.list=t.data.data:a.$toast("请求失败，请重试")}))["catch"]((function(t){a.$toast("请求失败，请重试")})),this.secondValue=t.value,this.city=!0,this.clickNum++):2===this.clickNum?(this.list=[],this.area=!0,this.areaData=t,Object(n["a"])({parentId:t.value,regionType:3}).then((function(t){a.showLoading=!1,200===t.status?a.list=t.data.data:a.$toast("请求失败，请重试"),0===t.data.data.length&&(a.clickNum=0,a.resetLocation())}))["catch"]((function(t){a.$toast("请求失败，请重试")})),this.clickNum++):3===this.clickNum&&(this.list=[],this.townData=t,this.clickNum=0,this.resetLocation())},resetLocation:function(){var t=this,a={region:"".concat(this.provinceData.text," ").concat(this.cityData.text," ").concat(this.areaData.text," ").concat(this.townData.text),provinceId:this.provinceData.value,province:this.provinceData.text,cityId:this.cityData.value,city:this.cityData.text,districtId:this.areaData.value,district:this.areaData.text,townshipId:this.townData.value,township:this.townData.text};this.getLatLongByLocationInfo(a).then((function(e){400===e?t.$toast("根据位置信息获取经纬度失败"):(a.latitude=e.latitude,a.longitude=e.longitude,t.onlyread||(localStorage.setItem("latitude",e.latitude),localStorage.setItem("longitude",e.longitude),localStorage.setItem("provinceId",a.provinceId),localStorage.setItem("cityId",a.cityId),localStorage.setItem("districtId",a.districtId),localStorage.setItem("townshipId",a.townshipId),t.setLocationInfo(a),t.setLoaction(e)),t.$emit("handleLocation",a))}))},getLocation:function(){var t=this;this.$store.dispatch("doLocation",!0).then((function(a){400===a?t.$toast("定位失败，请自行选择位置信息"):(t.$toast("自动定位成功"),t.$store.dispatch("doLocationInfo",{latitude:a.latitude,longitude:a.longitude,noStore:t.onlyread,force:!0}).then((function(a){t.location=a,t.closeModal()})))}))}}),mounted:function(){this.load()},beforeDestroy:function(){this.removeHidden()}},h=d,u=(e("f641"),e("2877")),f=Object(u["a"])(h,i,s,!1,null,"cee19576",null);a["a"]=f.exports},"2c6c":function(t,a,e){},"347c":function(t,a,e){},3543:function(t,a,e){},7046:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAcCAYAAAB75n/uAAAAAXNSR0IArs4c6QAABG9JREFUSA21VWtoXEUUnnN3001N2zRWN6nJKmS3qbZq1ShFqrZWMApCQWhAjSgIRhBECiotESNZUqtFQfBHBKmPNmKKQkTUKjS0KkVq8NWWPjYim03bpI8k1jTZ7t45nm/uzs1Nmm0s4sDdOXPO931n5sy5d5X6nwddSn/5O0PzssPZdawUnhXE6hrgmdRxIf4qT3ekItJ98Nno38V0ZkywvotDvUcGnibFraw4WowMPykaYkWt9Uur393ZSO507EUJlm45NT+fm+hi5gcKAvuIeLvjhHeXlIcz8OVG8zVa59cyU5Ns4E6DI/o6XFLaeOSlq89hbceUBCjJ+Nns91KEFbK1QUeFmlMt1d0WPNOcSA6s08rtUKwqFdEvcysidwdL5gRJIr7NE6fDERVeOZs4uMAAK+KHFfMtnsakqn+CRLL/Mc28XUIjjorcnnq5sm8SNruVaBuMa5X9SZALHaKmVEtsB1gmgbnUo5lDsoM6IufJvpaaD4KSibfPLFDnxp+Se7nDkIj2q/lz30s9t+ivIC6ezDzBrN+X0xytr6tZhks3JepNZRogjsBtddU4hT+WtPev1KPnf9davykJHsEDGz7EfKAYhisa0DKa4jMJSKsHC8AdwVbDzl1Xdcm9XCvtuEfO+ygeY4sPMXO6ArnA9UpT0AwjJi/RXZgdRd9g9oeUxYqnWmruJelXxFqZP/komdktLboapRPXW5YDDa341UlNifhvaCT8hwVitjVn4g4rDn8rkYYviIGNwQUNq+m1KXEFggsXVA5j/i+j9LrKEcMvaJoEzOoMnNnTQ1cGxWXX+7EmpmY5jd/SsOEzsQLG5/15ymhYTXMHJB8vcVSNUz4hwEEfLK2oRs8/j1onkpme2mTalEXsZlN/RWm0q48XYyKfi2MNTcxeFym11zi1vh+zHejzUEg1CjxtBFl1Skd0WnHEpr8LyuUG8OW4RtMkUBz+Ck65/cfX9LA5FdYYxzbFfnTKr7jJcZwNUrKP8cCGDzEP5f3Wd3AJk27Ciij0pR+TtnPibekDtW1pjrdlTG394GUY4Hoa6QPQBNX8oO3k+/GKp8Vbl2w5fsNl6Bqox+GtWEALmsY2Ufk51hL7VOr2odR3ns65ny9/fajKxmabgQUHXGhAy3K8OyisomX0jAB6pQ0TExey317fnllkgcVmYIAFB1xoBLFTEuzbEBsvCTkNAjwohBtzrt5V+9rZ8iAhaCMGDLDggAuNIEb8Fw8cWXb1XWFXP5SVzmn47YWqsSDy5jdOlo1NXNgl35xV0lmp0jnyT/Zi9GQQA3vKCWwQQA6H7vP6X60ay+a612zjUhuHDR/EDUawM4kDP+MJrFB8c3+CXd4rL9digX5REa15GLHhocxn8ll7SNgnKET39G2MpSxn+nzJBAAn2k8sYze/RzrkKinFTvikdOvlP+E0hcKrU5sWH4Kv2Jg1AYiJzQO3atftkZPYCx9xwqG1qY3VPxcTtv5/lQBg89epuVNKpR1HNU3/TFjB6fM/5xEHkHV1YdMAAAAASUVORK5CYII="},"759c":function(t,a,e){},"80cc":function(t,a,e){"use strict";e("347c")},"82e1":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"gift",attrs:{id:"gift"}},[!t.skeletonLoading&&t.inActivity&&t.deliveryCodeChecked&&t.codeCheck?e("Header",{attrs:{leftClick:t.moniBack}}):t._e(),t.skeletonLoading?e("skeleton",{attrs:{nums:4}}):e("div",{staticClass:"detail-content",class:{"no-header":!(!t.skeletonLoading&&t.inActivity&&t.deliveryCodeChecked&&t.codeCheck)}},[t.inActivity?[t.deliveryCodeChecked?e("div",{staticClass:"detail"},[t.codeCheck?e("span",{staticClass:"code"},[t._v("提货卡编码："+t._s(t.formData.code))]):t._e(),e("div",{staticClass:"card"},[e("van-field",{attrs:{"label-class":"input-label",label:"姓名",placeholder:"请填写收货人姓名"},on:{input:t.nameInput},model:{value:t.formData.userName,callback:function(a){t.$set(t.formData,"userName",a)},expression:"formData.userName"}}),e("div",{staticClass:"input-devider"}),e("van-field",{attrs:{"label-class":"input-label",type:"digit",label:"手机号",placeholder:"请填写收货人手机号"},on:{input:t.phoneInput},model:{value:t.formData.phone,callback:function(a){t.$set(t.formData,"phone",a)},expression:"formData.phone"}}),e("div",{staticClass:"input-devider"}),e("van-field",{attrs:{"label-class":"input-label",label:"地区",readonly:"","right-icon":"arrow",placeholder:"请选择省市区"},on:{click:t.toLocation},model:{value:t.formData.area,callback:function(a){t.$set(t.formData,"area",a)},expression:"formData.area"}}),e("div",{staticClass:"input-devider"}),e("van-field",{staticClass:"address-detail",attrs:{"label-class":"input-label",rows:"1",autosize:"",type:"textarea",label:"详细地址",placeholder:"详细地址，例1层101室"},on:{input:t.addressInput},model:{value:t.formData.address,callback:function(a){t.$set(t.formData,"address",a)},expression:"formData.address"}}),t.codeCheck?e("div",{staticClass:"input-devider"}):t._e(),t.codeCheck?e("div",{staticClass:"camera"},[e("div",{staticClass:"title input-label"},[t._v("上传图片")]),e("div",{staticClass:"photo-area"},[e("div",{staticClass:"upload"},[e("van-uploader",{attrs:{"before-read":t.beforeRead,"after-read":t.uploadImg,"max-size":5242880,"max-count":1},on:{oversize:t.onOversize},model:{value:t.images,callback:function(a){t.images=a},expression:"images"}},[e("img",{staticClass:"camera-icon",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/gift/gift-comera.svg"}}),e("div",{staticClass:"camera-des"},[t._v("点此上传")])])],1),e("div",{staticClass:"upload-tips"},[t._v("请拍摄提货卡编码页的照片并上传")])])]):t._e()],1),e("div",{staticClass:"submit-btn",on:{click:t.beforeSubmitInfo}},[e("span",[t._v("提交信息")])])]):e("div",{staticClass:"content"},[e("h4",[t._v("请输入提货卡编码")]),e("div",{staticClass:"input"},[e("van-field",{attrs:{type:"digit",maxlength:6,placeholder:"点此输入"},model:{value:t.formData.code,callback:function(a){t.$set(t.formData,"code",a)},expression:"formData.code"}})],1),e("div",{staticClass:"confirm-btn",on:{click:t.checkoutDeliveryCode}},[e("span",[t._v("确定")])])])]:e("tips",{attrs:{startTime:t.startTime,endTime:t.endTime}}),e("van-popup",{attrs:{position:"bottom"},on:{close:t.onHide,click:t.onHide},model:{value:t.showLocation,callback:function(a){t.showLocation=a},expression:"showLocation"}},[e("change-geographic-location",{ref:"geoLocation",attrs:{onlyread:!0},on:{onHide:t.onHide,handleLocation:t.handleLocation}})],1),e("van-popup",{staticStyle:{width:"calc(100% - 1.4rem)","border-radius":".16rem"},on:{close:t.onAppliedHide},model:{value:t.showApplied,callback:function(a){t.showApplied=a},expression:"showApplied"}},[e("div",{staticClass:"applied-container"},[e("div",{staticClass:"applied-content"},[t._v("此编码已提交过申请，谢谢您的支持")]),e("div",{staticClass:"applied-btn",on:{click:t.onAppliedHide}},[t._v("确定")])])]),e("van-popup",{staticStyle:{width:"calc(100% - 1.4rem)","border-radius":".16rem"},on:{close:t.onConfirmHide},model:{value:t.showConfirm,callback:function(a){t.showConfirm=a},expression:"showConfirm"}},[e("div",{staticClass:"confirm-container"},[e("div",{staticClass:"confirm-content"},[e("h4",{staticClass:"confirm-title"},[t._v("请确认信息是否无误")]),e("div",{staticClass:"items"},[e("div",{staticClass:"confirm-item"},[e("div",{staticClass:"label"},[t._v("姓名")]),e("div",{staticClass:"value"},[t._v(t._s(t.formData.userName))])]),e("div",{staticClass:"confirm-item"},[e("div",{staticClass:"label"},[t._v("手机号")]),e("div",{staticClass:"value"},[t._v(t._s(t.formData.phone))])]),e("div",{staticClass:"confirm-item"},[e("div",{staticClass:"label"},[t._v("收货地址")]),e("div",{staticClass:"value"},[t._v(t._s(t.formData.area+" "+t.formData.address))])])])]),e("div",{staticClass:"confirm-btns"},[e("div",{staticClass:"btn edit",on:{click:t.onConfirmHide}},[t._v("返回修改")]),e("div",{staticClass:"btn submit",on:{click:t.submitInfo}},[t._v("提交")])])])])],2)],1)},s=[],o=e("a73f"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"gift"},[e("div",{staticClass:"content"},[e("div",{staticClass:"tips-icon"}),e("div",{staticClass:"tips-info"},[e("span",{staticClass:"title"},[t._v("温馨提示")]),e("span",{staticClass:"info"},[t._v(t._s(t.startTime?"当前未到领取时间，敬请等待":"当前已过截止领取时间"))])])]),e("div",{staticClass:"bottom"},[e("span",{staticClass:"time-info"},[t._v(t._s(t.startTime?"该产品开始领取时间为":"该产品截止领取时间为"))]),e("span",{staticClass:"time-content"},[t._v(t._s(t.startTime||t.endTime))])])])},c=[],r={props:{startTime:{type:String,default:""},endTime:{type:String,default:""}},filters:{formatZhDate:function(t){var a=t;if(-1!==t.indexOf("/")){var e=t.split("/");a=e[0]+"年"+e[1]+"月"+e[2]+"日"}return a}},data:function(){return{}},created:function(){},methods:{}},l=r,d=(e("9b0d"),e("2877")),h=Object(d["a"])(l,n,c,!1,null,"7dfb6e22",null),u=h.exports,f=e("e725"),p=e("1a29"),m=e("bbc2"),v=e("1c03"),g=function(t){return v["a"].request({url:m["a"].checkEvent,method:"GET",params:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},C=function(t){return v["a"].request({url:m["a"].checkCode,method:"GET",params:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},k=function(t){return v["a"].request({url:m["a"].submitInfo,method:"POST",data:t,headers:{"Content-Type":"application/json"}})},b=function(t){return v["a"].request({url:m["a"].uploadFileIn,method:"POST",data:t,headers:{"Content-Type":"multipart/form-data"}})},w={components:{skeleton:o["a"],tips:u,changeGeographicLocation:p["a"],Header:f["a"]},data:function(){return{skeletonLoading:!0,id:null,inActivity:!1,startTime:"",endTime:"",deliveryCodeChecked:!1,showLocation:!1,showApplied:!1,showConfirm:!1,codeCheck:!0,images:[],formData:{code:"",userName:"",phone:"",area:"",address:"",picture:"",eventId:""},inputBak:{name:"",address:"",phone:""}}},created:function(){this.id=this.$route.query.id,this.formData.eventId=this.id,document.title="体验产品领取",this.checkActivity()},mounted:function(){},watch:{$route:function(t,a){this.$router.go(0)}},methods:{phoneInput:function(t){t.length<11?this.inputBak.phone=t:11===t.length?(this.inputBak.phone=t,/^1([3456789][0-9]|4[01356789]|66|9[89])\d{8}$/.test(this.formData.phone)||this.$toast("请填写正确的手机号")):(this.formData.phone=this.inputBak.phone,/^1([3456789][0-9]|4[01356789]|66|9[89])\d{8}$/.test(this.formData.phone)||this.$toast("请填写正确的手机号"))},nameInput:function(t){this.getLength(t)>240?this.formData.userName=this.inputBak.name:this.inputBak.name=t},addressInput:function(t){this.getLength(t)>140?this.formData.address=this.inputBak.address:this.inputBak.address=t},checkoutDeliveryCode:function(){var t=this;this.formData.code?this.formData.code.length>6||isNaN(this.formData.code)?this.$toast("提货码只能是6位数字"):C({code:this.formData.code,id:this.id}).then((function(a){a.data.success?a.data.data?t.deliveryCodeChecked=!0:t.onAppliedShow():t.$toast("提货码校验异常")})):this.$toast("请输入提货码")},checkActivity:function(){var t=this;g({id:this.id}).then((function(a){if(a.data.success)if(a.data.data.success)t.inActivity=!0,"4005"===a.data.data.code&&(t.codeCheck=!1,t.deliveryCodeChecked=!0),t.skeletonLoading=!1;else switch(a.data.data.code){case"4001":t.$toast("活动不存在");break;case"4002":t.startTime=a.data.data.startTime,t.skeletonLoading=!1;break;case"4003":t.endTime=a.data.data.endTime,t.skeletonLoading=!1;break}else t.$toast("活动信息校验失败");console.log("res=========>",a)}))},submitInfo:function(){var t=this,a={pickUpGoodsCode:this.formData.code,userName:this.formData.userName,phone:this.formData.phone,area:this.formData.area,address:this.formData.address,picture:this.formData.picture,giftCardId:this.formData.eventId};k(a).then((function(a){if(a.data.success)if(a.data.data.success)t.$router.push({path:"/gift-success"});else switch(a.data.data.code){case"4003":t.inActivity=!1,t.startTime="",t.endTime=a.data.data.endTime;break;default:t.$toast("提交信息失败");break}else t.$toast("提交信息失败")}))},beforeSubmitInfo:function(){this.checkParam()&&this.onConfirmShow()},checkParam:function(){return this.formData.userName?/^1([3456789][0-9]|4[01356789]|66|9[89])\d{8}$/.test(this.formData.phone)?this.formData.area?this.formData.address?!(!this.formData.picture&&this.codeCheck)||(this.$toast("请拍摄提货卡编码页的照片并上传"),!1):(this.$toast("请输入详细地址"),!1):(this.$toast("请选择地区"),!1):(this.$toast("请填写正确的手机号"),!1):(this.$toast("请输入姓名"),!1)},getLength:function(t){for(var a=t+"",e=0,i=0,s=a.length;i<s;i++){var o=a.charCodeAt(i);e+=o>=1&&o<=126||o>=65376&&o<=65439?1:2}return e},toLocation:function(){this.showLocation=!0},handleLocation:function(t){this.showLocation=!1,t&&(this.formData.area=t.province+" "+t.city+" "+t.district+" "+t.township)},onHide:function(){this.showLocation=!1,this.$refs.geoLocation.load()},beforeRead:function(t){return"image/jpeg"===t.type||"image/png"===t.type||(this.$toast("请上传正确的图片格式"),!1)},uploadImg:function(t){var a=this;console.log("file:",t),console.log("this.images:",this.images),0!==this.images.length&&(this.images[0].status="uploading",this.images[0].message="上传中");var e=new FormData;e.append("file",this.images[0].file),b(e).then((function(t){t.data.success?(a.formData.picture=t.data.data,0!==a.images.length&&(a.images[0].status="done")):(0!==a.images.length&&(a.images[0].status="failed",a.images[0].message="上传失败"),a.$toast("图片上传失败"))}))},onAppliedShow:function(){this.showApplied=!0},onAppliedHide:function(){this.showApplied=!1},onConfirmShow:function(){this.showConfirm=!0},onConfirmHide:function(){this.showConfirm=!1},onOversize:function(t){this.$toast("图片大小限制5M以下")},imgChangeSizeTo:function(t,a){var e=this;return new Promise((function(i,s){if(!/\/(?:jpeg|png)/i.test(t.type))return e.$toast("请选择正确的图片格式"),void s(t);if(t.size<=a)i(t);else{var o=window.URL||window.webkitURL,n=a/t.size,c=document.createElement("canvas"),r=c.getContext("2d"),l=new Image;l.src=o.createObjectURL(t),l.onload=function(){c.width=l.width*n,c.height=l.height*n,r.drawImage(l,0,0,c.width,c.height);var a=e.dataURLtoBlob(c.toDataURL(t.type,1)),s=new window.File([a],t.name,{type:t.type});console.log("imgChangeSizeTo",s),i(s)}}}))},dataURLtoBlob:function(t){var a=t.split(","),e=a[0].match(/:(.*?);/)[1],i=atob(a[1]),s=i.length,o=new Uint8Array(s);while(s--)o[s]=i.charCodeAt(s);return new Blob([o],{type:e})},moniBack:function(){this.inActivity&&this.deliveryCodeChecked?location.href=document.URL:this.$store.dispatch("doHistoryBack")}}},y=w,D=(e("0990"),Object(d["a"])(y,i,s,!1,null,"9f017c1e",null));a["default"]=D.exports},"9b0d":function(t,a,e){"use strict";e("3543")},a73f:function(t,a,e){"use strict";var i=function(t,a){var e=a._c;return a.props.nums>0?e("div",{staticClass:"m-skeleton",style:{"z-index":a.props.zIndex||0}},[e("div",{style:{background:a.props.bgColor,height:a.props.fheight}}),a._l(a.props.nums-1,(function(t){return e("div",{key:t,style:{background:a.props.bgColor,height:a.props.iheight}})}))],2):a._e()},s=[],o=(e("80cc"),e("2877")),n={},c=Object(o["a"])(n,i,s,!0,null,null,null);a["a"]=c.exports},f641:function(t,a,e){"use strict";e("759c")}}]);
//# sourceMappingURL=chunk-51418811.9fcf9998.js.map