;(function(){document.getElementsByTagName('body')[0].insertAdjacentHTML('beforeend','<div style="width:0;height:0;position: absolute;left:-100%;top:-100%"><?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><filter id="a"><feColorMatrix in="SourceGraphic" values="0 0 0 0 0.886275 0 0 0 0 0.501961 0 0 0 0 0.223529 0 0 0 1.000000 0"/></filter><filter id="a"><feColorMatrix in="SourceGraphic" values="0 0 0 0 0.886275 0 0 0 0 0.501961 0 0 0 0 0.223529 0 0 0 1.000000 0"/></filter><filter id="a"><feColorMatrix in="SourceGraphic" values="0 0 0 0 0.886275 0 0 0 0 0.501961 0 0 0 0 0.223529 0 0 0 1.000000 0"/></filter><path id="b" d="M0 0h14v14H0z"/></defs><symbol id="tips_notice" viewBox="0 0 13 13"><path d="M11.219 7.326h-.175V4.72c0-.635-.125-1.252-.372-1.835A4.758 4.758 0 0 0 8.162.373 4.65 4.65 0 0 0 6.33 0h-.132a4.65 4.65 0 0 0-1.832.373 4.75 4.75 0 0 0-2.51 2.513 4.669 4.669 0 0 0-.372 1.835v2.63a1.785 1.785 0 0 0 .297 3.543l1.92.001A2.778 2.778 0 0 0 6.39 13a2.777 2.777 0 0 0 2.688-2.105h2.14a1.785 1.785 0 0 0 0-3.57zM6.39 11.805c-.62 0-1.173-.37-1.428-.91H7.82a1.58 1.58 0 0 1-1.429.91zM11.22 9.7H1.78a.589.589 0 0 1 0-1.178h.197a.596.596 0 0 0 .422-.175.597.597 0 0 0 .278-.504V4.721a3.527 3.527 0 0 1 3.52-3.526h.132a3.527 3.527 0 0 1 3.52 3.526v3.12c0 .014 0 .027.002.04l-.001.04c0 .33.268.598.596.598h.772a.591.591 0 0 1 0 1.18v.001z" fill="#333" fill-rule="nonzero" filter="url(#a)"/></symbol><symbol id="add" viewBox="0 0 14 14"><path d="M14 5.6H8.4V0H5.6v5.6H0v2.8h5.6V14h2.8V8.4H14z" fill="#333" fill-rule="nonzero"/></symbol><symbol id="more" viewBox="0 0 18 6"><g transform="translate(-4 -8)" fill="none" fill-rule="evenodd"><circle fill="#333" cx="13" cy="11" r="2.5"/><circle fill="#999" cx="20.5" cy="11" r="1.5"/><circle fill="#999" cx="5.5" cy="11" r="1.5"/></g></symbol><symbol id="tips_notice" viewBox="0 0 13 13"><path d="M11.219 7.326h-.175V4.72c0-.635-.125-1.252-.372-1.835A4.758 4.758 0 0 0 8.162.373 4.65 4.65 0 0 0 6.33 0h-.132a4.65 4.65 0 0 0-1.832.373 4.75 4.75 0 0 0-2.51 2.513 4.669 4.669 0 0 0-.372 1.835v2.63a1.785 1.785 0 0 0 .297 3.543l1.92.001A2.778 2.778 0 0 0 6.39 13a2.777 2.777 0 0 0 2.688-2.105h2.14a1.785 1.785 0 0 0 0-3.57zM6.39 11.805c-.62 0-1.173-.37-1.428-.91H7.82a1.58 1.58 0 0 1-1.429.91zM11.22 9.7H1.78a.589.589 0 0 1 0-1.178h.197a.596.596 0 0 0 .422-.175.597.597 0 0 0 .278-.504V4.721a3.527 3.527 0 0 1 3.52-3.526h.132a3.527 3.527 0 0 1 3.52 3.526v3.12c0 .014 0 .027.002.04l-.001.04c0 .33.268.598.596.598h.772a.591.591 0 0 1 0 1.18v.001z" fill="#333" fill-rule="nonzero" filter="url(#a)"/></symbol><symbol id="tips_close" viewBox="0 0 14 14"><g filter="url(#a)" fill="none" fill-rule="evenodd"><mask id="c" fill="#fff"><use xlink:href="#b"/></mask><path d="M7 1.4a.6.6 0 0 1 .6.6v4.4H12a.6.6 0 0 1 0 1.2H7.6V12a.6.6 0 0 1-1.2 0V7.6H2a.6.6 0 1 1 0-1.2h4.4V2a.6.6 0 0 1 .6-.6z" fill="#333" mask="url(#c)" transform="rotate(45 7 7)"/></g></symbol></svg></div>')})();

(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-674b1746"],{"130e":function(t,e,a){"use strict";a("1d39")},"1d39":function(t,e,a){},"1ebb":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-mask",on:{click:t.doClose}},[a("div",{staticClass:"dialog"},[a("div",{staticClass:"dialog-title"},[a("h4",[t._v("安全验证")]),a("a",{staticClass:"dialog-close",class:{refreshing:t.isRefreshing},attrs:{href:"javascript:;"},on:{click:function(e){return e.stopPropagation(),t.doRefresh.apply(null,arguments)}}},[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/vertify/refresh.png",alt:""}})])]),a("div",{staticClass:"dialog-body"},[t._l(t.vertifyArr,(function(e,s){return a("div",{key:e,staticClass:"vertify-item",class:["vertify-pos"+s,{"vertify-success":t.curSelected==e}],on:{click:function(a){return a.stopPropagation(),t.doVertify(e)}}},[t.curSelected==e?a("div",[t.vertifySuccess?a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/cart/icon-success.png",alt:""}}):a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/cart/icon-fail.png",alt:""}})]):t._e(),a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/vertify/"+t.mapJson[e]+".png",alt:""}})])})),a("img",{staticClass:"vertify-bg",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/vertify/vertiify_bg.png",alt:""}})],2),a("div",{staticClass:"dialog-footer"},[a("p",[t._v("请点击上图中的：")]),a("div",[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/vertify/"+t.mapJson[t.vertifySelected]+".png",alt:""}})])])])])},i=[],n={name:"VertifyComp",data:function(){return{isRefreshing:!1,vertifyArr:[0,1,2,3].sort((function(){return Math.random()-.5})),curSelected:-1,vertifySelected:Math.ceil(3*Math.random()),vertifySuccess:!1,mapJson:{0:"dog",1:"lu",2:"house",3:"bird"}}},methods:{doVertify:function(t){this.curSelected=t,t===this.vertifySelected?(this.vertifySuccess=!0,this.$emit("vertifySuccess")):(this.vertifySuccess=!1,this.doRefresh())},doClose:function(){this.$emit("vertifyClose")},doRefresh:function(){var t=this;this.isRefreshing=!0,this.vertifySelected=Math.ceil(3*Math.random());var e=setTimeout((function(){t.vertifySuccess=!1,t.curSelected=-1,clearTimeout(e),t.vertifyArr=[0,1,2,3].sort((function(){return Math.random()-.5})),t.isRefreshing=!1}),500)}}},r=n,c=(a("f2bb"),a("2877")),o=Object(c["a"])(r,s,i,!1,null,"42962527",null);e["a"]=o.exports},3179:function(t,e,a){},3300:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ecard-pop"},[a("div",{staticClass:"pop-header"},[a("h4",[t._v("礼品卡")]),a("div",[a("a",{directives:[{name:"show",rawName:"v-show",value:t.listEnable.length||t.listUnEnable.length,expression:"listEnable.length || listUnEnable.length"}],attrs:{href:"javascript:;"},on:{click:t.goHelp}},[t._v("使用说明")]),a("van-icon",{attrs:{name:"cross",size:".4rem"},on:{click:t.close}})],1)]),a("div",{staticClass:"pop-body"},[a("div",{staticClass:"card-list-warp"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.listEnable.length||t.listUnEnable.length,expression:"listEnable.length || listUnEnable.length"}],staticClass:"list-tab"},[a("a",{class:{active:1==t.curTab},attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTab(1)}}},[t._v("可用卡("+t._s(t.usableCount)+")")]),a("a",{class:{active:2==t.curTab},attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTab(2)}}},[t._v("不可用卡("+t._s(t.unusableCount)+")")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.curTab,expression:"curTab == 2"}],staticClass:"card-bind-tips"},[a("svg-icon",{attrs:{className:"svg-icon","svg-path":"assets/svgs/tips/tips_notice.svg",xlink:"tips_notice"}}),a("div",{staticClass:"card-tips-text"},[t._v("结算商品中有不符合条件的商品")])],1),a("div",{staticStyle:{padding:"0 .24rem"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.listEnable.length||t.listUnEnable.length,expression:"listEnable.length || listUnEnable.length"}],staticClass:"card-list-add",on:{click:t.goToBind}},[a("div",[a("svg-icon",{attrs:{className:"svg-icon-add","svg-path":"assets/svgs/common/add.svg",xlink:"add"}}),t._v("绑定新卡")],1),a("div",[a("svg-icon",{attrs:{className:"svg-icon-more","svg-path":"assets/svgs/common/more.svg",xlink:"more"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.curTab,expression:"curTab == 1"}],staticClass:"card-list"},[!t.listEnable.length&&t.finishedEnable?a("div",{staticClass:"list-empty"},[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/empty.png",alt:""}}),a("p",[t._v("暂无可用礼品卡")])]):a("div",[a("van-list",{attrs:{finished:t.finishedEnable,"finished-text":"没有更多了"},on:{load:t.fetchUsableData},model:{value:t.loadingEnable,callback:function(e){t.loadingEnable=e},expression:"loadingEnable"}},t._l(t.listEnable,(function(e){return a("div",{key:e.id},[a("Ecard",{attrs:{cardInfo:e,canSelect:""},on:{doSelect:t.cardSelect}})],1)})),0)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.curTab,expression:"curTab == 2"}],staticClass:"card-list card-list-small"},[!t.listUnEnable.length&&t.finishedUnEnable?a("div",{staticClass:"list-empty"},[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/empty.png",alt:""}}),a("p",[t._v("暂无不可用礼品卡")])]):a("div",[a("van-list",{attrs:{finished:t.finishedUnEnable,"finished-text":"没有更多了"},on:{load:t.fetchUnusableData},model:{value:t.loadingUnEnable,callback:function(e){t.loadingUnEnable=e},expression:"loadingUnEnable"}},t._l(t.listUnEnable,(function(e){return a("div",{key:e.id},[a("Ecard",{attrs:{isTailOrder:t.isTailOrder,limitProd:!0,cardInfo:e},on:{doSelect:t.cardSelect}})],1)})),0)],1)])])])]),a("div",{staticClass:"pop-footer"},[t.listEnable.length||t.listUnEnable.length?a("a",{attrs:{href:"javascript:;"},on:{click:t.close}},[t._v("确定")]):a("a",{attrs:{href:"javascript:;"},on:{click:t.goToBind}},[t._v("绑定新卡")])]),a("van-popup",{attrs:{position:"bottom",overlay:!1},on:{close:t.closeBindPop},model:{value:t.togglebindCard,callback:function(e){t.togglebindCard=e},expression:"togglebindCard"}},[a("div",{staticClass:"pop-header"},[a("h4",[t._v("礼品卡")]),a("div",[a("van-icon",{attrs:{name:"cross",size:".4rem"},on:{click:t.closeBindPop}})],1)]),a("div",{staticClass:"card-bind-warp"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.tipShow,expression:"tipShow"}],staticClass:"card-bind-tips"},[a("svg-icon",{attrs:{className:"svg-icon","svg-path":"assets/svgs/tips/tips_notice.svg",xlink:"tips_notice"}}),a("div",{staticClass:"card-tips-text"},[t._v("确认绑定后该卡不得转增，只可在当前账号使用")]),a("div",{on:{click:t.closeTips}},[a("svg-icon",{attrs:{className:"svg-icon","svg-path":"assets/svgs/tips/tips_close.svg",xlink:"tips_close"}})],1)],1),a("div",{staticClass:"card-bind-form"},[a("h4",[t._v("请输入礼品卡密码：")]),a("div",{staticClass:"card-bind-pwd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ecardCode,expression:"ecardCode"}],attrs:{type:"text",placeholder:"密码",maxlength:"19"},domProps:{value:t.ecardCode},on:{input:[function(e){e.target.composing||(t.ecardCode=e.target.value)},t.inputVal]}})])]),a("div",{staticClass:"pop-footer"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.toBind}},[t._v("绑定并使用")])])])]),t.vertifyShow?a("VertifyComp",{on:{vertifySuccess:t.vertifySuccess,vertifyClose:t.vertifyClose}}):t._e(),t.bindShow?a("div",{staticClass:"dialog-mask"},[a("div",{staticClass:"dialog"},[a("h4",[t._v("绑定到您的智家账号？")]),a("p",[t._v("确认绑定后该卡不得转赠，只可在当前账号使用")]),a("Ecard",{attrs:{isBind:!0,cardInfo:t.cardInfo,size:"small"}}),a("div",{staticClass:"dialog-btn"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.cancel}},[t._v("再想想")]),a("a",{attrs:{href:"javascript:;"},on:{click:t.sure}},[t._v("确定")])])],1)]):t._e()],1)},i=[],n=a("bbc2"),r=a("51f8"),c=a("1ebb"),o=a("f121");function l(t){return g(t)||u(t)||h(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return f(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function g(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var v={name:"ecardPop",props:["isTailOrder","isChangeAddress"],components:{Ecard:r["a"],VertifyComp:c["a"]},data:function(){return{curTab:1,curEnablePage:1,pageSize:10,listEnable:[],loadingEnable:!1,finishedEnable:!1,noUseProd:[1,2,3,4],curUnEnablePage:1,listUnEnable:[],loadingUnEnable:!1,finishedUnEnable:!1,usableCount:0,unusableCount:0,togglebindCard:!1,tipShow:!0,ecardCode:"",vertifyShow:!1,bindShow:!1,cardInfo:{}}},deactivated:function(){this.listEnable.forEach((function(t){t.isSelected=!1}))},mounted:function(){this.init()},watch:{isChangeAddress:function(t){console.log("=======>>>isChangeAddress"),t&&this.init()}},methods:{init:function(){this.curEnablePage=1,this.curUnEnablePage=1,this.listEnable=[],this.listUnEnable=[],this.loadingEnable=!1,this.finishedEnable=!1,this.loadingUnEnable=!1,this.finishedUnEnable=!1,this.fetchUsableData(),this.fetchUnusableData()},changeTab:function(t){this.curTab=t,this.fetchData()},selectCard:function(t){console.log(t)},goToBind:function(){this.togglebindCard=!0},closeBindPop:function(){this.togglebindCard=!1},closeTips:function(){this.tipShow=!1},fetchData:function(){if(1===this.curTab){if(this.finishedEnable)return;this.fetchUsableData()}else{if(this.finishedEnable)return;this.fetchUnusableData()}},fetchUsableData:function(){var t=this;this.loadingEnable=!0;var e,a={cardType:1,pageNo:this.curEnablePage,pageSize:this.pageSize};this.isTailOrder?(a.orderSn=this.isTailOrder,e=n["a"].getSmartEcardListForTailOrder):e=n["a"].getSmartEcardListForOrder,this.$http.post(e,a).then((function(e){var a=e.data,s=a;s.success?(t.usableCount=s.totalCount,s.data&&s.data.length?(t.curEnablePage+=1,t.loadingEnable=!1,s.data.forEach((function(t){t.isSelected=!1,t.cardStatus=1})),t.listEnable=[].concat(l(t.listEnable),l(s.data)),t.finishedEnable=s.data.length<t.pageSize):(t.loadingEnable=!1,t.finishedEnable=!0)):t.$toast(s.message)}))},fetchUnusableData:function(){var t=this;this.loadingUnEnable=!0;var e,a={cardType:2,pageNo:this.curUnEnablePage,pageSize:this.pageSize};this.isTailOrder?(a.orderSn=this.isTailOrder,e=n["a"].getSmartEcardListForTailOrder):e=n["a"].getSmartEcardListForOrder,this.$http.post(e,a).then((function(e){var a=e.data,s=a;s.success?(t.unusableCount=s.totalCount,s.data&&s.data.length?(t.curUnEnablePage+=1,t.loadingUnEnable=!1,s.data.forEach((function(t){t.isSelected=!1,t.cardStatus=1})),t.listUnEnable=[].concat(l(t.listUnEnable),l(s.data)),t.finishedUnEnable=s.data.length<t.pageSize):(t.loadingUnEnable=!1,t.finishedUnEnable=!0)):t.$toast(s.message)}))},cardSelect:function(t){this.$emit("selectchange",t)},close:function(){this.togglebindCard=!1,this.$emit("close")},goHelp:function(){var t=this;this.$emit("reset"),this.$nextTick((function(){t.$router.push("/ecardhelp")}))},getBindCardInfo:function(){var t=this;this.$http.post(n["a"].getSmartEcardDetails+"?password="+this.ecardCode.replace(/\s/g,""),null,{baseURL:o["a"].OHOST}).then((function(e){var a=e.data,s=a;s.success?(t.bindShow=!0,t.cardInfo=s.data,t.cardInfo.cardStatus=1):t.$dialog.alert({message:s.errMessage,theme:"round-button",allowHtml:!0,confirmButtonColor:"#2878ff",confirmButtonText:"我知道了"}).then((function(){})),t.vertifyShow=!1}))},inputVal:function(){/\S{5}/.test(this.ecardCode)&&(this.ecardCode=this.ecardCode.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").substr(0,19))},toBind:function(){this.ecardCode?(console.log(/^\w{16}$/.test(this.ecardCode),"reg"),/^\w{16}$/.test(this.ecardCode.replace(/\s/g,""))?(this.ecardCode=this.ecardCode.toUpperCase(),this.vertifyShow=!0):this.$toast("该卡密不存在，请重新输入")):this.$toast("请输入礼品卡密码")},vertifySuccess:function(){this.getBindCardInfo()},vertifyClose:function(){this.vertifyShow=!1},cancel:function(){this.bindShow=!1},sure:function(){var t=this;this.$http.post(n["a"].getBindEcard+"?password="+this.ecardCode.replace(/\s/g,""),null,{baseURL:o["a"].OHOST}).then((function(e){var a=e.data,s=a;s.success?(t.bindShow=!1,t.$dialog.alert({title:"绑卡成功",message:"您可以在确认订单时使用此卡， 以抵扣订单金额",theme:"round-button",allowHtml:!0,confirmButtonColor:"#2878ff",confirmButtonText:"确定"}).then((function(){t.togglebindCard=!1,t.curTab=1,t.curEnablePage=1,t.listEnable=[],t.loadingEnable=!1,t.finishedEnable=!1,t.ecardCode="",t.init(),t.$emit("add")}))):(t.bindShow=!1,t.$dialog.alert({message:s.errMessage,theme:"round-button",allowHtml:!0,confirmButtonColor:"#2878ff",confirmButtonText:"我知道了"}).then((function(){})))}))}}},p=v,m=(a("130e"),a("2877")),b=Object(m["a"])(p,s,i,!1,null,"2c0073a3",null);e["default"]=b.exports},"51f8":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ecard-item-warp"},[a("div",{staticClass:"ecard-item",class:{gray:1!=t.cardInfo.cardStatus,"ecard-normal":"normal"==t.size,"ecard-small":"small"==t.size},on:{click:t.doSelect}},[a("div",{staticClass:"ecard-header"},[a("div",{staticClass:"ecard-header-warp"},[a("div",{staticClass:"ecard-header-fl"},[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/ecard_logo.png",alt:""}}),a("div",[a("h4",[t._v(t._s(t.cardInfo.baseName||"智家E卡"))]),a("p",[t._v("面值："+t._s(t.cardInfo.amount)+"元")])])]),a("div",{staticClass:"ecard-header-fr"},[t.isBind||t.limitProd||t.canSelect?a("h4",[t._v("卡号："+t._s(t.cardInfo.cardNo))]):a("h4",{on:{click:function(e){return e.stopPropagation(),t.getDetail(t.cardInfo)}}},[t._v("消费记录")]),a("p",[t._v(t._s(t._f("formatDateYMD")(t.cardInfo.expireDate))+" 到期")])])]),a("img",{staticClass:"ecard-header-bg",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/ecard_header.png",alt:""}})]),a("div",{staticClass:"ecard-body"},[t.canSelect&&1==t.cardInfo.cardStatus?a("div",{staticClass:"ecard-select",class:{active:t.cardInfo.isSelected}},[a("i")]):t._e(),a("div",{staticClass:"ecard-body-warp"},[a("p",[t._v("余额 "),a("span",[t._v("¥")]),a("strong",[t._v(t._s(t._f("formatPriceInt")(t.cardInfo.balance)))]),a("small",[t._v(t._s(t._f("formatPriceFloat")(t.cardInfo.balance)))])]),t.isBind||1!=t.cardInfo.cardStatus?t._e():a("a",{staticClass:"ecard-usebtn",attrs:{href:"javascript:;"},on:{click:function(e){return e.stopPropagation(),t.gotoUse.apply(null,arguments)}}},[t._v("适用商品")])]),a("img",{staticClass:"ecard-img-footer",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/ecard_footer.png",alt:""}}),2==t.cardInfo.cardStatus?a("img",{staticClass:"ecard-img-use",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/used.png",alt:""}}):t._e(),3==t.cardInfo.cardStatus?a("img",{staticClass:"ecard-img-use",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/ecard_guoqi.png",alt:""}}):t._e()])]),t.limitProd?a("div",{staticClass:"ecard-limit-list",on:{click:t.switchChange}},[a("p",[t._v("以下商品不符合该卡使用条件")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.switchShow,expression:"switchShow"}],staticClass:"limit-imgs"},[a("div",t._l(t.limitList,(function(t){return a("img",{key:t.productId,attrs:{src:t.defaultImageUrl,alt:""}})})),0)]),a("a",{staticClass:"open-btn",class:{active:t.switchShow},attrs:{href:"javascript:;"}})]):t._e()])},i=[],n=a("bbc2"),r={props:{cardInfo:{type:Object,default:function(){}},size:{type:String,default:function(){return"normal"}},canSelect:{type:Boolean,default:!1},isBind:{type:Boolean,default:!1},limitProd:{type:Boolean,default:!1},isTailOrder:{type:String,default:function(){return""}}},data:function(){return{limitList:[],switchShow:!1}},methods:{getDetail:function(t){this.$router.push("/ecarddetail/".concat(t.cardNo))},doSelect:function(){this.canSelect&&this.$emit("doSelect",this.cardInfo)},gotoUse:function(){this.$router.push("/ecardUseProd/".concat(this.cardInfo.baseInfoId,"?readonly=").concat(this.limitProd?1:0))},switchChange:function(){var t=this,e=this.isTailOrder?n["a"].getUnSupportProductsForTailOrder:n["a"].getUnSupportProductsForOrder;this.switchShow?this.switchShow=!this.switchShow:this.$http.post(e,{smartEcardId:this.cardInfo.smartEcardId,smartEcardBaseInfoId:this.cardInfo.baseInfoId}).then((function(e){console.log(e);var a=e.data;a.data&&a.data.productList&&(t.limitList=a.data.productList),t.switchShow=!t.switchShow}))}}},c=r,o=(a("ccbc"),a("2877")),l=Object(o["a"])(c,s,i,!1,null,"3306e74c",null);e["a"]=l.exports},"65d3":function(t,e,a){},ccbc:function(t,e,a){"use strict";a("3179")},f2bb:function(t,e,a){"use strict";a("65d3")}}]);
//# sourceMappingURL=chunk-674b1746.689cc7d6.js.map