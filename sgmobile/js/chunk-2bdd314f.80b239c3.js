(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bdd314f","chunk-079cb250"],{"347c":function(t,e,i){},"57b7":function(t,e,i){},"80c6":function(t,e,i){"use strict";i("57b7")},"80cc":function(t,e,i){"use strict";i("347c")},8261:function(t,e,i){},a707:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.skeletonLoading?i("skeleton",{attrs:{nums:4}}):i("div",{staticClass:"list-container",attrs:{id:"list"}},[i("div",{staticClass:"header"},[i("div",{staticClass:"header-left"},[t._v("可用海贝 "+t._s(t.totalPoints))]),i("div",{staticClass:"header-right"},[t.expireData&&t.expirePoints?i("span",[t._v(t._s(t._f("formatTime")(t.expireData.replace(/-/g,"/")))+"过期海贝 "+t._s(t.expirePoints))]):t._e(),i("span",{staticClass:"info-icon",on:{click:t.toInfo}})])]),i("div",{staticClass:"content"},[i("van-pull-refresh",{attrs:{disabled:t.list.length<6},on:{refresh:t.onRefresh},scopedSlots:t._u([{key:"pulling",fn:function(){return[i("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loosing",fn:function(){return[i("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loading",fn:function(){return[i("refreshLoading",{attrs:{text:"加载中"}})]},proxy:!0},{key:"success",fn:function(){return[i("refreshLoading",{attrs:{text:"加载完成"}})]},proxy:!0}]),model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,finishedText:"",offset:"100","van-clearfix":"","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return i("div",{key:n,staticClass:"item",on:{click:function(i){return t.toDetail(e)}}},[i("div",{staticClass:"item-left"},[i("div",{staticClass:"left-icon"}),i("div",{staticClass:"left-info"},[i("div",{staticClass:"point-info"},[t._v(t._s(e.description))]),i("div",{staticClass:"point-type"},[t._v(t._s(t.transType(e.type)))]),i("div",{staticClass:"point-time"},[t._v(t._s(t._f("formatTime")(e.createTime.replace(/-/g,"/"))))])])]),i("div",{staticClass:"item-right"},[t._v(t._s(e.amount))])])})),0)],1)],1),i("div",{staticClass:"bottom"},[i("div",{staticClass:"btn",on:{click:t.toMarket}},[t._v("兑换福利")])])])},s=[],a=i("a73f"),o=i("d7a6"),r=i("bbc2"),c=i("1c03"),l=function(t){return Object(c["b"])(r["a"].findIntegral,t)},u=function(t){return Object(c["b"])(r["a"].findDueSoonIntegral,t)},d=function(t){return Object(c["c"])(r["a"].findIntegralDetail,t)},f={components:{skeleton:a["a"],refreshLoading:o["default"]},data:function(){return{skeletonLoading:!0,list:[],expireData:null,expirePoints:0,totalPoints:0,param:{pageNo:1,size:10},loading:!1,finished:!1,isLoading:!1}},created:function(){this.initData()},mounted:function(){},watch:{},methods:{initData:function(){this.getPointList(),this.getPointTotal(),this.getExpirePoint()},getPointList:function(){var t=this;d(this.param).then((function(e){console.log("findIntegralDetail",e),e.success&&(0===t.list.length||1===t.param.pageNo?t.list=e.data.list:t.list=t.list.concat(e.data.list),t.finished=!1,t.loading=!1,t.isLoading&&(t.isLoading=!1),t.list.length>=e.data.total&&(t.finished=!0),t.skeletonLoading=!1)}))},getPointTotal:function(){var t=this;l({}).then((function(e){e.success&&(t.totalPoints=e.data.integralValue)}))},getExpirePoint:function(){var t=this;u({}).then((function(e){e.success&&(t.expireData=e.data.expirationTime,t.expirePoints=e.data.dueSoonIntegraCount)}))},onRefresh:function(){this.param.pageNo=1,this.loading=!1,this.getPointList()},onLoad:function(){this.finished||(this.param.pageNo+=1,this.getPointList())},transType:function(t){var e="";switch(t){case 1:e="新增";break;case 2:e="减少";break;case 3:e="冻结";break}return e},toMarket:function(){this.$util.openNewWindow("https://jf.haier.com/m/#/index2?access_token=".concat(this.$store.state.accessToken),!0,!1,!1)},toDetail:function(t){this.$router.push({path:"/point-detail",query:{ruleName:t.ruleName,amount:t.amount,type:this.transType(t.type),description:t.description,createTime:t.createTime}})},toInfo:function(){this.$router.push({path:"/point-info"})}}},p=f,h=(i("80c6"),i("2877")),g=Object(h["a"])(p,n,s,!1,null,"4c2bb7ee",null);e["default"]=g.exports},a73f:function(t,e,i){"use strict";var n=function(t,e){var i=e._c;return e.props.nums>0?i("div",{staticClass:"m-skeleton",style:{"z-index":e.props.zIndex||0}},[i("div",{style:{background:e.props.bgColor,height:e.props.fheight}}),e._l(e.props.nums-1,(function(t){return i("div",{key:t,style:{background:e.props.bgColor,height:e.props.iheight}})}))],2):e._e()},s=[],a=(i("80cc"),i("2877")),o={},r=Object(a["a"])(o,n,s,!0,null,null,null);e["a"]=r.exports},d7a6:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"refresh-load"},[i("div",{staticClass:"spinner"},t._l(t.rectlist,(function(e){return i("div",{key:e,class:"rect"+e,style:{"background-color":t.color}})})),0),t.text?i("div",{staticClass:"spinner-text",style:{color:t.textColor}},[t._v(t._s(t.text))]):t._e()])},s=[],a={name:"refreshLoading",props:["text","color","textColor"],data:function(){return{rectlist:[1,2,3,4,5]}}},o=a,r=(i("ef69"),i("2877")),c=Object(r["a"])(o,n,s,!1,null,"9448457e",null);e["default"]=c.exports},ef69:function(t,e,i){"use strict";i("8261")}}]);
//# sourceMappingURL=chunk-2bdd314f.80b239c3.js.map