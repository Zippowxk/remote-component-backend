{"version":3,"sources":["webpack:///./src/views/goods/customer-service/wx-customer-service.vue?9166","webpack:///./src/views/goods/customer-service/wx-customer-service.vue?9c70","webpack:///src/views/goods/customer-service/wx-customer-service.vue","webpack:///./src/views/goods/customer-service/wx-customer-service.vue?4286","webpack:///./src/views/goods/customer-service/wx-customer-service.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","userId","sign","_e","staticRenderFns","data","appid","appsecret","computed","created","document","title","utils","code","$http","get","getElementById","style","height","getCodeApi","mounted","methods","window","location","href","url","getUrlKey","paramArr","length","decodeURIComponent","replace","getBrowserInterfaceSize","pageWidth","innerWidth","pageHeight","innerHeight","compatMode","documentElement","clientWidth","clientHeight","body","component"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,GAAK,mBAAmB,CAAEP,EAAIQ,QAAUR,EAAIS,KAAML,EAAG,SAAS,CAACE,YAAY,eAAeC,MAAM,CAAC,IAAO,2CAA6CP,EAAIQ,OAAS,qFAAuFR,EAAIS,KAAO,gEAAiE,KAAO,KAAK,YAAc,IAAI,MAAQ,OAAO,UAAY,OAAO,GAAK,kBAAkBT,EAAIU,QACriBC,EAAkB,G,4DCWtB,GACEC,KADF,WAEI,MAAO,CACLJ,OAAQ,GACRC,KAAM,GACNI,MAAO,qBACPC,UAAW,KAIfC,SAAU,GAEVC,QAZF,WAYA,WAGI,GAFAC,SAASC,MAAQ,aAEbC,EAAR,iBAEM,IAAN,yBACUC,EAEFnB,KAAKoB,MAAMC,IAAI,EAAvB,0EACU,EAAV,qBACU,EAAV,qEACU,EAAV,uBACY,IAAZ,8BACYL,SAASM,eAAe,gBAAgBC,MAAMC,OAAS,EAAnE,gBACYR,SAASM,eAAe,kBAAkBC,MAAMC,OAAS,EAArE,sBAIQxB,KAAKyB,kBAGP,eAAN,aAGEC,QApCF,aAsCEC,QAAS,CAIPF,WAJJ,WAKM,IAAN,2CACA,qJACMG,OAAOC,SAASC,KAAOC,GAEzBC,UATJ,SASA,GACM,IAAN,wEACM,OAAIC,GAAYA,EAASC,OAAS,GACzBC,mBAAmBF,EAAS,GAAGG,QAAQ,MAAO,SAEhD,MAETC,wBAhBJ,WAiBM,IAAIC,EAAYV,OAAOW,WACnBC,EAAaZ,OAAOa,YAaxB,MAXyB,kBAAdH,IAEmB,eAAxBtB,SAAS0B,YACXJ,EAAYtB,SAAS2B,gBAAgBC,YACrCJ,EAAaxB,SAAS2B,gBAAgBE,eAEtCP,EAAYtB,SAAS8B,KAAKF,YAC1BJ,EAAaZ,OAAOkB,KAAKD,eAItB,CACLP,UAAWA,EACXE,WAAYA,MCnFuW,I,wBCQvXO,EAAY,eACd,EACAjD,EACAY,GACA,EACA,KACA,WACA,MAIa,aAAAqC,E","file":"js/chunk-73c775a2.8ea1d458.js","sourcesContent":["export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wx-customer-service.vue?vue&type=style&index=0&id=2bd8f527&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"frameContainer\"}},[(_vm.userId && _vm.sign)?_c('iframe',{staticClass:\"activeiframe\",attrs:{\"src\":(\"https://holcc.haier.net/#/zhijia?userId=\" + _vm.userId + \"&entranceId=jt&sceneId=cj090&device=browser&pId=zjscgzh&accountId=zhijiashop&sign=\" + _vm.sign + \"&userName=游客&fromPageUrl=&fromPageTitle=智家商城公众号&titleBar=hide\"),\"name\":\"ac\",\"frameborder\":\"0\",\"width\":\"100%\",\"scrolling\":\"auto\",\"id\":\"ActiveIframe\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\" id=\"frameContainer\">\n    <iframe v-if=\"userId && sign\" :src=\"`https://holcc.haier.net/#/zhijia?userId=${userId}&entranceId=jt&sceneId=cj090&device=browser&pId=zjscgzh&accountId=zhijiashop&sign=${sign}&userName=游客&fromPageUrl=&fromPageTitle=智家商城公众号&titleBar=hide`\" name=\"ac\" frameborder=\"0\" width=\"100%\" scrolling=\"auto\" id=\"ActiveIframe\" class=\"activeiframe\"></iframe>\n  </div>\n</template>\n<script>\nimport md5 from '@/utils/md5'\n// import axios from 'axios'\nimport URL from '@/http/url'\nimport utils from '@/utils/utils'\nimport { Toast } from 'vant';\n\nexport default {\n  data () {\n    return {\n      userId: '',\n      sign: '',\n      appid: 'wxb03a523baf487993', // 微信公众号 appid\n      appsecret: '', // 微信公众号 appsecret\n\n    }\n  },\n  computed: {\n  },\n  created() {\n    document.title = '海尔智家商城在线客服'\n\n    if (utils.isWeixin()) {\n      // 获取 openid流程 1.获取 code 2.交换openid\n      let code = this.$route.query.code;\n      if (code) {\n        // 获取openId\n        this.$http.get(URL.WX_CODE_TO_PAYINFO, { params: { code: code } }).then(({ data }) => {\n          this.userId = data.data.openid;\n          this.sign = md5.hex_md5('accountId = zhijiashop and userId = ' + this.userId)\n          this.$nextTick(i => {\n            let pageInfo = this.getBrowserInterfaceSize()\n            document.getElementById('ActiveIframe').style.height = (pageInfo.pageHeight) + 'px'\n            document.getElementById('frameContainer').style.height = (pageInfo.pageHeight) + 'px'\n          })\n        })\n      } else {\n        this.getCodeApi();\n      }\n    } else {\n      Toast('请在微信环境打开')\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    /**\n       * @description 静默获取微信 code\n      */\n    getCodeApi() {\n      let urlNow = encodeURIComponent(window.location.href)\n      let url = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + this.appid + '&redirect_uri=' + urlNow + '&response_type=code&scope=snsapi_base#wechat_redirect';\n      window.location.href = url\n    },\n    getUrlKey(name) {\n      let paramArr = (new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [''])\n      if (paramArr && paramArr.length > 1) {\n        return decodeURIComponent(paramArr[1].replace(/\\+/g, '%20')) || null\n      }\n      return null\n    },\n    getBrowserInterfaceSize() {\n      var pageWidth = window.innerWidth;\n      var pageHeight = window.innerHeight;\n\n      if (typeof pageWidth !== 'number') {\n        // 在标准模式下面\n        if (document.compatMode === 'CSS1Compat') {\n          pageWidth = document.documentElement.clientWidth;\n          pageHeight = document.documentElement.clientHeight;\n        } else {\n          pageWidth = document.body.clientWidth;\n          pageHeight = window.body.clientHeight;\n        }\n      }\n\n      return {\n        pageWidth: pageWidth,\n        pageHeight: pageHeight\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.activeiframe {\n  height: calc(100vh - 1rem);\n}\n.container{\n  height: calc(100% - 0.92rem);\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wx-customer-service.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wx-customer-service.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wx-customer-service.vue?vue&type=template&id=2bd8f527&scoped=true&\"\nimport script from \"./wx-customer-service.vue?vue&type=script&lang=js&\"\nexport * from \"./wx-customer-service.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wx-customer-service.vue?vue&type=style&index=0&id=2bd8f527&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bd8f527\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}