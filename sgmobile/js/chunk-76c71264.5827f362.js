(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76c71264"],{"02e0":function(e,t,a){},a69d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-popup",{staticClass:"custom-share",staticStyle:{"border-radius":"0.24rem 0.24rem 0 0"},attrs:{"get-container":"#app-warp",position:"bottom"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[a("div",{staticClass:"share-wrapper"},[a("ul",{staticClass:"share-way-list"},e._l(e.shareWayList,(function(t){return a("li",{key:t.label,staticClass:"share-item",on:{click:function(a){return e.shareHandler(t.params)}}},[a("div",{staticClass:"icon-wrapper"},[a("img",{attrs:{src:t.img,alt:""}})]),a("div",{staticClass:"share-name"},[e._v(e._s(t.label))])])})),0)])])},i=[],s=(a("02e0"),a("b311")),r=a.n(s),o=a("21b1"),c=a("c3f5"),u=a("d354"),h=a("fa7d"),l=new o["a"];l.initDeviceReady();var m={WechatSession:{img:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/share/wx-icon3x.png",label:"微信",params:{platformType:"WechatSession"}},WechatTimeLine:{img:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/share/wx-time-line-icon3x.png",label:"朋友圈",params:{platformType:"WechatTimeLine"}},QQ:{img:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/share/qq-icon3x.png",label:"QQ",params:{platformType:"QQ"}},QQzone:{img:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/share/qq-zone-icon3x.png",label:"QQ空间",params:{platformType:"QQzone"}},Sina:{img:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/share/sina-icon3x.png",label:"微博",params:{platformType:"Sina"}},CopyLink:{img:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/share/link-icon3x.png",label:"复制链接",params:{callback:"linkShare"}},Picture:{img:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/share/picture-icon3x.png",label:"画报分享",params:{callback:"pictureShare"}}},p={shopDetail:{ways:["WechatSession","WechatTimeLine","QQ","QQzone","Sina","CopyLink"],params:"storeId"},detail:{ways:["WechatSession","WechatTimeLine","QQ","QQzone","Sina","CopyLink","Picture"],params:"productId"}};h["a"].isIhaierApp()&&(p["shopDetail"]["ways"]=["WechatSession","WechatTimeLine"],p["detail"]["ways"]=["WechatSession","WechatTimeLine"]);var d={components:{},props:{show:Boolean,copyCustomLink:{type:Boolean,default:!1}},data:function(){return{showModal:!0,shareWayList:[]}},created:function(){this.getShareWay()},mounted:function(){},beforeDestroy:function(){},methods:{changeStyleIndex:function(){var e=document.querySelector(".tab-recommend .van-sticky--fixed");e&&(e.style["z-index"]=this.showModal?99:null)},linkShare:function(){var e=this;if(this.copyCustomLink)this.$emit("copyLink");else{var t=document.createElement("a"),a=new r.a(t,{text:function(e){return window.location.href}});a.on("success",(function(){e.$toast("复制链接成功")})),a.on("error",(function(){e.$toast("复制链接失败")})),t.click()}},pictureShare:function(){this.$emit("pictureShare")},shareHandler:function(e){e.callback?this[e.callback]():("detail"===this.$route.name&&this.$emit("customShare",{platformType:e.platformType}),"shopDetail"===this.$route.name&&this.$emit("customShare",{platformType:e.platformType})),this.showModal=!1},getShareWay:function(){p[this.$route.name]&&(this.shareWayList=p[this.$route.name].ways.map((function(e){return m[e]})),"shopDetail"!==this.$route.name||h["a"].isIhaierApp()||this.getShareAuth())},getShareAuth:function(){var e=this;if(this.$store.getters.getLoginStatus){var t=[Object(u["g"])(),Object(c["checkIdentity"])({storeOwnerId:this.$route.query.storeId})];Promise.all(t).then((function(t){var a=!1;t[0].data.success&&t[0].data.data.identifyFlag&&[22,21,31].includes(t[0].data.data.identifyFlag)&&(a=!0),a&&t[1].success&&!t[1].data||e.shareWayList.push(m["Picture"])}))}else this.shareWayList.push(m["Picture"])}},computed:{},watch:{show:{handler:function(e){this.showModal=e,this.changeStyleIndex()},immediate:!0},showModal:{handler:function(e){e||this.$emit("update:show",!1)},immediate:!0}}},g=d,f=a("2877"),w=Object(f["a"])(g,n,i,!1,null,null,null);t["default"]=w.exports},d354:function(e,t,a){"use strict";a.d(t,"g",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return h})),a.d(t,"e",(function(){return l}));var n=a("1c03"),i=a("bbc2"),s=function(e,t){return n["a"].request({url:i["a"].myManage,method:"get",params:{_t:Date.now()},noLogin:t})},r=function(e){return n["a"].request({url:i["a"].getOrderCount,method:"get",params:{chId:60}})},o=function(e){return n["a"].request({url:i["a"].wallet,method:"get",params:{}})},c=function(e){return n["a"].request({url:i["a"].checkBindByType,method:"get",params:e})},u=function(e){return n["a"].request({url:i["a"].getComminsionSumInfo,method:"POST",data:e,headers:{"Content-Type":"application/json"}})},h=function(e){return n["a"].request({url:i["a"].getGoodsAmountList,method:"POST",data:e,headers:{"Content-Type":"application/json"}})},l=function(e){return n["a"].request({url:i["a"].getServiceCharge,method:"get",params:e})}}}]);
//# sourceMappingURL=chunk-76c71264.5827f362.js.map