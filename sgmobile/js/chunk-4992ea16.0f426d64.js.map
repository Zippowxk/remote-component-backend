{"version":3,"sources":["webpack:///./src/views/mine/ecard/detail.vue?c2d7","webpack:///src/views/mine/ecard/detail.vue","webpack:///./src/views/mine/ecard/detail.vue?1baf","webpack:///./src/views/mine/ecard/detail.vue","webpack:///./src/views/mine/ecard/detail.vue?910d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","cardNo","attrs","on","$event","copy","list","finished","fetchData","model","value","callback","$$v","loading","expression","_l","item","key","id","orderSn","fundType","_f","Math","abs","amount","createTime","balance","_e","length","staticRenderFns","name","data","curPage","pageSize","mounted","console","log","$route","params","methods","pageIndex","$http","post","url","baseURL","config","result","success","text","copyContent","clipboard","component"],"mappings":"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","file":"js/chunk-4992ea16.0f426d64.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ecard-detail\"},[_c('div',{staticClass:\"ecard-banner\"},[_c('h4',[_vm._v(\"礼品卡号\")]),_c('div',[_vm._v(_vm._s(_vm.cardNo)+\" \"),_c('a',{staticClass:\"button\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.copy(_vm.cardNo)}}},[_vm._v(\"复制\")])])]),_c('div',{staticClass:\"ecard-detail-list\"},[_c('h5',[_vm._v(\"消费记录\")]),(_vm.list.length)?[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.fetchData},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item){return _c('div',{key:item.id,staticClass:\"ecard-list-item\"},[_c('div',[_c('p',[_vm._v(\"订单：\"+_vm._s(item.orderSn)+\" \"),_c('a',{staticClass:\"button\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.copy(item.orderSn)}}},[_vm._v(\"复制\")])]),_c('p',[_vm._v(_vm._s(item.fundType == 1 ? '-' : '+')+_vm._s(_vm._f(\"formatPrice\")(Math.abs(item.amount))))])]),_c('div',[_c('h6',[_vm._v(_vm._s(_vm._f(\"formatDate\")(item.createTime / 1000)))]),_c('h6',[_vm._v(\"余额：\"+_vm._s(_vm._f(\"formatPrice\")(item.balance)))])])])}),0)]:_vm._e(),(!_vm.list.length && _vm.finished)?_c('div',{staticClass:\"ecard-list-empty\"},[_c('img',{attrs:{\"src\":\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/dingdan.png\",\"alt\":\"\"}}),_c('p',[_vm._v(\"暂无消费记录\")])]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ecard-detail\">\n    <div class=\"ecard-banner\">\n      <h4>礼品卡号</h4>\n      <div>{{cardNo}} <a class=\"button\" href=\"javascript:;\" @click=\"copy(cardNo)\">复制</a></div>\n    </div>\n    <div class=\"ecard-detail-list\">\n      <h5>消费记录</h5>\n      <template v-if=\"list.length\">\n        <van-list\n          v-model=\"loading\"\n          :finished=\"finished\"\n          finished-text=\"没有更多了\"\n          @load=\"fetchData\"\n        >\n          <div class=\"ecard-list-item\" v-for=\"item in list\" :key=\"item.id\">\n            <div>\n              <p>订单：{{item.orderSn}} <a class=\"button\" href=\"javascript:;\" @click=\"copy(item.orderSn)\">复制</a></p>\n              <p>{{item.fundType == 1 ? '-' : '+'}}{{Math.abs(item.amount) | formatPrice}}</p>\n            </div>\n            <div>\n              <h6>{{item.createTime / 1000 | formatDate}}</h6>\n              <h6>余额：{{item.balance | formatPrice}}</h6>\n            </div>\n          </div>\n        </van-list>\n      </template>\n      <div class=\"ecard-list-empty\" v-if=\"!list.length && finished\">\n        <img src=\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/mine/ecard/dingdan.png\" alt=\"\">\n        <p>暂无消费记录</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Url from '@/http/url'\nimport ClipboardJS from 'clipboard'; // 复制插件\nimport config from '@/config'\nexport default {\n  name: 'EcardDetail',\n  data() {\n    return {\n      cardNo: '',\n      curPage: 1,\n      pageSize: 20,\n      list: [],\n      loading: false,\n      finished: false,\n    }\n  },\n  mounted () {\n    console.log(this.$route.params)\n    this.cardNo = this.$route.params.cardNo\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      this.loading = true\n      let params = {\n        pageIndex: this.curPage,\n        pageSize: this.pageSize,\n        cardNo: this.cardNo\n      }\n      let url = Url.getSmartEcardExpenditureDetails\n\n      this.$http.post(url, params, {\n        baseURL: config.OHOST\n      }).then(({ data }) => {\n        let result = data;\n        if (result.success) {\n          if (result.data && result.data.length) {\n            this.curPage += 1;\n            this.loading = false\n            this.list = [...this.list, ...result.data]\n            this.finished = result.data.length < this.pageSize\n          } else {\n            this.loading = false\n            this.finished = true\n          }\n        } else {\n          this.finished = true\n        }\n      })\n    },\n    copy(copyContent) {\n      const clipboard = new ClipboardJS('.button', {\n        text: function (trigger) {\n          return copyContent;\n        }\n      });\n      clipboard.on('success', () => {\n        this.$toast('已复制');\n      });\n      clipboard.on('error', () => {\n        this.$toast('复制失败');\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .van-list__finished-text{\n  background: #fff;\n}\n.ecard-banner{\n  height: 2.2rem;\n  padding: 0 .24rem;\n  background: linear-gradient(228deg,#51b0ff 2%, #2878ff 91%);\n  color: #fff;\n  overflow: hidden;\n  h4{\n    margin-top: .44rem;\n    font-size: .28rem;\n    font-weight: 500;\n  }\n  div{\n    display: flex;\n    align-items: center;\n    margin-top: .12rem;\n    font-size: .48rem;\n    font-family: DINAlternate, DINAlternate-Bold;\n    a{\n      margin-left: .2rem;\n      padding: .02rem .12rem;\n      display: inline-flex;\n      justify-content: center;\n      align-items: center;\n      font-size: .16rem;\n      color: #2878ff;\n      background: #fff;\n      border-radius: .2rem;\n    }\n  }\n}\n\n.ecard-detail-list{\n  position: relative;\n  padding-bottom: .2rem;\n  margin: -.42rem .24rem .24rem;\n  background: #fff;\n  border-radius: .24rem;\n  overflow: hidden;\n  h5{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 1.02rem;\n    font-size: .28rem;\n    font-weight: 500;\n  }\n}\n\n.ecard-list-item{\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 1.24rem;\n  padding: 0 .32rem;\n  > div{\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    p{\n      padding-bottom: .1rem;\n      max-width: 5.4rem;\n      font-size: .26rem;\n      @include text-overflow(1);\n      &:last-child{\n        text-align: right;\n      }\n      a{\n        margin-left: .08rem;\n        color:#2878FF;\n      }\n    }\n    h6{\n      font-size: .24rem;\n      color: #999;\n      &:last-child{\n        text-align: right;\n      }\n    }\n  }\n}\n\n.ecard-list-empty{\n  padding: 1.75rem 0;\n  text-align: center;\n  img{\n    margin-bottom: .5rem;\n    display: inline-block;\n    width: 2.38rem;\n    height: 2.38rem;\n  }\n  p{\n    font-size: .32rem;\n    color: #999;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=122c0da7&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=122c0da7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"122c0da7\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=122c0da7&lang=scss&scoped=true&\""],"sourceRoot":""}