{"version":3,"sources":["webpack:///./src/views/order/tail/index.vue?6126","webpack:///./src/views/order/tail/index.vue?3b08","webpack:///./src/views/order/tail/index.vue?bc13","webpack:///src/views/order/tail/index.vue","webpack:///./src/views/order/tail/index.vue?8345","webpack:///./src/views/order/tail/index.vue?2a50","webpack:///./src/components/capthaDialog/index.vue?d803","webpack:///src/components/capthaDialog/index.vue","webpack:///./src/components/capthaDialog/index.vue?ad37","webpack:///./src/components/capthaDialog/index.vue","webpack:///./src/components/capthaDialog/index.vue?21c1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","fnChangeAddress","_m","pageInfo","address","coN","_s","mb","_e","rn","addr","attrs","$cdnImageUrl","_l","v","i","key","_f","image","pName","an","price","num","class","hidden","pma","payAmt","fnOpenAvailableVoucher","fnShowEcardPop","ecardSelectNum","staticStyle","ecardListYHPrice","usableEcardCount","fnOpenInvoice","invoiceText","item","index","directives","name","rawName","value","ot","expression","calculationList","length","detail","benefitType","count","canUseMoney","purposeMoney","$event","fnSwitchChange","model","callback","$$v","$set","productAmount","couponAmount","ipm","sgbPurposeMoney","insurancePurposeMoney","seashellPurposeMoney","diamondPurposeMoney","actPayMoney","fnSubmit","closeEcardPop","eCardPicker","orderSn","addEcard","resetEcard","ecardSelectChange","popupShow","preGetTime","onSubmitCaptcha","onCloseCaptchaDialog","sendSmsCaptch","staticRenderFns","components","CaptchaDialog","ecardPop","data","finalPrice","isShowUserEcard","pushComputedPrice","submitCAPTCHAOnce","sgbDetail","sgbUseMoney","insuranceDetail","insuranceUseMoney","seaShellDetail","seaShellUseMoney","diamondDetail","diamondUseMoney","initCheckStatus","isUseSGBPay","isUseJBPay","isUseSeaShellPay","isUseDiamondPay","showKeyboard","isSubmit","paying","computed","console","log","toFixed","enableUseEcard","sam","filter","forEach","cardNo","initPam","isWDZ","$store","getters","getHasStore","inv","invoiceFlag","iti","bc","activated","$route","query","getTailOrder","methods","oam","computedDiamondUseMoney","getEcardInfo","leftMoney","push","info","id","smartEcardId","balance","isSelected","removeArrElm","$toast","canUse","Math","floor","result","arr","splice","findIndex","cardType","pageNo","pageSize","$http","post","success","totalCount","Promise","res","resolve","calculationSgbData","orderAmount","bl","_sgbDetail","_sgbPurposeMoney","_this","mul","quota","proportion","_sgbUseMoney","_calculationList","_insuranceDetail","_insurancePurposeMoney","_insuranceUseMoney","_seaShellDetail","_seaShellPurposeMoney","_seaShellUseMoney","_diamondDetail","_diamondPurposeMoney","_diamondUseMoney","arg1","s1","toString","arg2","s2","m","split","canChange","$router","path","from","_query","proId","type","productId","sku","canInvoice","opt","checkAuthThree","response","authCode","isAuth","bankCard","that","totalPriceFn","asynSubmitOrder","Date","now","onInput","slice","onDelete","amt","benefitList","sgbPayData","insurancePayData","seaShellData","diamondData","bids","ecardData","captcha","ch","isBooking","ps","fnOpenPayStatus","replace","component","close","desc","ref","domProps","target","composing","inputValue","change","style","color","resend","canResendMSG","farToResend","isBankPhone","phone","sumitCaptcha","props","show","Boolean","Number","String","default","defalut","fdInterval","watch","handler","newvalue","setInterval","$nextTick","clearInterval","immediate","created","mounted","destroyed","$emit","e","keyCode"],"mappings":"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","file":"js/chunk-43cac6ca.928459a3.js","sourcesContent":["export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=1f8b427e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"tail-tips\"},[_vm._v(\"温馨提示：提交支付后，信息将不能变更\")]),_c('div',{staticClass:\"address\",on:{\"click\":_vm.fnChangeAddress}},[_vm._m(0),_c('div',{staticClass:\"address-box\"},[(_vm.pageInfo.address && _vm.pageInfo.address.coN)?_c('div',{staticClass:\"address-top\"},[_c('div',[_vm._v(\"收货人：\"+_vm._s(_vm.pageInfo.address.coN))]),_c('div',[_vm._v(_vm._s(_vm.pageInfo.address.mb))])]):_vm._e(),_c('div',{staticClass:\"address-bottom\"},[_c('div',{staticClass:\"address-center van-multi-ellipsis--l2\"},[(!_vm.pageInfo.address || (_vm.pageInfo.address && !_vm.pageInfo.address.coN))?_c('div',{staticClass:\"no-address\"},[_vm._v(\"点击添加收货地址\")]):_c('div',{staticClass:\"has-address\"},[_c('div',[_vm._v(\"收货地址：\"+_vm._s(_vm.pageInfo.address.rn)+\" \"+_vm._s(_vm.pageInfo.address.addr))])])])])]),_vm._m(1),_c('img',{staticClass:\"underline\",attrs:{\"alt\":\"\",\"src\":(_vm.$cdnImageUrl + \"/order/icon-line-red.png\")}})]),_c('ul',{staticClass:\"goods-info-wrap\"},_vm._l((_vm.pageInfo.tailOrderProductVoList),function(v,i){return _c('li',{key:i,staticClass:\"goods\"},[_c('div',{staticClass:\"goods-box\"},[_c('div',{staticClass:\"goods-top pb\"},[_c('div',{staticClass:\"goods-left\"},[_c('img',{attrs:{\"src\":_vm._f(\"imageToHttps\")(v.image)}})]),_c('div',{staticClass:\"goods-right\"},[_c('div',{staticClass:\"goods-name\"},[_vm._v(_vm._s(v.pName))]),(v.an)?_c('div',{staticClass:\"goods-attr\"},[_vm._v(\"已选 \"+_vm._s(v.an))]):_vm._e(),_c('div',{staticClass:\"goods-message\"},[_c('div',[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatPrice\")(v.price)))]),_c('div',[_vm._v(\"×\"+_vm._s(v.num))])]),_c('div',{staticClass:\"goods-message\"},[_c('div',{class:{ hidden: !v.pma }},[_vm._v(\"小计：下单立减\"+_vm._s(v.pma)+\"元\")]),_c('div',{class:{ 'delet-price': v.price * v.num != v.payAmt, 'orange-color': v.price * v.num == v.payAmt }},[_vm._v(\" ￥\"+_vm._s(_vm._f(\"formatPrice\")((v.price * v.num)))+\" \")])])])]),(v.price * v.num != v.payAmt)?_c('div',{staticClass:\"goods-center\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatPrice\")(v.payAmt)))]):_vm._e()])])}),0),_c('div',{staticClass:\"pay-details\"},[_c('div',{staticClass:\"strip\",on:{\"click\":_vm.fnOpenAvailableVoucher}},[_c('div',{staticClass:\"left\"},[_vm._v(\"优惠券\")]),_vm._m(2)]),(_vm.isShowUserEcard)?_c('div',{staticClass:\"strip\",on:{\"click\":_vm.fnShowEcardPop}},[_c('div',{staticClass:\"left\"},[_vm._v(\" 礼品卡(智家e卡) \"),(_vm.ecardSelectNum)?_c('span',{staticClass:\"card-select-tag\"},[_vm._v(\"已选\"+_vm._s(_vm.ecardSelectNum)+\"张\")]):_vm._e()]),_c('div',{staticClass:\"right\"},[(_vm.ecardListYHPrice)?_c('div',{staticClass:\"couponAmt\",staticStyle:{\"color\":\"#FF2E2E\"}},[_vm._v(\"-￥\"+_vm._s(_vm.ecardListYHPrice))]):(_vm.pageInfo.usableEcardCount)?_c('div',{staticStyle:{\"font-size\":\"0.24rem\",\"color\":\"#999\"}},[_vm._v(_vm._s(_vm.pageInfo.usableEcardCount)+\"张可用\")]):_c('div',{staticStyle:{\"font-size\":\"0.24rem\",\"color\":\"#999\"}},[_vm._v(\"暂无可用\")]),_vm._m(3)])]):_vm._e(),_c('div',{staticClass:\"strip\",on:{\"click\":_vm.fnOpenInvoice}},[_c('div',{staticClass:\"left\"},[_vm._v(\"发票信息\")]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"invoice\"},[_vm._v(\" \"+_vm._s(_vm.invoiceText)+\" \")]),_vm._m(4)])])]),_c('div',{staticClass:\"pay-type-container\"},_vm._l((_vm.calculationList),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pageInfo.ot != 1),expression:\"pageInfo.ot != 1\"}],key:index,class:{ 'pay-type': index != _vm.calculationList.length - 1 }},[(false)?_c('div',{staticClass:\"strip border-bottom\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"left-left\"},[_vm._v(\"金币\")]),_c('div',{staticClass:\"left-right\"},[_c('div',[_vm._v(\"共\"+_vm._s(item.detail.count || 0)+\"个 可用\"+_vm._s(item.canUseMoney)+\"个 抵\"+_vm._s(item.purposeMoney)+\"元\")])])]),_c('van-switch',{attrs:{\"active-color\":\"#2283E2\",\"size\":\"15px\",\"disabled\":!(item.canUseMoney && item.canUseMoney > 0)},on:{\"change\":function($event){return _vm.fnSwitchChange(item)}},model:{value:(item.canUse),callback:function ($$v) {_vm.$set(item, \"canUse\", $$v)},expression:\"item.canUse\"}})],1):_vm._e(),(false)?_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"left-left\"},[_vm._v(\"智家宝\")]),_c('div',{staticClass:\"left-right\"},[_c('div',[_vm._v(\"共\"+_vm._s(item.detail.count || 0)+\"元 可用\"+_vm._s(item.canUseMoney)+\"元 抵\"+_vm._s(item.purposeMoney)+\"元\")])])]),_c('van-switch',{attrs:{\"active-color\":\"#2283E2\",\"size\":\"15px\",\"disabled\":!(item.canUseMoney && item.canUseMoney > 0)},on:{\"change\":function($event){return _vm.fnSwitchChange(item)}},model:{value:(item.canUse),callback:function ($$v) {_vm.$set(item, \"canUse\", $$v)},expression:\"item.canUse\"}})],1):_vm._e(),(false)?_c('div',{staticClass:\"strip border-bottom\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"left-left\"},[_vm._v(\"积分\")]),_c('div',{staticClass:\"left-right\"},[_c('div',[_vm._v(\"共\"+_vm._s(item.detail.count || 0)+\"积分 可用\"+_vm._s(item.canUseMoney)+\"积分 抵\"+_vm._s(item.purposeMoney)+\"元\")])])]),_c('van-switch',{attrs:{\"active-color\":\"#2283E2\",\"size\":\"15px\",\"disabled\":!(item.canUseMoney && item.canUseMoney > 0)},on:{\"change\":function($event){return _vm.fnSwitchChange(item)}},model:{value:(item.canUse),callback:function ($$v) {_vm.$set(item, \"canUse\", $$v)},expression:\"item.canUse\"}})],1):_vm._e(),(item.detail.benefitType == 'diamond')?_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"left-left\"},[_vm._v(\"钻石\")]),_c('div',{staticClass:\"left-right\"},[_c('div',[_vm._v(\"共\"+_vm._s(item.detail.count || 0)+\"钻石 可用\"+_vm._s(item.canUseMoney)+\"钻石 抵\"+_vm._s(item.purposeMoney)+\"元\")])])]),_c('van-switch',{attrs:{\"active-color\":\"#2283E2\",\"size\":\"15px\",\"disabled\":!(item.canUseMoney && item.canUseMoney > 0)},on:{\"change\":function($event){return _vm.fnSwitchChange(item)}},model:{value:(item.canUse),callback:function ($$v) {_vm.$set(item, \"canUse\", $$v)},expression:\"item.canUse\"}})],1):_vm._e()])}),0),_c('div',{staticClass:\"shop-price\"},[_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"商品金额\")]),_c('div',{staticClass:\"right\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatPrice\")(_vm.pageInfo.productAmount || 0)))])]),(_vm.pageInfo.couponAmount)?_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"优惠券\")]),_c('div',{staticClass:\"right\"},[_vm._v(\"-￥\"+_vm._s(_vm._f(\"formatPrice\")(_vm.pageInfo.couponAmount)))])]):_vm._e(),(_vm.pageInfo.ipm)?_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"满减\")]),_c('div',{staticClass:\"right\"},[_vm._v(\"-￥\"+_vm._s(_vm._f(\"formatPrice\")(_vm.pageInfo.ipm)))])]):_vm._e(),(_vm.isUseSGBPay)?_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"智家宝\")]),_c('div',{staticClass:\"right\"},[_vm._v(\"-￥\"+_vm._s(_vm._f(\"formatPrice\")(_vm.sgbPurposeMoney)))])]):_vm._e(),(_vm.isUseJBPay)?_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"金币\")]),_c('div',{staticClass:\"right\"},[_vm._v(\"-￥\"+_vm._s(_vm._f(\"formatPrice\")(_vm.insurancePurposeMoney)))])]):_vm._e(),(_vm.isUseSeaShellPay)?_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"积分\")]),_c('div',{staticClass:\"right\"},[_vm._v(\"-￥\"+_vm._s(_vm._f(\"formatPrice\")(_vm.seashellPurposeMoney)))])]):_vm._e(),(_vm.isUseDiamondPay)?_c('div',{staticClass:\"strip\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"钻石\")]),_c('div',{staticClass:\"right\"},[_vm._v(\"-￥\"+_vm._s(_vm._f(\"formatPrice\")(_vm.diamondPurposeMoney)))])]):_vm._e()]),_c('div',{staticClass:\"pay-money\"},[_c('div',{staticClass:\"left\"},[_vm._v(\" 实付款： \"),_c('div',{staticClass:\"final-pay\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatPrice\")(_vm.actPayMoney)))])]),_c('div',{staticClass:\"right\",on:{\"click\":_vm.fnSubmit}},[_vm._v(\"确认提交\")])]),_c('van-popup',{attrs:{\"position\":\"bottom\"},on:{\"close\":_vm.closeEcardPop},model:{value:(_vm.eCardPicker),callback:function ($$v) {_vm.eCardPicker=$$v},expression:\"eCardPicker\"}},[_c('ecard-pop',{attrs:{\"isTailOrder\":_vm.orderSn},on:{\"close\":_vm.closeEcardPop,\"add\":_vm.addEcard,\"reset\":_vm.resetEcard,\"selectchange\":_vm.ecardSelectChange}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.popupShow),expression:\"popupShow\"}],staticClass:\"dialog-container\"},[_c('div',{staticClass:\"bg\"}),_c('CaptchaDialog',{staticClass:\"dialog\",attrs:{\"show\":_vm.popupShow,\"preGetTime\":_vm.preGetTime,\"desc\":\"当使用虚拟资产时，需获取当前登录手机号的验证码核实用户身份\"},on:{\"submit\":_vm.onSubmitCaptcha,\"close\":_vm.onCloseCaptchaDialog,\"resend\":_vm.sendSmsCaptch}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left\"},[_c('img',{staticClass:\"address-icon\",attrs:{\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAMAAAChHKjRAAAAP1BMVEVHcEwvLy8zMzMzMzMzMzMzMzMzMzMtLS0xMTEzMzMzMzMzMzMxMTEzMzMzMzMzMzMyMjIzMzMyMjIyMjIzMzOIoG2EAAAAFHRSTlMAD3b0lt3EBin76agbU2KHNtFCuFYVHOEAAAGSSURBVDjLnVTbloQgDBO5SLkpmv//1kVGirrsnrPLy8w4MU3Slmn667Gzz5KkMyouY8SSMvqRyg4wUQNOJSumJeyzAUiJN40C8r2GVQS3PzDCgOaXDFuepSfGbd9FFvbYf3roMPIyg/jdBGnHjhX0JUK4O+uzYsbcSA9+GmZ/+LnX3iFrEIvDzlKpJkmKnRqkD1g3TDHt0548wTRUhDk/Vqzd5MeA1fAtHaITfzTZWzdpJZr3XL9p2OZ3ZcErFNOfoiSuRjL6pGKhaw2BcImU6N1bIB8gZnLosyHgHiCuYm7BX86rpsjKavJm6hle7Sj8trbXcw9XruFEc1DrBqKrVzvBn69ZD9p5DtRVtRFECWhThl02dUFeikvSre1BOZz7EPpAHWygz8piN9vj2ohs50zDmRP61qn4w/x65OUxy2G0B493y7jl976WACm+q5sXKhKnzhvwRqXvmIrK4a5ngCmoDL3dNvyHVAzk5x9x9MaMbohz4zY9uj/uarOdy9qF327NQlLOuvx+twol8z7953wBuLoUgyWE9uwAAAAASUVORK5CYII=\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"more\",attrs:{\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASBAMAAACdhyI/AAAAFVBMVEVHcEyZmZmXl5eenp6ampqZmZmZmZnA+BYuAAAABnRSTlMA0xYVgYLuQiDGAAAAJklEQVQI12NggAJWBTDlJgSmDBPBXGYxIrhQCiKImwMzGmoRGAAAgu0GKQKrDXQAAAAASUVORK5CYII=\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"more\",attrs:{\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASBAMAAACdhyI/AAAAFVBMVEVHcEyZmZmXl5eenp6ampqZmZmZmZnA+BYuAAAABnRSTlMA0xYVgYLuQiDGAAAAJklEQVQI12NggAJWBTDlJgSmDBPBXGYxIrhQCiKImwMzGmoRGAAAgu0GKQKrDXQAAAAASUVORK5CYII=\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img\"},[_c('img',{staticClass:\"more\",attrs:{\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASBAMAAACdhyI/AAAAFVBMVEVHcEyZmZmXl5eenp6ampqZmZmZmZnA+BYuAAAABnRSTlMA0xYVgYLuQiDGAAAAJklEQVQI12NggAJWBTDlJgSmDBPBXGYxIrhQCiKImwMzGmoRGAAAgu0GKQKrDXQAAAAASUVORK5CYII=\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"more\",attrs:{\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASBAMAAACdhyI/AAAAFVBMVEVHcEyZmZmXl5eenp6ampqZmZmZmZnA+BYuAAAABnRSTlMA0xYVgYLuQiDGAAAAJklEQVQI12NggAJWBTDlJgSmDBPBXGYxIrhQCiKImwMzGmoRGAAAgu0GKQKrDXQAAAAASUVORK5CYII=\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <div class=\"tail-tips\">温馨提示：提交支付后，信息将不能变更</div>\n    <!-- sssssssssss -->\n    <div class=\"address\" @click=\"fnChangeAddress\">\n      <div class=\"left\">\n        <img\n          class=\"address-icon\"\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAMAAAChHKjRAAAAP1BMVEVHcEwvLy8zMzMzMzMzMzMzMzMzMzMtLS0xMTEzMzMzMzMzMzMxMTEzMzMzMzMzMzMyMjIzMzMyMjIyMjIzMzOIoG2EAAAAFHRSTlMAD3b0lt3EBin76agbU2KHNtFCuFYVHOEAAAGSSURBVDjLnVTbloQgDBO5SLkpmv//1kVGirrsnrPLy8w4MU3Slmn667Gzz5KkMyouY8SSMvqRyg4wUQNOJSumJeyzAUiJN40C8r2GVQS3PzDCgOaXDFuepSfGbd9FFvbYf3roMPIyg/jdBGnHjhX0JUK4O+uzYsbcSA9+GmZ/+LnX3iFrEIvDzlKpJkmKnRqkD1g3TDHt0548wTRUhDk/Vqzd5MeA1fAtHaITfzTZWzdpJZr3XL9p2OZ3ZcErFNOfoiSuRjL6pGKhaw2BcImU6N1bIB8gZnLosyHgHiCuYm7BX86rpsjKavJm6hle7Sj8trbXcw9XruFEc1DrBqKrVzvBn69ZD9p5DtRVtRFECWhThl02dUFeikvSre1BOZz7EPpAHWygz8piN9vj2ohs50zDmRP61qn4w/x65OUxy2G0B493y7jl976WACm+q5sXKhKnzhvwRqXvmIrK4a5ngCmoDL3dNvyHVAzk5x9x9MaMbohz4zY9uj/uarOdy9qF327NQlLOuvx+twol8z7953wBuLoUgyWE9uwAAAAASUVORK5CYII=\"\n        />\n      </div>\n      <div class=\"address-box\">\n        <div class=\"address-top\" v-if=\"pageInfo.address && pageInfo.address.coN\">\n          <div>收货人：{{ pageInfo.address.coN }}</div>\n          <div>{{ pageInfo.address.mb }}</div>\n        </div>\n        <div class=\"address-bottom\">\n          <div class=\"address-center van-multi-ellipsis--l2\">\n            <div class=\"no-address\" v-if=\"!pageInfo.address || (pageInfo.address && !pageInfo.address.coN)\">点击添加收货地址</div>\n            <div class=\"has-address\" v-else>\n              <div>收货地址：{{ pageInfo.address.rn }} {{ pageInfo.address.addr }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"right\">\n        <img\n          class=\"more\"\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASBAMAAACdhyI/AAAAFVBMVEVHcEyZmZmXl5eenp6ampqZmZmZmZnA+BYuAAAABnRSTlMA0xYVgYLuQiDGAAAAJklEQVQI12NggAJWBTDlJgSmDBPBXGYxIrhQCiKImwMzGmoRGAAAgu0GKQKrDXQAAAAASUVORK5CYII=\"\n        />\n      </div>\n      <img alt class=\"underline\" :src=\"`${$cdnImageUrl}/order/icon-line-red.png`\" />\n    </div>\n    <ul class=\"goods-info-wrap\">\n      <li v-for=\"(v, i) in pageInfo.tailOrderProductVoList\" :key=\"i\" class=\"goods\">\n        <div class=\"goods-box\">\n          <div class=\"goods-top pb\">\n            <div class=\"goods-left\">\n              <img :src=\"v.image | imageToHttps\" />\n            </div>\n            <div class=\"goods-right\">\n              <div class=\"goods-name\">{{ v.pName }}</div>\n              <div class=\"goods-attr\" v-if=\"v.an\">已选 {{ v.an }}</div>\n              <div class=\"goods-message\">\n                <div>￥{{ v.price | formatPrice }}</div>\n                <div>×{{ v.num }}</div>\n              </div>\n              <div class=\"goods-message\">\n                <div :class=\"{ hidden: !v.pma }\">小计：下单立减{{ v.pma }}元</div>\n                <div :class=\"{ 'delet-price': v.price * v.num != v.payAmt, 'orange-color': v.price * v.num == v.payAmt }\">\n                  ￥{{ (v.price * v.num) | formatPrice }}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"goods-center\" v-if=\"v.price * v.num != v.payAmt\">￥{{ v.payAmt | formatPrice }}</div>\n        </div>\n      </li>\n    </ul>\n    <div class=\"pay-details\">\n      <div class=\"strip\" @click=\"fnOpenAvailableVoucher\">\n        <div class=\"left\">优惠券</div>\n        <div class=\"right\">\n          <img\n            class=\"more\"\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASBAMAAACdhyI/AAAAFVBMVEVHcEyZmZmXl5eenp6ampqZmZmZmZnA+BYuAAAABnRSTlMA0xYVgYLuQiDGAAAAJklEQVQI12NggAJWBTDlJgSmDBPBXGYxIrhQCiKImwMzGmoRGAAAgu0GKQKrDXQAAAAASUVORK5CYII=\"\n          />\n        </div>\n      </div>\n      <div class=\"strip\" @click=\"fnShowEcardPop\" v-if=\"isShowUserEcard\">\n        <div class=\"left\">\n          礼品卡(智家e卡) <span class=\"card-select-tag\" v-if=\"ecardSelectNum\">已选{{ecardSelectNum}}张</span>\n        </div>\n        <div class=\"right\">\n          <div v-if=\"ecardListYHPrice\" class=\"couponAmt\" style=\"color: #FF2E2E\">-￥{{ ecardListYHPrice }}</div>\n          <div v-else-if=\"pageInfo.usableEcardCount\" style=\"font-size: 0.24rem;color: #999;\">{{pageInfo.usableEcardCount}}张可用</div>\n          <div v-else style=\"font-size: 0.24rem;color: #999;\">暂无可用</div>\n          <div class=\"img\">\n            <img\n            class=\"more\"\n              src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASBAMAAACdhyI/AAAAFVBMVEVHcEyZmZmXl5eenp6ampqZmZmZmZnA+BYuAAAABnRSTlMA0xYVgYLuQiDGAAAAJklEQVQI12NggAJWBTDlJgSmDBPBXGYxIrhQCiKImwMzGmoRGAAAgu0GKQKrDXQAAAAASUVORK5CYII=\"\n            />\n          </div>\n        </div>\n      </div>\n      <div class=\"strip\" @click=\"fnOpenInvoice\">\n        <div class=\"left\">发票信息</div>\n        <div class=\"right\">\n          <div class=\"invoice\">\n           {{invoiceText}}\n          </div>\n          <div class=\"right\">\n            <img\n              class=\"more\"\n              src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASBAMAAACdhyI/AAAAFVBMVEVHcEyZmZmXl5eenp6ampqZmZmZmZnA+BYuAAAABnRSTlMA0xYVgYLuQiDGAAAAJklEQVQI12NggAJWBTDlJgSmDBPBXGYxIrhQCiKImwMzGmoRGAAAgu0GKQKrDXQAAAAASUVORK5CYII=\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"pay-type-container\">\n      <!-- isWDZ &&  -->\n      <div\n        :class=\"{ 'pay-type': index != calculationList.length - 1 }\"\n        v-for=\"(item, index) in calculationList\"\n        :key=\"index\"\n        v-show=\"pageInfo.ot != 1\"\n      >\n        <div class=\"strip border-bottom\" v-if=\"false\">\n          <div class=\"left\">\n            <div class=\"left-left\">金币</div>\n            <div class=\"left-right\">\n              <div>共{{ item.detail.count || 0 }}个&nbsp;可用{{ item.canUseMoney }}个&nbsp;抵{{ item.purposeMoney }}元</div>\n            </div>\n          </div>\n          <van-switch\n            active-color=\"#2283E2\"\n            size=\"15px\"\n            v-model=\"item.canUse\"\n            :disabled=\"!(item.canUseMoney && item.canUseMoney > 0)\"\n            @change=\"fnSwitchChange(item)\"\n          />\n        </div>\n        <div class=\"strip\"\n             v-if=\"false\">\n          <div class=\"left\">\n            <div class=\"left-left\">智家宝</div>\n            <div class=\"left-right\">\n              <div>共{{ item.detail.count || 0 }}元&nbsp;可用{{ item.canUseMoney }}元&nbsp;抵{{ item.purposeMoney }}元</div>\n            </div>\n          </div>\n          <van-switch\n            active-color=\"#2283E2\"\n            size=\"15px\"\n            v-model=\"item.canUse\"\n            :disabled=\"!(item.canUseMoney && item.canUseMoney > 0)\"\n            @change=\"fnSwitchChange(item)\"\n          />\n        </div>\n        <div class=\"strip border-bottom\" v-if=\"false\">\n          <div class=\"left\">\n            <div class=\"left-left\">积分</div>\n            <div class=\"left-right\">\n              <div>共{{ item.detail.count || 0 }}积分&nbsp;可用{{ item.canUseMoney }}积分&nbsp;抵{{ item.purposeMoney }}元</div>\n            </div>\n          </div>\n          <van-switch\n            active-color=\"#2283E2\"\n            size=\"15px\"\n            v-model=\"item.canUse\"\n            :disabled=\"!(item.canUseMoney && item.canUseMoney > 0)\"\n            @change=\"fnSwitchChange(item)\"\n          />\n        </div>\n        <div class=\"strip\" v-if=\"item.detail.benefitType == 'diamond'\">\n          <div class=\"left\">\n            <div class=\"left-left\">钻石</div>\n            <div class=\"left-right\">\n              <div>共{{ item.detail.count || 0 }}钻石&nbsp;可用{{ item.canUseMoney }}钻石&nbsp;抵{{ item.purposeMoney }}元</div>\n            </div>\n          </div>\n          <van-switch\n            active-color=\"#2283E2\"\n            size=\"15px\"\n            v-model=\"item.canUse\"\n            :disabled=\"!(item.canUseMoney && item.canUseMoney > 0)\"\n            @change=\"fnSwitchChange(item)\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"shop-price\">\n      <div class=\"strip\">\n        <div class=\"left\">商品金额</div>\n        <div class=\"right\">￥{{ pageInfo.productAmount || 0 | formatPrice }}</div>\n      </div>\n      <div class=\"strip\" v-if=\"pageInfo.couponAmount\">\n        <div class=\"left\">优惠券</div>\n        <div class=\"right\">-￥{{ pageInfo.couponAmount | formatPrice }}</div>\n      </div>\n      <div class=\"strip\" v-if=\"pageInfo.ipm\">\n        <div class=\"left\">满减</div>\n        <div class=\"right\">-￥{{ pageInfo.ipm | formatPrice }}</div>\n      </div>\n      <div class=\"strip\" v-if=\"isUseSGBPay\">\n        <div class=\"left\">智家宝</div>\n        <div class=\"right\">-￥{{ sgbPurposeMoney | formatPrice }}</div>\n      </div>\n      <div class=\"strip\" v-if=\"isUseJBPay\">\n        <div class=\"left\">金币</div>\n        <div class=\"right\">-￥{{ insurancePurposeMoney | formatPrice }}</div>\n      </div>\n      <div class=\"strip\" v-if=\"isUseSeaShellPay\">\n        <div class=\"left\">积分</div>\n        <div class=\"right\">-￥{{ seashellPurposeMoney | formatPrice }}</div>\n      </div>\n      <div class=\"strip\" v-if=\"isUseDiamondPay\">\n        <div class=\"left\">钻石</div>\n        <div class=\"right\">-￥{{ diamondPurposeMoney | formatPrice }}</div>\n      </div>\n    </div>\n    <div class=\"pay-money\">\n      <div class=\"left\">\n        实付款：\n        <div class=\"final-pay\">￥{{ actPayMoney | formatPrice }}</div>\n      </div>\n      <div @click=\"fnSubmit\" class=\"right\">确认提交</div>\n    </div>\n    <!-- 智家E卡 -->\n    <van-popup v-model=\"eCardPicker\" position=\"bottom\" @close=\"closeEcardPop\">\n      <ecard-pop :isTailOrder=\"orderSn\" @close=\"closeEcardPop\" @add=\"addEcard\" @reset=\"resetEcard\" @selectchange=\"ecardSelectChange\"></ecard-pop>\n    </van-popup>\n    <div class=\"dialog-container\" v-show=\"popupShow\">\n      <div class=\"bg\"></div>\n      <CaptchaDialog class=\"dialog\" :show=\"popupShow\" :preGetTime='preGetTime' desc=\"当使用虚拟资产时，需获取当前登录手机号的验证码核实用户身份\" @submit='onSubmitCaptcha' @close='onCloseCaptchaDialog' @resend='sendSmsCaptch'/>\n    </div>\n    <!-- 输入支付密码 -->\n    <!-- <van-popup v-model=\"popupShow\" position=\"bottom\" :style=\"{ height: '50%' }\">\n      <van-password-input :value=\"value\" info=\"密码为 6 位数字\" :focused=\"showKeyboard\" @focus=\"showKeyboard = true\" />\n      <van-number-keyboard :show=\"showKeyboard\" @input=\"onInput\" @delete=\"onDelete\" />\n    </van-popup> -->\n  </div>\n</template>\n<script>\nimport { getTailOrder, sendSmsCaptch, submitTailOrder } from '@/http/service/goods';\nimport URL from '@/http/url';\nimport { Switch, NumberKeyboard, PasswordInput, Popup, Toast } from 'vant';\n// 验证码输入弹窗\nimport CaptchaDialog from '@/components/capthaDialog'\nconst ecardPop = () => import('../create/components/ecard-pop.vue')\nexport default {\n  components: {\n    CaptchaDialog,\n    ecardPop,\n    [Switch.name]: Switch,\n    [NumberKeyboard.name]: NumberKeyboard,\n    [PasswordInput.name]: PasswordInput,\n    [Popup.name]: Popup,\n    [Toast.name]: Toast\n  },\n  data() {\n    return {\n      orderSn: '', // 尾款支付 订单号\n      pageInfo: {},\n      finalPrice: 0, // 最终价\n\n      eCardPicker: false, // ecard 弹窗\n      popupShow: false, // 控制输入密码弹层\n      isShowUserEcard: false, // 是否显示可已使用Ecard\n      pushComputedPrice: [], // 已经优惠的金额\n\n      preGetTime: 0, // 验证码发送时间\n      submitCAPTCHAOnce: 0, // 一次错误验证码提交次数\n\n      calculationList: [],\n      sgbDetail: '', // 智家宝\n      sgbPurposeMoney: 0, // 智家宝\n      sgbUseMoney: 0, // 智家宝\n      insuranceDetail: '', // 金币\n      insurancePurposeMoney: 0, // 金币\n      insuranceUseMoney: 0, // 金币\n      seaShellDetail: '', // 海贝积分\n      seashellPurposeMoney: 0, // 海贝积分\n      seaShellUseMoney: 0, // 海贝积分\n      diamondDetail: '', // 钻石\n      diamondPurposeMoney: 0, // 钻石\n      diamondUseMoney: 0, // 钻石\n      initCheckStatus: [false, false, false, false], // 金币 智家宝 海贝积分 钻石\n      isUseSGBPay: false, // 是否使用智家宝\n      isUseJBPay: false, // 是否使用金币抵扣\n      isUseSeaShellPay: false, // 是否使用海贝积分\n      isUseDiamondPay: false, // 是否使用钻石\n      value: '', // 密码\n      showKeyboard: true, // 控制键盘显示\n      isSubmit: false, // 防止重复提交\n      paying: false, // 是否支付\n    }\n  },\n  computed: {\n    // 实际支付金额\n    actPayMoney() {\n      console.log('diamondPurposeMoney ==>', this.diamondPurposeMoney)\n      let finalPrice = this.pageInfo.initPam + this.pageInfo.sam - this.ecardListYHPrice - this.diamondPurposeMoney\n      console.log(finalPrice < 0 ? 0 : finalPrice.toFixed(2), 'actPayMoney')\n      return finalPrice < 0 ? 0 : finalPrice.toFixed(2)\n    },\n    // 是否可选E卡\n    enableUseEcard() {\n      return this.actPayMoney - this.pageInfo.sam > 0\n    },\n    // 选中的E卡数量\n    ecardSelectNum() {\n      return this.pushComputedPrice.filter(item => item.cardNo).length\n    },\n    // 使用金额\n    ecardListYHPrice() {\n      let price = 0\n      this.pushComputedPrice.forEach(item => {\n        if (item.cardNo) {\n          price += item.price\n        }\n      });\n      if (price > this.pageInfo.initPam) {\n        return this.pageInfo.initPam\n      }\n      console.log(price, 'ecardListYHPrice')\n      return price > 0 ? price.toFixed(2) : price\n    },\n    isWDZ() {\n      return this.$store.getters.getHasStore\n    },\n    invoiceText() {\n      const pageInfo = this.pageInfo\n      if (pageInfo?.inv) {\n        if (pageInfo.inv.invoiceFlag === 0) {\n          return '本次不开发票'\n        } else if (pageInfo.inv.it === 2) {\n          return '增值税电子普通发票' + '-' + (pageInfo.inv.iti || '')\n        } else if (pageInfo.inv.it === 3) {\n          return '增值税纸质普通发票' + '-' + (pageInfo.inv.iti || '')\n        } else if (pageInfo.inv.it === 1) {\n          return '增值税专用发票' + '-' + (pageInfo.inv.bc || '')\n        } else if (pageInfo.inv.it === 4) {\n          return '增值税电子专用发票' + '-' + (pageInfo.inv.bc || '')\n        } else {\n          return ''\n        }\n      } else {\n        return ''\n      }\n    },\n  },\n  activated() {\n    this.isUseSGBPay = false\n    this.isUseJBPay = false\n    this.isUseSeaShellPay = false\n    this.orderSn = this.$route.query.orderSn\n    this.getTailOrder()\n  },\n  methods: {\n    /**\n     * 智家E卡\n     */\n    fnShowEcardPop() {\n      this.eCardPicker = true\n    },\n    closeEcardPop() {\n      this.eCardPicker = false\n    },\n    resetEcard() {\n      console.log(this.pageInfo.oam)\n      console.log('reset pop pop pop')\n      this.eCardPicker = false\n      this.pushComputedPrice = []\n      // 重置钻石\n      this.computedDiamondUseMoney()\n      // this.pageInfo.oam = this.pageInfo.computedpam + this.pageInfo.sam\n    },\n    addEcard() {\n      this.getEcardInfo();\n      this.resetEcard()\n    },\n    ecardSelectChange(info) {\n      if (!this.enableUseEcard) {\n        if (!info.isSelected) {\n          this.$toast('目前订单中已没有可用于充抵的金额')\n          return\n        } else {\n          this.removeArrElm(this.pushComputedPrice, 'cardNo', info.cardNo);\n          info.isSelected = false\n          console.log('delete')\n        }\n      } else if (this.actPayMoney > this.pageInfo.sam && !info.isSelected) {\n        let leftMoney = this.actPayMoney - this.pageInfo.sam\n        console.log(leftMoney)\n        this.pushComputedPrice.push({\n          cardNo: info.cardNo,\n          id: info.smartEcardId,\n          balance: info.balance, // 余额\n          price: info.balance > leftMoney ? leftMoney : info.balance, // 实际支付金额\n        })\n        info.isSelected = true\n        console.log(this.pushComputedPrice, 'pushComputedPrice')\n      } else {\n        this.removeArrElm(this.pushComputedPrice, 'cardNo', info.cardNo);\n        info.isSelected = false\n      }\n\n      this.computedDiamondUseMoney()\n    },\n\n    /**\n     * 动态计算钻石抵扣金额\n     **/\n    computedDiamondUseMoney() {\n      console.log('computedDiamondUseMoney', this.calculationList)\n      if (this.isUseDiamondPay) {\n        // todo 先卡 在钻石不全抵扣时选钻石， 再取消卡\n        console.log(this.diamondPurposeMoney, this.actPayMoney, 'aa')\n        this.calculationList.forEach(item => {\n          if (item.detail.benefitType === 'diamond' && item.detail.count > this.diamondPurposeMoney && this.actPayMoney - this.pageInfo.sam >= 1) { // >= 1 钻石最小抵扣1\n            item.canUse = false\n            this.isUseDiamondPay = false\n            this.diamondPurposeMoney = 0\n            let result = item.detail.count > (this.actPayMoney - this.pageInfo.sam) ? this.actPayMoney - this.pageInfo.sam : item.detail.count\n            console.log(this.diamondPurposeMoney, 'bbb=======>>>>>>')\n            item.purposeMoney = Math.floor(result)\n            item.canUseMoney = Math.floor(result)\n          }\n        })\n      } else {\n        this.calculationList.forEach(item => {\n          if (item.detail.benefitType === 'diamond') {\n            this.diamondUseMoney = (item.detail.count > this.actPayMoney - this.pageInfo.sam) ? this.actPayMoney - this.pageInfo.sam : item.detail.count\n            console.log(this.diamondUseMoney, 'aaa=======>>>>>>')\n            item.purposeMoney = Math.floor(this.diamondUseMoney)\n            item.canUseMoney = Math.floor(this.diamondUseMoney)\n          }\n        })\n      }\n    },\n\n    /**\n     *\n     * 删除数组中指定的元素\n     */\n    removeArrElm(arr, attr, attrVal) {\n      arr.splice(arr.findIndex(item => item[attr] === attrVal), 1)\n      // 重新计算选中金额\n      this.pushComputedPrice.forEach(item => {\n        if (item.cardNo) {\n          item.price = item.balance\n        }\n      });\n    },\n\n    /**\n     * 查询E卡可用数量\n     */\n    getEcardInfo() {\n      let params = {\n        cardType: 1,\n        pageNo: 1,\n        pageSize: 20,\n        orderSn: this.orderSn\n      }\n      this.$http.post(URL.getSmartEcardListForTailOrder, params).then(({ data }) => {\n        let result = data;\n        if (result.success) {\n          // this.usableEcardCount = result.data.usableCount\n          this.pageInfo = {\n            ...this.pageInfo,\n            usableEcardCount: result.totalCount || 0\n          }\n        }\n      })\n    },\n\n    /**\n     * @description 获取订单结算信息\n     */\n    getTailOrder() {\n      return new Promise((resolve, reject) => {\n        getTailOrder({\n          orderSn: this.orderSn,\n        }).then(res => {\n          if (res.success) {\n            this.pageInfo = Object.assign(\n              { pam: res.data.orderAmount, sam: res.data.orderAmount - res.data.productAmount, inv: res.data.invoices },\n              res.data\n            )\n            // this.finalPrice = res.data.orderAmount\n            this.pageInfo.initPam = this.pageInfo.pam // 减优惠金额\n            // this.pageInfo.initPam = this.pageInfo.orderAmount //满额减换\n            // 是否展示使用Ecard\n            this.isShowUserEcard = !(this.$util.isSyBird() || this.$util.isSyBirdH5())\n\n            this.diamondPurposeMoney = 0\n            this.calculationList = res.data && res.data.bl && res.data.bl.map(item => {\n              if (item.benefitType === 'diamond') {\n                this.diamondUseMoney = item.count > this.pageInfo.initPam ? this.pageInfo.initPam : item.count\n                return {\n                  purposeMoney: Math.floor(this.diamondUseMoney),\n                  canUseMoney: Math.floor(this.diamondUseMoney),\n                  detail: item,\n                  canUse: false,\n                }\n              } else {\n                return {\n                  purposeMoney: '',\n                  canUseMoney: '',\n                  detail: item,\n                  canUse: false,\n                }\n              }\n            })\n            this.getEcardInfo()\n            resolve()\n          } else {\n            Toast(res.message)\n          }\n        })\n      })\n    },\n    /**\n     * @description 计算智家宝可用 （小程序逻辑）\n     */\n    // 规则：C是抵用钱--智家宝C=(data.oam-data.sam)*bl[2].quota  如果C> data.oam-data.sam，那么 C = data.oam-data.sam，如果 C>bl[2].count/bl[2].proportion，那么 C=bl[2].count/bl[2].proportion    可用钱 = C * bl[2].proportion\n    calculationSgbData: function(data) {\n      // console.log('获取智家宝可用钱===============', data)\n      data.oam = data.orderAmount\n      data.sam = data.orderAmount - data.productAmount\n      const _this = this\n      let _calculationList = []\n      //  获取智家宝的数据\n      let _sgbDetail = ''\n      let _insuranceDetail = ''\n      let _seaShellDetail = ''\n      let _diamondDetail = ''\n      // 获取智家宝的抵用金额\n      let _sgbPurposeMoney = 0\n      let _insurancePurposeMoney = 0\n      let _seaShellPurposeMoney = 0\n      let _diamondPurposeMoney = 0\n      // 获取智家宝可用钱\n      let _sgbUseMoney = 0\n      let _insuranceUseMoney = 0\n      let _seaShellUseMoney = 0\n      let _diamondUseMoney = 0\n\n      if (data.bl && data.bl.length > 0) {\n        for (var i = 0; i < data.bl.length; i++) {\n          if (data.bl[i].benefitType === 'sgb') {\n            // console.log('获取智家宝的数据：', data.bl[i])\n            _sgbDetail = data.bl[i]\n            // 获取智家宝的抵用金额----------\n            _sgbPurposeMoney = _this.mul((data.oam || 0) - (data.sam || 0), _sgbDetail.quota || 0)\n            if (_sgbPurposeMoney > (data.oam || 0) - (data.sam || 0)) {\n              _sgbPurposeMoney = (data.oam || 0) - (data.sam || 0)\n            }\n            if (_sgbPurposeMoney > (_sgbDetail.count || 0) / (_sgbDetail.proportion || 0)) {\n              _sgbPurposeMoney = _sgbDetail.count / _sgbDetail.proportion\n            }\n            // 如果抵扣的钱小于1分钱 则归零\n            if (_sgbPurposeMoney < 0.01) {\n              _sgbPurposeMoney = 0\n            }\n            // 获取智家宝可用钱 ========\n            _sgbUseMoney = _this.mul(_sgbPurposeMoney, _sgbDetail.proportion)\n            _calculationList.push({\n              purposeMoney: _sgbPurposeMoney,\n              canUseMoney: _sgbUseMoney,\n              detail: _sgbDetail,\n              canUse: false,\n            })\n          } else if (data.bl[i].benefitType === 'insurance') {\n            // 金币抵扣\n            _insuranceDetail = data.bl[i]\n            _insurancePurposeMoney = _this.mul((data.oam || 0) - (data.sam || 0), _insuranceDetail.quota || 0)\n            if (_insurancePurposeMoney > (data.oam || 0) - (data.sam || 0)) {\n              _insurancePurposeMoney = (data.oam || 0) - (data.sam || 0)\n            }\n            if (_insurancePurposeMoney > (_insuranceDetail.count || 0) / (_insuranceDetail.proportion || 0)) {\n              _insurancePurposeMoney = _insuranceDetail.count / _insuranceDetail.proportion\n            }\n            // 最小使用1个金币，重新计算可使用金币和可抵扣\n            _insuranceUseMoney = Math.floor(_this.mul(_insurancePurposeMoney, _insuranceDetail.proportion))\n            _insurancePurposeMoney = _insuranceUseMoney / _insuranceDetail.proportion || 0\n            _calculationList.push({\n              purposeMoney: _insurancePurposeMoney,\n              canUseMoney: _insuranceUseMoney,\n              detail: _insuranceDetail,\n              canUse: false,\n            })\n          } else if (data.bl[i].benefitType === 'seashell') {\n            // 海贝抵扣\n            _seaShellDetail = data.bl[i]\n            _seaShellPurposeMoney = _this.mul((data.oam || 0) - (data.sam || 0), _seaShellDetail.quota || 0)\n            if (_seaShellPurposeMoney > (data.oam || 0) - (data.sam || 0)) {\n              _seaShellPurposeMoney = (data.oam || 0) - (data.sam || 0)\n            }\n            if (_seaShellPurposeMoney > (_seaShellDetail.count || 0) / (_seaShellDetail.proportion || 0)) {\n              _seaShellPurposeMoney = _seaShellDetail.count / _seaShellDetail.proportion\n            }\n            // 最小使用1个积分，重新计算可使用金币和可抵扣\n            _seaShellUseMoney = Math.floor(_this.mul(_seaShellPurposeMoney, _seaShellDetail.proportion))\n            _seaShellPurposeMoney = _seaShellUseMoney / _seaShellDetail.proportion || 0\n            _calculationList.push({\n              purposeMoney: _seaShellPurposeMoney,\n              canUseMoney: _seaShellUseMoney,\n              detail: _seaShellDetail,\n              canUse: false,\n            })\n          } else if (data.bl[i].benefitType === 'diamond') {\n            // 钻石\n            _diamondDetail = data.bl[i]\n            _diamondPurposeMoney = _this.mul((data.oam || 0) - (data.sam || 0), _diamondDetail.quota || 0)\n            if (_diamondPurposeMoney > (data.oam || 0) - (data.sam || 0)) {\n              _diamondPurposeMoney = (data.oam || 0) - (data.sam || 0)\n            }\n            if (_diamondPurposeMoney > (_diamondDetail.count || 0) / (_diamondDetail.proportion || 0)) {\n              _diamondPurposeMoney = _diamondDetail.count / _diamondDetail.proportion\n            }\n            // 最小使用1个钻石，重新计算可使用钻石和可抵扣\n            _diamondUseMoney = Math.floor(_this.mul(_diamondPurposeMoney, _diamondDetail.proportion))\n            _diamondPurposeMoney = _diamondUseMoney / _diamondDetail.proportion || 0\n            _calculationList.push({\n              purposeMoney: _diamondPurposeMoney,\n              canUseMoney: _diamondUseMoney,\n              detail: _diamondDetail,\n              canUse: false,\n            })\n          }\n          this.calculationList = _calculationList\n          // console.log('calculationList', this.calculationList)\n        }\n      }\n      // console.log(_sgbPurposeMoney)\n\n      this.sgbDetail = _sgbDetail\n      this.sgbPurposeMoney = _sgbPurposeMoney.toFixed(2)\n      this.sgbUseMoney = _sgbUseMoney.toFixed(2)\n\n      this.insuranceDetail = _insuranceDetail\n      this.insurancePurposeMoney = _insurancePurposeMoney.toFixed(2)\n      this.insuranceUseMoney = Math.floor(_insuranceUseMoney)\n\n      this.seaShellDetail = _seaShellDetail\n      this.seashellPurposeMoney = _seaShellPurposeMoney.toFixed(2)\n      this.seaShellUseMoney = Math.floor(_seaShellUseMoney)\n\n      this.diamondDetail = _diamondDetail\n      this.diamondPurposeMoney = _diamondPurposeMoney.toFixed(2)\n      this.diamondUseMoney = Math.floor(_diamondUseMoney)\n\n      this.initCheckStatus = [false, false, false, false]\n      // console.log('sgbDetail:', _sgbDetail, 'sgbPurposeMoney: ', this.sgbPurposeMoney, 'sgbUseMoney: ', _sgbUseMoney)\n    },\n    mul: function(arg1, arg2) {\n      let m = 0\n      let s1 = ''\n      let s2 = ''\n      if (arg1 && arg1 != null) s1 = arg1.toString()\n\n      if (arg2 && arg2 != null) s2 = arg2.toString()\n\n      try {\n        m += s1.split('.')[1].length\n      } catch (e) {}\n      try {\n        m += s2.split('.')[1].length\n      } catch (e) {}\n\n      return (Number(s1.replace('.', '')) * Number(s2.replace('.', ''))) / Math.pow(10, m)\n    },\n    /**\n     * @description 修改收获地址\n     */\n    fnChangeAddress() {\n      if (this.pageInfo.canChange) {\n        this.$router.push({\n          path: '/address',\n          query: {\n            from: 2,\n            orderSn: this.orderSn,\n          },\n        })\n      } else {\n        Toast('不允许修改地址')\n      }\n    },\n    fnOpenAvailableVoucher(data) {\n      let _query\n      if (data.proId) {\n        // 店铺优惠券\n        _query = {\n          type: '1',\n          productId: data.proId,\n          sku: data.sku,\n          from: 'tailOrder',\n        }\n      } else {\n        // 优惠券\n        _query = {\n          type: '2',\n          from: 'tailOrder',\n          orderSn: this.orderSn,\n        }\n      }\n      this.$router.push({\n        path: '/orderVoucher',\n        query: _query,\n      })\n    },\n    fnOpenInvoice() {\n      if (this.pageInfo.canInvoice) {\n        this.$router.push({\n          name: 'invoice',\n          query: { inv: this.pageInfo.invoices, from: 'tailOrder', orderSn: this.orderSn },\n        })\n      } else {\n        Toast('不允许修改发票信息')\n      }\n    },\n    fnSwitchChange(opt) {\n      console.log('fnSwitchChange')\n      if (opt.detail.benefitType === 'diamond') {\n        this.isUseDiamondPay = opt.canUse\n        if (opt.canUse) {\n          this.diamondPurposeMoney = opt.purposeMoney\n        } else {\n          this.diamondPurposeMoney = 0\n          // 用户取消钻石时，选中的E卡全额抵扣\n          this.pushComputedPrice.forEach(item => {\n            if (item.cardNo) {\n              item.price = item.balance\n            }\n          });\n          this.computedDiamondUseMoney()\n        }\n      }\n      // if (opt.detail.benefitType === 'sgb') {\n      //   this.isUseSGBPay = opt.canUse\n      //   this.checkAuthThree().then(res => {\n      //     let _index = 0\n      //     this.calculationList.forEach((item, index) => {\n      //       if (item.detail.benefitType === opt.detail.benefitType) {\n      //         _index = index\n      //       }\n      //     })\n      //     this.totalPriceFn(opt, _index)\n      //   })\n      //   return\n      // } else if (opt.detail.benefitType === 'insurance') {\n      //   this.isUseJBPay = opt.canUse\n      // } else if (opt.detail.benefitType === 'seashell') {\n      //   this.isUseSeaShellPay = opt.canUse\n      // } else if (opt.detail.benefitType === 'diamond') {\n      //   this.isUseDiamondPay = opt.canUse\n      // }\n      // let _index = 0\n      // this.calculationList.forEach((item, index) => {\n      //   if (item.detail.benefitType === opt.detail.benefitType) {\n      //     _index = index\n      //   }\n      // })\n      // this.totalPriceFn(opt, _index)\n    },\n    // 三证合一检测\n    checkAuthThree() {\n      let that = this\n      return new Promise((resolve, reject) => {\n        this.$http.get(URL.TRUE_REALNAMEAUTH).then(res => {\n          const response = res.data\n          if (response.success === true) {\n            if (response.data.authCode && response.data.authCode >= 4) {\n              // 绑定快捷通就算三证合一\n              resolve()\n            } else {\n              if (response.data.isAuth && response.data.bankCard != null) {\n                // 三证合一认证过\n                resolve()\n              } else {\n                that.$router.push({ name: 'bindcard' })\n              }\n            }\n          } else {\n            Toast(response.message)\n          }\n        })\n      })\n    },\n    /**\n     * @description 总价计算\n     */\n    totalPriceFn: function(opt, index) {\n      let orderAmount = this.pageInfo.oam\n      if (opt.detail.benefitType === 'sgb') {\n        this.sgbPurposeMoney = opt.purposeMoney\n      } else if (opt.detail.benefitType === 'insurance') {\n        this.insurancePurposeMoney = opt.purposeMoney\n      } else if (opt.detail.benefitType === 'seashell') {\n        this.seashellPurposeMoney = opt.purposeMoney\n      } else if (opt.detail.benefitType === 'diamond') {\n        this.diamondPurposeMoney = opt.purposeMoney\n      }\n      // 金币\n      if (this.isUseJBPay && this.initCheckStatus[0] === false) {\n        this.pageInfo.oam = orderAmount - this.insurancePurposeMoney\n        this.initCheckStatus[0] = true\n      }\n      // 智家宝\n      if (this.isUseSGBPay && this.initCheckStatus[1] === false) {\n        this.pageInfo.oam = orderAmount - this.sgbPurposeMoney\n        this.initCheckStatus[1] = true\n      }\n      // 海贝积分\n      if (this.isUseSeaShellPay && this.initCheckStatus[2] === false) {\n        this.pageInfo.oam = orderAmount - this.seashellPurposeMoney\n        this.initCheckStatus[2] = true\n      }\n      // 钻石\n      if (this.isUseDiamondPay && this.initCheckStatus[3] === false) {\n        this.pageInfo.oam = orderAmount - this.diamondPurposeMoney\n        this.initCheckStatus[3] = true\n      }\n      for (let i = this.calculationList.length - 1; i >= 0; i--) {\n        if (i !== index && !this.calculationList[i].canUse && this.pageInfo.oam < this.calculationList[i].purposeMoney) {\n          // console.log(this.calculationList[i])\n          this.calculationList[i].canUseMoney -=\n            this.calculationList[i].detail.proportion * this.calculationList[i].detail.quota * this.calculationList[index].purposeMoney\n          this.calculationList[i].purposeMoney = this.calculationList[i].canUseMoney * this.calculationList[i].detail.quota\n        }\n      }\n\n      if (opt.canUse === false) {\n        this.pageInfo.oam = this.finalPrice\n        this.calculationSgbData(this.pageInfo)\n        this.isUseSGBPay = false\n        this.isUseJBPay = false\n        this.isUseSeaShellPay = false\n        this.isUseDiamondPay = false\n      }\n    },\n    async fnSubmit() {\n      // 判断使用钻石E卡\n      if (this.isUseSGBPay || this.isUseJBPay || this.isUseSeaShellPay || this.isUseDiamondPay || this.pushComputedPrice.findIndex(item => item.cardNo) !== -1) {\n        console.log('提交订单--使用智家宝')\n        this.popupShow = true // 显示输入密码层\n        this.sendSmsCaptch() // 使用智家宝\n      } else {\n        console.log('提交订单--不使用智家宝')\n        this.asynSubmitOrder() // 不使用智家宝\n      }\n    },\n    // 验证码\n    onSubmitCaptcha(value) {\n      this.value = value\n      this.asynSubmitOrder();\n    },\n    onCloseCaptchaDialog() {\n      this.popupShow = false;\n    },\n    /**\n     * @description 发送短信验证码接口\n     */\n    sendSmsCaptch() {\n      if (this.submitCAPTCHAOnce <= 5) {\n        if (Date.now() - this.preGetTime <= 60000) {\n          return;\n        }\n      }\n      this.submitCAPTCHAOnce = 0;\n      sendSmsCaptch({\n        // mobileNum: this.$store.getters.getUserInfo.phone,\n      }).then(res => {\n        if (res.success) {\n          this.preGetTime = Date.now();\n        } else {\n          Toast(res.message)\n        }\n      })\n    },\n    onInput(key) {\n      this.value = (this.value + key).slice(0, 6)\n      if (this.value.length === 6) {\n        this.popupShow = false // 隐藏输入密码层\n        // 提交订单\n        this.asynSubmitOrder()\n      }\n    },\n    onDelete() {\n      this.value = this.value.slice(0, this.value.length - 1)\n    },\n    /**\n     * @description 提交订单接口\n     */\n    asynSubmitOrder() {\n      if (this.isSubmit) {\n        return\n      }\n      this.isSubmit = true\n      let benefitList = []\n      if (this.isUseSGBPay) {\n        let sgbPayData = {\n          amt: this.sgbPurposeMoney || 0,\n          benefitType: 'sgb',\n          count: this.sgbPurposeMoney || 0,\n        }\n        benefitList.push(sgbPayData)\n      }\n      if (this.isUseJBPay) {\n        let insurancePayData = {\n          amt: this.insurancePurposeMoney || 0,\n          benefitType: 'insurance',\n          count: (this.insurancePurposeMoney * this.insuranceDetail.proportion || 0).toFixed(0),\n        }\n        benefitList.push(insurancePayData)\n      }\n      if (this.isUseSeaShellPay) {\n        let seaShellData = {\n          amt: this.seashellPurposeMoney || 0,\n          benefitType: 'seashell',\n          count: (this.seashellPurposeMoney * this.seaShellDetail.proportion || 0).toFixed(0),\n        }\n        benefitList.push(seaShellData)\n      }\n      if (this.isUseDiamondPay) {\n        let diamondData = {\n          amt: this.diamondPurposeMoney || 0,\n          benefitType: 'diamond',\n          count: this.diamondPurposeMoney || 0,\n        }\n        benefitList.push(diamondData)\n      }\n\n      // 提交订单时 ecard参数，\n      if (this.pushComputedPrice.findIndex(item => item.cardNo) !== -1) {\n        let ecardData = {\n          amt: this.ecardListYHPrice,\n          benefitType: 'ecard',\n          count: this.ecardListYHPrice,\n          bids: []\n        }\n        this.pushComputedPrice.forEach(item => {\n          if (item.cardNo) {\n            ecardData.bids.push(item.id)\n          }\n        })\n        benefitList.push(ecardData)\n      }\n\n      console.log(benefitList)\n      submitTailOrder({\n        captcha: this.value, // 智家宝 发送的短信验证码\n        ch: 1,\n        isBooking: 0,\n        benefitList,\n        orderSn: this.orderSn,\n      }).then(res => {\n        this.isSubmit = false\n        if (res.success) {\n          this.paying = true\n\n          // 逻辑\n          // if(ps != null && ps==101){跳转完成页 return}\n          // if(pyc!=null && pyc = 'cod\\giftCard\\sgbpay'){跳转完成页 return}\n          // 跳转结算中心\n\n          // ps  101 已经支付过了  100 未支付\n          // oa  订单金额\n          // oi  订单id\n          // os  订单号\n          // pyc 支付方式\n          if (res.data.ps != null && (res.data.ps === 101 || res.data.ps === '101')) {\n            // 已支付\n            this.paying = false\n            this.fnOpenPayStatus('submit')\n          } else if (res.data.pyc != null && ['cod', 'giftCard', 'sgbpay'].indexOf(res.data.pyc) >= 0) {\n            // 其他方式付款\n            this.paying = false\n            this.fnOpenPayStatus('submit')\n          } else {\n            // console.log('==================', res.data.os)\n            // 跳到收银台\n            this.$router.replace({\n              path: `/orderCashier/${res.data.os}`,\n            })\n          }\n\n          // if (res.data.pyc === 'online') {\n          //   // 跳到收银台\n          //   this.$router.replace({\n          //     path: `/orderCashier/${res.data.os}`,\n          //   })\n          // } else {\n          //   // 货到付款\n          //   this.paying = false\n          //   this.fnOpenPayStatus('submit')\n          // }\n        } else {\n          Toast(res.message)\n        }\n      })\n    },\n    /**\n     * @description 支付状态页\n     * @param type submit:提交成功 pay:支付成功\n     */\n    fnOpenPayStatus(type) {\n      this.$router.replace('/payState?data={\"is_success\":\"T\"}')\n      // this.$router.replace({\n      //   path: '/orderPay',\n      //   query: {\n      //     type,\n      //   },\n      // })\n    },\n  },\n}\n</script>\n<style>\nimg {\n  display: block;\n  border: none;\n}\n.van-hairline--top-bottom::after,\n.van-hairline-unset--top-bottom::after {\n  border-width: 0 0 0.02rem;\n}\n</style>\n<style lang=\"scss\" scoped>\n.address {\n  background: rgba(255, 255, 255, 1);\n  position: relative;\n  height: 2.08rem;\n  display: flex;\n  align-items: center;\n  padding-left: 0.22rem;\n  padding-right: 0.22rem;\n  .left {\n    img {\n      width: 0.36rem;\n      height: 0.4rem;\n    }\n  }\n  .address-box {\n    width: calc(100% - 0.54rem);\n    padding-right: 0.44rem;\n    padding-left: 0.22rem;\n    box-sizing: border-box;\n    .address-top {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      font-size: 0.32rem;\n      color: rgba(0, 0, 0, 1);\n      line-height: 0.44rem;\n      padding-bottom: 0.16rem;\n    }\n    .address-bottom {\n      .address-center {\n        font-size: 0.28rem;\n        color: rgba(51, 51, 51, 1);\n        line-height: 0.4rem;\n        .no-address {\n          display: flex;\n          justify-content: flex-start;\n          align-items: center;\n          height: 0.44rem;\n        }\n      }\n    }\n  }\n  .right {\n    width: 0.18rem;\n    display: flex;\n    justify-content: flex-end;\n    img.more {\n      width: 0.12rem;\n      height: 0.16rem;\n    }\n  }\n  img.underline {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n  }\n}\n.tail-tips {\n  text-align: center;\n  line-height: 30px;\n  color: #333;\n  font-size: 0.24rem;\n}\n.van-cell {\n  padding-left: 0;\n  padding-right: 0;\n  color: #666;\n}\n.content {\n  padding-bottom: 1.28rem;\n}\n.goods {\n  margin-top: 0.16rem;\n  padding-left: 0.32rem;\n  padding-right: 0.32rem;\n  background: rgba(255, 255, 255, 1);\n}\n.goods .shop-name {\n  height: 0.88rem;\n  display: flex;\n  align-items: center;\n  font-size: 0.32rem;\n  font-weight: 500;\n  color: rgba(51, 51, 51, 1);\n  line-height: 0.44rem;\n}\n.goods-top {\n  display: flex;\n  align-items: center;\n  padding-top: 0.24rem;\n}\n.goods-top .goods-left {\n  width: 1.6rem;\n  height: 1.6rem;\n}\n.goods-top .goods-left img {\n  width: 1.6rem;\n  height: 1.6rem;\n}\n.goods-right {\n  flex: 1;\n  padding-left: 0.18rem;\n}\n.goods-right .goods-name {\n  font-size: 0.28rem;\n  color: rgba(51, 51, 51, 1);\n  line-height: 0.32rem;\n  word-break: break-all;\n}\n.goods-right .goods-attr {\n  font-size: 0.24rem;\n  color: rgba(102, 102, 102, 1);\n  line-height: 0.28rem;\n  margin-top: 0.1rem;\n  margin-bottom: 0.1rem;\n}\n.goods-right .goods-message {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.24rem;\n  color: rgba(102, 102, 102, 1);\n  line-height: 0.34rem;\n}\n.goods-right .goods-message:nth-child(2) {\n  margin-top: 0.14rem;\n  margin-bottom: 0.18rem;\n}\n.goods-right .goods-message .hidden {\n  visibility: hidden;\n}\n.delet-price {\n  text-decoration: line-through;\n}\n.orange-color {\n  color: #ed2856;\n}\n.goods-center {\n  font-size: 0.24rem;\n  color: $themeOrange;\n}\n.goods-center {\n  transform: translateY(-0.15rem);\n  font-size: 0.24rem;\n  color: $themeOrange;\n  line-height: 0.34rem;\n  text-align: right;\n}\n.goods-bottom {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 0.88rem;\n  color: #333333;\n  font-size: 0.28rem;\n  border-top: 0.01rem solid #eee;\n}\n.pb {\n  padding-bottom: 0.2rem;\n}\n.shop-voucher {\n  display: flex;\n  align-items: center;\n  font-size: 0.24rem;\n  color: rgba(102, 102, 102, 1);\n}\n.goods-bottom img {\n  width: 0.48rem;\n  height: 0.48rem;\n}\n.pay-details {\n  padding-left: 0.32rem;\n  padding-right: 0.32rem;\n  background: #fff;\n  margin-top: 0.16rem;\n}\n.pay-type {\n  // margin-top: 0.16rem;\n  // padding-left: 0.32rem;\n  // padding-right: 0.32rem;\n  // background-color: #fff;\n  border-bottom: 0.01rem solid #eeeeee;\n}\n.shop-price {\n  padding-left: 0.32rem;\n  padding-right: 0.32rem;\n  background: rgba(255, 255, 255, 1);\n  margin-top: 0.16rem;\n}\n.strip {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 0.88rem;\n  color: #333333;\n  font-size: 0.28rem;\n  line-height: 0.4rem;\n  border-bottom: 0.01rem solid #eeeeee;\n}\n.strip:last-child {\n  border-bottom: none;\n}\n.strip .left {\n  display: flex;\n  align-items: center;\n}\n.strip .left .left-left {\n  width: 1.1rem;\n}\n.strip .left .left-right {\n  font-size: 0.24rem;\n  color: rgba(51, 51, 51, 1);\n  line-height: 0.34rem;\n}\n.strip .left .tag {\n  height: 0.36rem;\n  box-sizing: border-box;\n  border: 0.02rem solid $themeColor;\n  font-size: 0.24rem;\n  color: $themeColor;\n  line-height: 0.32rem;\n  border-radius: 0.02rem;\n  padding-left: 0.1rem;\n  padding-right: 0.1rem;\n  margin-left: 0.12rem;\n}\n.strip .right {\n  display: flex;\n  align-items: center;\n}\n.strip .right img {\n  width: 0.48rem;\n}\n.no-border {\n  border: none;\n}\n.border-bottom {\n  border-bottom: 0.01rem solid #eee !important;\n}\n.strip.pay-style {\n  color: rgba(102, 102, 102, 1);\n}\n.invoice {\n  color: #999999;\n  font-size: 0.24rem;\n  line-height: 0.34rem;\n}\n.delivery {\n  font-size: 0.24rem;\n  color: rgba(51, 51, 51, 1);\n  line-height: 0.34rem;\n}\n.comfirm-box {\n  display: flex;\n  align-items: center;\n  font-size: 0.28rem;\n  color: rgba(51, 51, 51, 1);\n  line-height: 0.4rem;\n  padding-top: 0.22rem;\n  padding-bottom: 0.22rem;\n}\n.comfirm-box .left {\n  flex: 1;\n}\n.comfirm-box .right {\n  margin-left: 0.5rem;\n}\n.pay-money {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  z-index: 2;\n  display: flex;\n  height: 0.88rem;\n  background: #fff;\n  display: flex;\n  align-items: center;\n}\n.pay-money .left {\n  display: flex;\n  align-items: center;\n  padding-left: 0.32rem;\n  height: 0.88rem;\n  box-sizing: border-box;\n  flex: 1;\n  border-top: 0.02rem solid #e4e4e4;\n  font-size: 0.28rem;\n  color: rgba(51, 51, 51, 1);\n  line-height: 0.4rem;\n}\n.final-pay {\n  color: $themeOrange;\n  font-size: 0.32rem;\n  line-height: 0.38rem;\n}\n.pay-money .right {\n  width: 2.2rem;\n  height: 0.88rem;\n  font-size: 0.28rem;\n  color: rgba(255, 255, 255, 1);\n  line-height: 0.88rem;\n  text-align: center;\n  background: $themeColor;\n}\n.pay-type-container {\n  margin-top: 0.16rem;\n  padding-left: 0.32rem;\n  padding-right: 0.32rem;\n  background-color: #fff;\n}\n.right {\n  img.more {\n    padding-left: 0.22rem;\n    width: 0.12rem;\n    height: 0.16rem;\n  }\n}\n\n.dialog-container{\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left:0;\n  right:0;\n  display: flex;\n  z-index: 888;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  .bg{\n    position: absolute;\n    width:100%;\n    height: 100%;\n    background-color: #111;\n    opacity: 0.8;\n  }\n  .dialog{\n    background-color: #fff;\n    border-radius: 0.2rem;\n    min-height: 1rem;\n    width: 4.76rem;\n    height: 3.42rem;\n  }\n}\n.dialog-container.hidden{\n    // visibility:hidden;\n    top:-100rem;\n    left:-100rem;\n    right:100rem;\n    bottom:100rem;\n    // position:absolute;\n    // top:-10000px;\n    .bg{\n      visibility:hidden;\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1f8b427e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=1f8b427e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f8b427e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"captcha-dialog-page\"},[_c('div',{staticClass:\"close-btn\",on:{\"click\":_vm.close}},[_c('img',{staticClass:\"close\",attrs:{\"src\":(_vm.$cdnImageUrl + \"/order/home_common_control-close.png\"),\"alt\":\"\"}})]),_vm._m(0),_c('div',{staticClass:\"des\"},[_vm._v(_vm._s(_vm.desc))]),_c('div',{staticClass:\"input-field flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],ref:\"inputSMS\",staticClass:\"password-input\",attrs:{\"inputmode\":\"search\"},domProps:{\"value\":(_vm.inputValue)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value},_vm.change]}}),_c('div',{staticClass:\"get-messge\",style:({color:_vm.color}),on:{\"click\":_vm.resend}},[_vm._v(\" \"+_vm._s(_vm.canResendMSG?'重新获取验证码':(_vm.farToResend + \"s后获取\")))])]),_c('div',{staticClass:\"divider\"}),(_vm.phone)?_c('div',{staticClass:\"phone\"},[_vm._v(\"验证码已发送至\"+_vm._s(_vm.isBankPhone ? '银行预留' : '')+\"手机号\"+_vm._s(_vm.phone))]):_vm._e(),_c('div',{staticClass:\"btn-area\",style:({\"background-color\":_vm.inputValue.length===6?\"#2878FF\":\"#dddddd\"}),on:{\"click\":_vm.sumitCaptcha}},[_vm._v(\" 确定 \")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"title-name\"},[_vm._v(\"身份校验\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"captcha-dialog-page\">\n    <div class=\"close-btn\" @click=\"close\"><img class=\"close\" :src=\"`${$cdnImageUrl}/order/home_common_control-close.png`\" alt=\"\"></div>\n    <div class=\"title\" >\n      <div class=\"title-name\">身份校验</div>\n    </div>\n    <div class=\"des\">{{desc}}</div>\n    <div class=\"input-field flex\">\n      <input inputmode=\"search\" ref='inputSMS' class=\"password-input\"  @input=\"change\" v-model='inputValue'>\n      <div class=\"get-messge\" :style=\"{color:color}\" @click='resend'> {{canResendMSG?'重新获取验证码':`${farToResend}s后获取`}}</div>\n    </div>\n    <div class=\"divider\"></div>\n    <div class=\"phone\" v-if=\"phone\">验证码已发送至{{isBankPhone ? '银行预留' : ''}}手机号{{phone}}</div>\n    <div @click=\"sumitCaptcha\" :style='{\"background-color\":inputValue.length===6?\"#2878FF\":\"#dddddd\"}' class=\"btn-area\">\n      确定\n    </div>\n  </div>\n</template>\n<script>\n\nexport default {\n  props: {\n    show: {\n      type: Boolean,\n    },\n    preGetTime: {\n      type: Number,\n    },\n    desc: {\n      type: String,\n      default: () => ''\n    },\n    isBankPhone: { // 手机号是否是银行预留手机号\n      type: Boolean,\n      default: () => true\n    },\n    phone: {\n      type: String,\n      defalut: () => ''\n    }\n  },\n  data() {\n    return {\n      inputValue: '',\n      now: null,\n      fdInterval: null,\n    }\n  },\n  computed: {\n    color() {\n      return this.canResendMSG ? '#2878FF' : '#999'\n    },\n    farToResend() {\n      // if (!this.now || !this.preGetTime) {\n      //   return 60;\n      // }\n      if (Number(this.now - this.preGetTime) < 0) {\n        return 60;\n      }\n      return (this.now - this.preGetTime) >= 60000 ? 0 : (60 - Number((this.now - this.preGetTime) / 1000).toFixed(0));\n    },\n    canResendMSG() {\n      return this.farToResend === 0;\n    }\n  },\n  watch: {\n    show: {\n      handler: function(newvalue, ov) {\n        if (newvalue) {\n          this.now = Date.now();\n          this.fdInterval = setInterval(() => {\n            this.now = Date.now();\n          }, 1000);\n          // const that = this;\n          this.$nextTick(() => {\n            this.$refs.inputSMS.focus();\n          })\n        } else {\n          if (this.fdInterval) clearInterval(this.fdInterval)\n        }\n      },\n      immediate: true\n    },\n  },\n  created() {\n    this.now = Date.now();\n    this.fdInterval = setInterval(() => {\n      this.now = Date.now();\n    }, 1000);\n  },\n  mounted() {\n  },\n  destroyed() {\n    if (this.fdInterval) clearInterval(this.fdInterval)\n  },\n  methods: {\n    resend() {\n      this.$emit('resend');\n    },\n    change(e) {\n      console.log(e.keyCode);\n      this.inputValue = this.inputValue.replace(/[^\\d]/g, '');\n      this.inputValue = this.inputValue.replace('e', '');\n      console.log(this.inputValue);\n      if (this.inputValue.length > 6) this.inputValue = this.inputValue.slice(0, 6)\n    },\n    /**\n     * @description 放弃权益直接提交\n     */\n    sumitCaptcha() {\n      console.log('submit');\n      if (this.inputValue.length < 6) { return }\n      this.$emit('submit', this.inputValue)\n      this.inputValue = '';\n    },\n    /**\n     * @description 返回，联系客服\n     */\n    close() {\n      this.$emit('close')\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.flex{\n  display: flex;\n}\n.captcha-dialog-page{\n  .close-btn{\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 1rem;\n    height: 1rem;\n  }\n  .close{\n    position: absolute;\n    right:0.32rem;\n    top:0.32rem;\n    display: inline-block;\n    width: 0.4rem;\n    height: 0.4rem;\n  }\n  position: relative;\n  padding: 0.32rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-direction: column;\n  .title{\n    .title-name{\n      font-size: 0.32rem;\n      color: #333333;\n      line-height: .44rem;\n    }\n  }\n  .des{\n    margin-top: 0.24rem;\n    font-size: 0.24rem;\n    color: #333333;\n    line-height: .34rem;\n  }\n  .input-field{\n    // border-bottom:0.02rem solid #eee;\n    padding: 0.2rem;\n    // box-sizing: border-box;\n    .password-input{\n      font-size: 0.28rem;\n      line-height: 0.4rem;\n      -webkit-appearance: none;\n      -moz-appearance: textfield;\n    }\n    .get-messge{\n      font-size: 0.24rem;\n      line-height: 0.4rem;\n      color:#2878ff;\n      word-wrap: none;\n      white-space: nowrap;\n    }\n  }\n  .divider{\n    height: 0.02rem;\n    background-color:#eee;\n    width: 100%;\n  }\n\n  .phone{\n    width: 100%;\n    padding-top: .24rem;\n    font-size: .2rem;\n    color: #999;\n  }\n\n  .btn-area{\n    width: 4.76rem;\n    height: 0.76rem;\n    border-radius: 0.38rem;\n    background-color: #2878FF;\n    line-height: 0.76rem;\n    color:#fff;\n    text-align: center;\n    margin-top: 0.48rem;\n  }\n\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=11a4f73d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=11a4f73d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11a4f73d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=11a4f73d&lang=scss&scoped=true&\""],"sourceRoot":""}