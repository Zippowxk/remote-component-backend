(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61859a35"],{4662:function(t,i,s){"use strict";s("68ef"),s("a71a"),s("9d70"),s("3743"),s("09fe"),s("4d75"),s("e3b3"),s("8270"),s("786d"),s("504b")},5967:function(t,i,s){"use strict";var o=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"container"},[s("div",{staticClass:"goods-info-info-wrap",on:{click:t.fnShowInfo}},[s("div",{staticClass:"content",on:{click:function(t){t.stopPropagation()}}},[s("img",{staticClass:"close",attrs:{alt:"",src:t.$cdnImageUrl+"/common/control-close.png"},on:{click:t.fnShowInfo}}),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"head"},[s("div",{staticClass:"head-box"},[s("div",{staticClass:"left"},[s("div",{staticClass:"img-box",on:{click:function(i){return t.fnPreviewImage(t.productInfo.pic)}}},[s("img",{attrs:{alt:"",src:t._f("imageToHttps")(t.productInfo?t.productInfo.pic:"")}})])]),s("div",{staticClass:"right"},[s("div",{staticClass:"jq"},[t.priceInfo&&t.priceInfo.minOriginPrice&&t.priceInfo.maxOriginPrice&&9===t.btnType?s("span",{staticClass:"price-range"},[s("span",[s("span",{staticClass:"yuan"},[t._v("¥")]),s("span",{staticClass:"rmb"},[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.priceInfo.minOriginPrice))))]),s("span",{staticClass:"float-number"},[t._v("."+t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.priceInfo.minOriginPrice))))])]),s("div",{staticClass:"price-devider"}),s("span",[s("span",[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.priceInfo.maxOriginPrice))))]),s("span",{staticClass:"float-number"},[t._v("."+t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.priceInfo.maxOriginPrice))))])])]):t.priceInfo&&t.priceInfo.minPrice&&t.priceInfo.maxPrice&&9!==t.btnType?s("span",{staticClass:"price-range"},[s("span",[s("span",{staticClass:"yuan"},[t._v("￥")]),s("span",{staticClass:"rmb yuan-int"},[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.priceInfo.minPrice))))]),s("span",{staticClass:"float-number"},[t._v("."+t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.priceInfo.minPrice))))])]),s("div",{staticClass:"price-devider"}),s("span",[s("span",[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.priceInfo.maxPrice))))]),s("span",{staticClass:"float-number"},[t._v("."+t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.priceInfo.maxPrice))))])])]):t.priceInfo&&(t.priceInfo.actualPrice||0===t.priceInfo.actualPrice)?s("span",[s("span",{staticClass:"yuan"},[t._v("￥")]),s("span",{staticClass:"rmb yuan-int"},[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(4===t.btnType||9===t.btnType?t.priceInfo.originPrice:t.priceInfo.actualPrice))))]),s("span",{staticClass:"dot-after"},[t._v("."+t._s(t._f("formatPriceFloat")(t._f("formatPrice")(4===t.btnType||9===t.btnType?t.priceInfo.originPrice:t.priceInfo.actualPrice))))])]):t._e()]),t.getGoodsUseCouponInfo&&t.getGoodsUseCouponInfo.voucherLen&&"sheng"==t.getGoodsUseCouponInfo.type&&this.baseInfo.showCoupons?s("p",{staticClass:"price-quan"},[t._v("预计到手价"+t._s(t.getGoodsUseCouponInfo.price.toFixed(2)))]):t._e(),t.priceInfo&&t.priceInfo.minPlusPrice&&t.priceInfo.maxPlusPrice&&t.isShowMemberPrice?s("div",{staticClass:"member-price"},[s("span",[t._v("¥"+t._s(t._f("formatPrice")(t.priceInfo.minPlusPrice))+"-"+t._s(t._f("formatPrice")(t.priceInfo.maxPlusPrice)))]),s("img",{attrs:{src:"//cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/plus.png"}})]):t.priceInfo&&t.priceInfo.plusPrice&&t.isShowMemberPrice?s("div",{staticClass:"member-price"},[s("span",[t._v("¥"+t._s(t._f("formatPrice")(t.priceInfo.plusPrice)))]),s("img",{attrs:{src:"//cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/plus.png"}})]):t._e(),t.displayCommission&&(t.priceInfo.commission||t.priceInfo.bounty)?s("div",{staticClass:"commission-w",on:{click:function(i){return t.$emit("showCommissionInfo")}}},[s("commission-label",{attrs:{commission:t.priceInfo.maxCommission?t.priceInfo.maxCommission:t.priceInfo.commission,bounty:t.priceInfo.bounty,more:t.priceInfo&&t.priceInfo.maxCommission}})],1):t._e(),!t.baseInfo.showStockNum||3===t.btnType||!t.productInfo.price&&0!==t.productInfo.price||t.sgStockInfo.bookable?t._e():s("div",{staticClass:"kc"},[t._v("库存"+t._s(t.showStockNum)+"件")]),s("div",{staticClass:"yx"},[t._v(t._s(t.attrSelected))])])])]),s("div",{staticClass:"scroll-view goods-info-info-wrap-content"},[s("div",{staticClass:"content-detail"},[t._l(t.attrsMap,(function(i,o){return s("div",{key:o,staticClass:"content-detail-inner",class:o===Object.keys(t.attrsMap).length-1?"__last":""},[s("div",{staticClass:"content-detail-inner-tit"},[t._v(t._s(i[0].attrName))]),s("div",{staticClass:"content-detail-inner-list"},t._l(i,(function(i){return s("div",{key:i.id,staticClass:"content-detail-inner-item",class:{active:t.isSelected(i.sgAttribute.id),disable:!t.isEnable(i.sgAttribute.id,o)},on:{click:function(s){return t.handleSelectedAttr(i.sgAttribute.id,o,i)}}},[t._v(" "+t._s(i.sgAttribute.attrValueName)+" ")])})),0)])})),s("div",{staticClass:"content-detail-inner1"},[s("div",{staticClass:"left"},[t._v("数量"),t.activityLimitFlag?s("span",{staticClass:"limit"},[t._v("限购"+t._s(t.activityInfo.purchase.purchaseNum)+"件,还可购买"+t._s(t.activityInfo.purchase.canBuyNum)+"件")]):t._e()]),s("div",{staticClass:"right"},[s("div",{staticClass:"customer-stepper"},[s("div",{class:{"reduce-icon-gray":t.goodsNum<=1,"reduce-icon":t.goodsNum>1},on:{click:t.reduce}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsNum,expression:"goodsNum"}],staticClass:"num-input",attrs:{type:"number",disabled:t.disabsedInput,min:t.minGoodsNum,max:t.maxGoodsNum},domProps:{value:t.goodsNum},on:{change:t.fnChangeProductNumber,input:function(i){i.target.composing||(t.goodsNum=i.target.value)}}}),s("div",{class:{"plus-icon-gray":t.plusIconGray,"plus-icon":!t.plusIconGray},on:{click:t.plus}})])])]),s("div",{staticClass:"iouc-container"},[t._m(0),t.ioucInfo&&t.ioucInfo.costInfo?s("div",{staticClass:"iouc-content"},t._l(t.ioucInfo.costInfo,(function(i,o){return s("div",{key:o,staticClass:"iouc-item"},[s("span",{staticClass:"price"},[t._v("￥"+t._s(i.eachPrinAndFee)+" × "+t._s(i.num)+"期")]),s("span",{staticClass:"fee"},[t._v(t._s(i.fee)+"服务费")])])})),0):t._e()])],2)]),s("div",{staticClass:"btn-container",class:{disabled:t.notSaleStatus||t.activityDisabledFlag}},[t.notSaleStatus?[s("div",{staticClass:"btn-List-tow"},[t._m(1),s("div",{staticClass:"confirm-btn",class:{orange:!(t.activityInfo&&70===t.activityInfo.activityType)&&t.getGoodsUseCouponInfo&&t.getGoodsUseCouponInfo.voucherLen&&"sheng"==t.getGoodsUseCouponInfo.type}},[s("span",[t._v(t._s(t.checkCouponIsAllGet?"立即购买":"领券购买"))]),t.getGoodsUseCouponInfo&&t.getGoodsUseCouponInfo.voucherLen&&"sheng"==t.getGoodsUseCouponInfo.type?s("h6",[t._v("到手价"+t._s(t.getGoodsUseCouponInfo.price.toFixed(2)))]):t._e()])])]:t.attrLength<t.attrsMap.length?[s("div",{staticClass:"confirm-btn",on:{click:t.attrUnSelectToast}},[s("span",[t._v("确定")])])]:[t.isShowNoStockBtn?[s("div",{staticClass:"confirm-btn yellow",on:{click:t.fnArrivalNotice}},[s("span",[t._v("到货通知")])])]:[11===t.btnType?[s("div",{staticClass:"btn-List-tow"},[s("div",{staticClass:"confirm-btn",on:{click:t.fullBuy}},[s("div",{staticClass:"origin-price"},[s("span",[t._v("¥")]),t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.priceInfo.minOriginPrice||t.priceInfo.originPrice||0)))),s("span",{staticClass:"right"},[t._v("."+t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.priceInfo.minOriginPrice||t.priceInfo.originPrice||0))))])]),s("span",{staticClass:"text"},[t._v("原价购买")])]),t.hasActivityStock?s("div",{staticClass:"confirm-btn",staticStyle:{"background-color":"#FF5252"},on:{click:t.confirm}},[s("div",{staticClass:"origin-price"},[s("span",[t._v("¥")]),t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.priceInfo.minPrice||t.priceInfo.actualPrice||0)))),s("span",{staticClass:"right"},[t._v("."+t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.priceInfo.minPrice||t.priceInfo.actualPrice||0))))])]),s("span",{staticClass:"text"},[t._v("拼团购买")])]):[s("div",{staticClass:"confirm-btn yellow",on:{click:t.fnArrivalNotice}},[s("span",[t._v("到货通知")])])]],2)]:t._e(),0===t.btnType||1===t.btnType||9===t.btnType||10===t.btnType?s("div",{staticClass:"confirm-btn",on:{click:t.confirm}},[s("span",[t._v("确定")])]):t._e(),2!==t.btnType&&(!t.sgStockInfo||t.sgStockInfo.hasStock||t.attrLength!==t.attrsMap.length||t.parentBookable||t.sgStockInfo.bookable)||t.notSaleStatus?t._e():s("div",{staticClass:"confirm-btn yellow",on:{click:t.confirm}},[s("span",[t._v("到货通知")])]),8===t.btnType?s("div",{staticClass:"confirm-btn zise",on:{click:t.confirm}},[s("span",[t._v("立即预约")])]):t._e(),3===t.btnType?s("div",{staticClass:"confirm-btn green",on:{click:t.confirm}},[s("span",[t._v("马上预定")])]):t._e(),4===t.btnType?s("div",{staticClass:"confirm-btn full",on:{click:t.confirm}},[s("span",[t._v("原价购买")])]):t._e(),5===t.btnType?s("div",{staticClass:"confirm-btn zise",on:{click:t.confirm}},[s("span",[1!==t.activityInfo.deposit?s("span",[t._v("￥"+t._s(t._f("formatPrice")(t.priceInfo.actualPrice?t.priceInfo.actualPrice:0)))]):t._e(),t._v(t._s(1===t.activityInfo.deposit?"支付订金":"订金支付"))])]):t._e(),6===t.btnType?s("div",{staticClass:"btn-List-tow"},[t.baseInfo.supportCart?s("div",{staticClass:"confirm-btn yellow",on:{click:t.addCart}},[s("span",[t._v("加入购物车")])]):t._e(),s("div",{staticClass:"confirm-btn",class:{orange:!(t.activityInfo&&70===t.activityInfo.activityType)&&t.getGoodsUseCouponInfo&&t.getGoodsUseCouponInfo.voucherLen&&"sheng"==t.getGoodsUseCouponInfo.type},on:{click:t.buy}},[s("span",[t._v(t._s(t.activityInfo&&70===t.activityInfo.activityType?"立即抢购":t.checkCouponIsAllGet?"立即购买":"领券购买"))]),t.getGoodsUseCouponInfo&&t.getGoodsUseCouponInfo.voucherLen&&"sheng"==t.getGoodsUseCouponInfo.type?s("h6",[t._v("到手价"+t._s(t.getGoodsUseCouponInfo.price.toFixed(2)))]):t._e()])]):t._e(),7===t.btnType?s("div",{staticClass:"btn-List-tow"},[s("div",{staticClass:"confirm-btn full",on:{click:t.fullBuy}},[s("span",[t._v("原价购买")])]),s("div",{staticClass:"confirm-btn zise",on:{click:t.depositBuy}},[s("span",[1!==t.activityInfo.deposit?s("span",[t._v("￥"+t._s(t._f("formatPrice")(t.priceInfo.actualPrice?t.priceInfo.actualPrice:0)))]):t._e(),t._v(t._s(1===t.activityInfo.deposit?"支付订金":"订金支付"))])])]):t._e()]]],2)])])])])},n=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"header"},[s("div",{staticClass:"title"},[s("span",{staticClass:"title-text"},[t._v("白条")]),s("span",{staticClass:"title-info"},[t._v("（打白条请到支付页面）")])]),s("div",{staticClass:"tip"},[s("div",{staticClass:"tip-icon"}),s("span",{staticClass:"tip-text"},[t._v("6期免息")])])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"confirm-btn yellow"},[s("span",[t._v("加入购物车")])])}],e=(s("4662"),s("28a2")),c=s("2f62");function a(t,i){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=f(t))||i&&t&&"number"===typeof t.length){s&&(t=s);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,c=!0,a=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return c=t.done,t},e:function(t){a=!0,e=t},f:function(){try{c||null==s["return"]||s["return"]()}finally{if(a)throw e}}}}function r(t){return h(t)||l(t)||f(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,i){if(t){if("string"===typeof t)return d(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?d(t,i):void 0}}function l(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t){if(Array.isArray(t))return d(t)}function d(t,i){(null==i||i>t.length)&&(i=t.length);for(var s=0,o=new Array(i);s<i;s++)o[s]=t[s];return o}function m(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),s.push.apply(s,o)}return s}function p(t){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?m(Object(s),!0).forEach((function(i){g(t,i,s[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))}))}return t}function g(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}var v=function(){return s.e("chunk-0c525e4c").then(s.bind(null,"116e"))},I={components:{commissionLabel:v},props:["sgAttribute","sgStoreAttribute","productNumber","checkCouponIsAllGet","getGoodsUseCouponInfo","checkedAttr","sgStockInfo","stepperNum","ioucInfo","btnType","hasSubProduct","activityInfo","attrLength","priceInfo","parentBookable","notSaleStatus","baseInfo","products","limitSkku"],data:function(){return{goodsNum:1,productInfo:{},checkedAttrIdsArr:[],checkedAttrIdsStr:"",attrName:"",filterAttrs:[],originAttrs:[],attrsMap:[],priceArr:[],newSgStockInfo:{},maxPrice:0,minPrice:0,checkedAttrTypeArr:[],isShowMemberPrice:this.$util.isShowMemberPrice()}},mounted:function(){this.initializationCheck(),this.hasSubProduct&&(this.goodsNum=this.checkedAttr?1:0)},computed:p(p({},Object(c["d"])("mymanage",["displayCommission"])),{},{attrSelected:function(){return this.attrName.length>28?this.attrName.slice(0,28)+"...":this.attrName},plusIconGray:function(){return this.activityLimitFlag?this.goodsNum>=this.activityInfo.purchase.canBuyNum:this.activityInfo&&this.activityInfo.stock>0?this.goodsNum>=this.activityInfo.stock:this.sgStockInfo.limitNum?this.sgStockInfo.bookable||this.parentBookable||this.products&&this.products.isNoLimitStockProduct?this.goodsNum>=Math.min(this.sgStockInfo.limitNum,500):this.goodsNum>=Math.min(this.sgStockInfo.stockNum,this.sgStockInfo.limitNum,500):this.sgStockInfo.bookable||this.parentBookable||this.products&&this.products.isNoLimitStockProduct||this.sgStockInfo.bookable||this.parentBookable?this.goodsNum>=500:this.goodsNum>=Math.min(this.sgStockInfo.stockNum,500)},activityLimitFlag:function(){return 4!==this.btnType&&9!==this.btnType&&this.activityInfo&&this.activityInfo.purchase&&null!==this.activityInfo.purchase.canBuyNum&&null!==this.activityInfo.purchase.purchaseNum},activityDisabledFlag:function(){return this.activityLimitFlag&&0===this.activityInfo.purchase.canBuyNum},minGoodsNum:function(){return this.activityDisabledFlag||this.productInfo&&!this.sgStockInfo.bookable&&0===this.productInfo.stockNum?0:1},maxGoodsNum:function(){var t=0;return t=this.activityLimitFlag?this.activityInfo.purchase.canBuyNum:this.sgStockInfo&&this.sgStockInfo.bookable||this.products&&this.products.isNoLimitStockProduct?Math.min(this.sgStockInfo.limitNum||1/0,500):Math.min(this.sgStockInfo.stockNum,this.sgStockInfo.limitNum||1/0,500),t},disabsedInput:function(){return this.activityDisabledFlag||this.productInfo&&0===this.productInfo.stockNum&&!this.sgStockInfo.bookable&&!(this.products&&this.products.isNoLimitStockProduct)},showStockNum:function(){var t=0;return t=-1!==[10,11].indexOf(this.btnType)&&this.activityInfo&&(this.activityInfo.stock||0===this.activityInfo.stock)?this.activityInfo.stock:this.sgStockInfo?this.sgStockInfo.stockNum:0,t},hasActivityStock:function(){return this.activityInfo&&this.activityInfo.stock>0||null===this.activityInfo.stock&&this.sgStockInfo&&this.sgStockInfo.hasStock},isShowNoStockBtn:function(){return this.activityInfo&&0===this.activityInfo.stock&&-1!==[10,11].indexOf(this.btnType)&&this.sgStockInfo&&!this.sgStockInfo.hasStock||this.sgStockInfo&&!this.sgStockInfo.hasStock&&!this.parentBookable&&!this.sgStockInfo.bookable&&!this.notSaleStatus}}),filters:{formatPriceInt:function(t){return t.split(".")[0]},formatPriceFloat:function(t){return t.split(".")[1]}},watch:{activityLimitFlag:function(){this.fnChangeProductNumber()},productNumber:function(t){this.goodsNum=t},activityDisabledFlag:{handler:function(t){this.goodsNum=t?0:1},immediate:!0},sgStoreAttribute:{handler:function(t,i){this.originAttrs=t,this.checkedAttr&&(this.checkedAttrIdsStr=this.checkedAttr),this.checkedAttrIdsArr=this.checkedAttrIdsStr.split(",").map((function(t){return parseInt(t)})),this.combineProductInfo()},immediate:!0},priceInfo:{handler:function(t,i){this.hasSubProduct&&this.attrLength===this.attrsMap.length&&this.productInfo.price!==t.actualPrice&&(this.productInfo.price=t.actualPrice)},deep:!0},sgAttribute:{handler:function(t,i){for(var s in this.attrsMap=[],t){var o=t[s];this.attrsMap.push(o)}console.log("attrsMap:"),console.log(this.attrsMap)},immediate:!0},checkedAttrIdsArr:{handler:function(t,i){var s=this,o=[];this.checkedAttrTypeArr=[],t.forEach((function(t,i){s.attrsMap[i].forEach((function(i){i.sgAttribute.id===t&&(o.push(i.sgAttribute.attrValueName),s.checkedAttrTypeArr.push(i.attrName))}))})),this.attrName=o.join(","),this.$emit("attrNameChange",this.attrName)}},sgStockInfo:{deep:!0,handler:function(t,i){this.productInfo.stockNum=t.stockNum,(t.stockNum>0||this.sgStockInfo.bookable||this.parentBookable||this.products&&this.products.isNoLimitStockProduct)&&!this.activityDisabledFlag?0===this.goodsNum&&(this.goodsNum=1):this.goodsNum=0}}},methods:{fnArrivalNotice:function(){this.notSaleStatus||this.$emit("fnArrivalNotice")},reduce:function(){this.activityDisabledFlag||(this.goodsNum=0===this.goodsNum?0:this.goodsNum-1,this.fnChangeProductNumber())},plus:function(){this.plusIconGray||(this.goodsNum=this.goodsNum>=500?500:this.goodsNum+1,this.fnChangeProductNumber())},initializationCheck:function(){var t=this,i=[];this.checkedAttrIdsArr.forEach((function(s,o){t.attrsMap[o].forEach((function(t){t.sgAttribute.id===s&&i.push(t.sgAttribute.attrValueName)}))})),this.attrName=i.join(","),this.$emit("attrNameChange",this.attrName)},isEnable:function(t,i){var s=r(this.checkedAttrIdsArr),o=r(this.originAttrs);s.forEach((function(t,s){s!==i&&t&&(o=o.filter((function(i,s){return-1!==i.attrValueIds.indexOf(t)})))}));var n,e=a(o);try{for(e.s();!(n=e.n()).done;){var c=n.value;if(this.sgStockInfo.bookable){if(-1!==c.attrValueIds.indexOf(t))return!0}else{if(!this.hasSubProduct)return!0;if(-1!==c.attrValueIds.indexOf(t)&&c.num&&c.num>0){if(!this.limitSkku)return!0;if(-1!==this.limitSkku.indexOf(c.skku))return!0}}}}catch(u){e.e(u)}finally{e.f()}return!1},isSelected:function(t){return-1!==this.checkedAttrIdsArr.indexOf(t)},handleSelectedAttr:function(t,i,s){if(this.hasSubProduct&&this.isEnable(t,i)){var o=this.isSelected(t)?null:t;this.$set(this.checkedAttrIdsArr,i,o),this.combineProductInfo(),this.goodsNum=1,this.$emit("changeGoodsNumber",this.goodsNum),this.$emit("fnSelectAttribute",this.productInfo),this.$emit("changeAttribute",s)}},attrUnSelectToast:function(){var t=this;if(!this.notSaleStatus&&!this.activityDisabledFlag&&this.checkedAttrTypeArr.length<this.attrsMap.length){var i=[];this.attrsMap.forEach((function(s){-1===t.checkedAttrTypeArr.indexOf(s[0].attrName)&&i.push(s[0].attrName)})),this.$toast("请选择 ".concat(i.join(",")))}},combineProductInfo:function(){this.checkedAttrIdsStr=this.checkedAttrIdsArr.join(","),this.productInfo={};var t,i=(this.checkedAttrIdsStr||"").split(",").sort().join(","),s=a(this.originAttrs);try{for(s.s();!(t=s.n()).done;){var o=t.value,n=(o.attrValueIds||"").split(",").sort().join(",");if(i===n){this.productInfo=o,!this.productInfo.price&&0!==this.productInfo.price||"NaN"===this.productInfo.price?this.priceArr=["0"]:this.priceArr=(parseFloat(this.productInfo.price).toFixed(2)+"").split(".");break}}}catch(e){s.e(e)}finally{s.f()}this.productInfo.price?this.$emit("priceValue",this.productInfo.price):(this.$emit("priceValue",""),this.hasSubProduct&&(this.productInfo={pic:this.originAttrs[0].pic}))},fnShowInfo:function(){this.$emit("fnShowInfo")},fnPreviewImage:function(t){var i=[t];Object(e["a"])({images:i,startPosition:0,onClose:function(){}})},fnChangeProductNumber:function(t){this.checkNumber(),this.$emit("fnChangeProductNumber",this.goodsNum)},checkNumber:function(){if(this.goodsNum<1&&!this.activityDisabledFlag)this.goodsNum=1;else if(this.activityLimitFlag)this.goodsNum=this.goodsNum>this.maxGoodsNum?this.maxGoodsNum:this.goodsNum;else if(this.activityInfo&&this.activityInfo.stock>0)this.goodsNum>this.activityInfo.stock&&(this.goodsNum=this.activityInfo.stock);else if(this.sgStockInfo&&this.sgStockInfo.limitNum)if(this.sgStockInfo.bookable||this.parentBookable||this.products&&this.products.isNoLimitStockProduct){var t=Math.min(this.sgStockInfo.limitNum||1/0,500);this.goodsNum>t&&(this.goodsNum=t,this.$toast("为了您的购物体验，当前商品一次购买数量不超过".concat(t)))}else{var i=Math.min(this.sgStockInfo.stockNum,this.sgStockInfo.limitNum||1/0,500);this.goodsNum>i&&(this.goodsNum=i,this.$toast("为了您的购物体验，当前商品一次购买数量不超过".concat(i)))}else if(this.sgStockInfo.bookable||this.parentBookable||this.products&&this.products.isNoLimitStockProduct){var s=500;this.goodsNum>s&&(this.goodsNum=s)}else{var o=Math.min(this.sgStockInfo.stockNum,500);this.goodsNum>o&&(this.goodsNum=o)}},fnAddCart:function(){this.notSaleStatus||this.activityDisabledFlag||this.$emit("fnAddCart")},fnGoBuy:function(){this.notSaleStatus||this.activityDisabledFlag||this.$emit("fnGoBuy")},confirm:function(){this.notSaleStatus||this.activityDisabledFlag||(this.goodsNum>0&&this.attrSelected||2===this.btnType)&&this.$emit("attrConfirm",this.goodsNum)},addCart:function(){this.notSaleStatus||this.activityDisabledFlag||this.goodsNum>0&&this.attrSelected&&this.$emit("addCart")},buy:function(){this.notSaleStatus||this.activityDisabledFlag||this.goodsNum>0&&this.attrSelected&&this.$emit("buy")},depositBuy:function(){this.notSaleStatus||this.activityDisabledFlag||this.goodsNum>0&&this.attrSelected&&this.$emit("depositBuy")},fullBuy:function(){this.notSaleStatus||this.activityDisabledFlag||this.goodsNum>0&&this.attrSelected&&this.$emit("fullBuy")}}},b=I,y=(s("e44f"),s("d0f1"),s("2877")),k=Object(y["a"])(b,o,n,!1,null,"92bfee4e",null);i["a"]=k.exports},"5ef5":function(t,i,s){},a55c:function(t,i,s){},d0f1:function(t,i,s){"use strict";s("5ef5")},e44f:function(t,i,s){"use strict";s("a55c")}}]);
//# sourceMappingURL=chunk-61859a35.57bb15c1.js.map