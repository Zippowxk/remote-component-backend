{"version":3,"sources":["webpack:///./src/http/service/change-address.js","webpack:///./src/components/addrChooseList/components/change-geographic-location.vue?7453","webpack:///src/components/addrChooseList/components/change-geographic-location.vue","webpack:///./src/components/addrChooseList/components/change-geographic-location.vue?5c23","webpack:///./src/components/addrChooseList/components/change-geographic-location.vue?1246","webpack:///./src/components/addrChooseList/components/change-geographic-location.vue?b7d3"],"names":["changeGeographicLocation","params","http","request","url","GET_PROVINCE_LIST","method","getRegionByStoreOwnerIdAndReType","GET_PROVINCE_LIST_BY_STOREOWNERID","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","stopPropagation","preventDefault","directives","name","rawName","value","expression","attrs","$cdnImageUrl","closeAndBack","_v","_s","title","closeModal","provinceClick","provinceData","text","_e","cityClick","cityData","areaClick","areaData","list","length","_l","i","k","key","cityListClick","staticRenderFns","props","data","showLoading","location","show","windowHeight","province","city","area","clickNum","townData","firstValue","secondValue","methods","hideParent","removeHidden","chooseCurrent","onlyread","localStorage","setItem","latitude","longitude","provinceId","cityId","districtId","townshipId","aId","setLocationInfo","setLoaction","$emit","getLocation","storeId","parentId","regionType","a","storeOwnerId","resetLocation","region","district","township","getLatLongByLocationInfo","locationInfo","then","res","$store","dispatch","mounted","c","beforeDestroy","component"],"mappings":"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","file":"js/chunk-20178db3.1a190241.js","sourcesContent":["/**\n * 示例文件\n * 可单独封装接口请求方法\n * 文件根据相应功能模块语义化命名\n * 导出至'@/http/index'\n */\nimport http from '../http'\nimport url from '../url'\n\n// 获取省市区街道\nexport const changeGeographicLocation = (params) => {\n  return http.request({\n    url: url.GET_PROVINCE_LIST,\n    method: 'get',\n    params\n  })\n}\n\n// 获取授权范围内省市区街道\nexport const getRegionByStoreOwnerIdAndReType = (params) => {\n  return http.request({\n    url: url.GET_PROVINCE_LIST_BY_STOREOWNERID,\n    method: 'get',\n    params\n  })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"address\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"top\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"title\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowBack),expression:\"isShowBack\"}],attrs:{\"src\":(_vm.$cdnImageUrl + \"/common/control-back.png\"),\"alt\":\"\"},on:{\"click\":_vm.closeAndBack}}),_vm._v(\" \"+_vm._s(_vm.title?_vm.title:\"配送至\")+\" \"),_c('img',{attrs:{\"src\":(_vm.$cdnImageUrl + \"/common/control-close.png\"),\"alt\":\"\"},on:{\"click\":_vm.closeModal}})]),_c('div',{staticClass:\"change\"},[(_vm.province)?_c('span',{on:{\"click\":_vm.provinceClick}},[_vm._v(_vm._s(_vm.provinceData.text))]):_vm._e(),(_vm.city)?_c('span',{on:{\"click\":_vm.cityClick}},[_vm._v(_vm._s(_vm.cityData.text))]):_vm._e(),(_vm.area)?_c('span',{on:{\"click\":_vm.areaClick}},[_vm._v(_vm._s(_vm.areaData.text))]):_vm._e(),_c('span',{staticClass:\"placeChange\"},[_vm._v(\"请选择\")])])]),(_vm.list.length > 6)?_c('div',{staticClass:\"bottom\"},[(_vm.showLoading)?_c('van-loading',{staticClass:\"loadingClass\",attrs:{\"vertical\":\"\"}},[_vm._v(\"加载中...\")]):_vm._e(),_vm._l((_vm.list),function(i,k){return _c('div',{key:k,staticClass:\"address-item\",on:{\"click\":function($event){return _vm.cityListClick(i)}}},[_vm._v(_vm._s(i.text))])})],2):_c('div',{staticClass:\"bottom\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[(_vm.showLoading)?_c('van-loading',{staticClass:\"loadingClass\",attrs:{\"vertical\":\"\"}},[_vm._v(\"加载中...\")]):_vm._e(),_vm._l((_vm.list),function(i,k){return _c('div',{key:k,staticClass:\"address-item\",on:{\"click\":function($event){return _vm.cityListClick(i)}}},[_vm._v(_vm._s(i.text))])})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box\">\n    <!-- <van-popup v-model=\"show\" position=\"bottom\" @close=\"closeModal\" @click=\"closeModal\" :style=\"{height:'9.6rem'}\"> -->\n      <div class=\"address\" @click.stop>\n        <div class=\"top\" @touchmove.prevent>\n          <div class=\"title\">\n           <img v-on:click=\"closeAndBack\" v-show=\"isShowBack\" :src=\"`${$cdnImageUrl}/common/control-back.png`\" alt=\"\" />\n            {{title?title:\"配送至\"}}\n          <img v-on:click=\"closeModal\" :src=\"`${$cdnImageUrl}/common/control-close.png`\" alt=\"\" />\n          </div>\n          <div class=\"change\">\n            <span @click=\"provinceClick\" v-if=\"province\">{{ provinceData.text }}</span>\n            <span @click=\"cityClick\" v-if=\"city\">{{ cityData.text }}</span>\n            <span @click=\"areaClick\" v-if=\"area\">{{ areaData.text }}</span>\n            <span class=\"placeChange\">请选择</span>\n          </div>\n        </div>\n        <div class=\"bottom\" v-if=\"list.length > 6\">\n          <van-loading v-if=\"showLoading\" class=\"loadingClass\" vertical>加载中...</van-loading>\n          <div class=\"address-item\" @click=\"cityListClick(i)\" v-for=\"(i, k) in list\" :key=\"k\">{{ i.text }}</div>\n        </div>\n        <div class=\"bottom\" @touchmove.prevent v-else>\n          <van-loading v-if=\"showLoading\" class=\"loadingClass\" vertical>加载中...</van-loading>\n          <div class=\"address-item\" @click=\"cityListClick(i)\" v-for=\"(i, k) in list\" :key=\"k\">{{ i.text }}</div>\n        </div>\n      </div>\n    <!-- </van-popup> -->\n  </div>\n</template>\n\n<script>\nimport { mapMutations, mapActions } from 'vuex'\nimport { changeGeographicLocation, getRegionByStoreOwnerIdAndReType } from '@/http/service/change-address'\n\n/**\n * 选择地址弹窗\n * 使用标签<change-geographic-location>\n * 关闭回调 onHide\n * 选择位置回调 handleLocation\n */\nexport default {\n  props: ['onlyread', 'isShowBack', 'storeId', 'title'], // onlyread 只读属性 不修改store不进行localStroage存储\n  data() {\n    return {\n      showLoading: false,\n      location: null, // 定位信息\n      show: true,\n      list: [], // 城市数据存放\n      windowHeight: '', // 获取屏幕高度\n      province: false, // 控制省点击出现后的盒子\n      provinceData: '', // 存放省的点击内容\n      city: false, // 控制城市点击出现后的盒子\n      cityData: '', // 存放城市的点击内容\n      area: false, // 控制区点击出现的盒子\n      areaData: false, // 存放区的点击内容\n      clickNum: 0, // 计算点击次数\n      townData: '', // 存放镇的点击内容\n      firstValue: 0, // 存放第一次点击的当前数据的id\n      secondValue: 0, // 存放第二次点击的当前数据的id\n    }\n  },\n  methods: {\n    ...mapMutations(['setLocationInfo', 'setLoaction']),\n    ...mapActions(['getLatLongByLocationInfo']),\n    hideParent(e) {\n      // document.body.classList.add('van-overflow-hidden')\n      // document.documentElement.style.overflow = 'hidden'\n    },\n    removeHidden(e) {\n      // document.body.classList.remove('van-overflow-hidden')\n      // document.documentElement.style.overflow = 'auto'\n    },\n    /**\n     * 选择定位地址\n     */\n    chooseCurrent() {\n      if (this.location) {\n        if (!this.onlyread) {\n          localStorage.setItem('latitude', this.location.latitude)\n          localStorage.setItem('longitude', this.location.longitude)\n          localStorage.setItem('provinceId', this.location.provinceId)\n          localStorage.setItem('cityId', this.location.cityId)\n          localStorage.setItem('districtId', this.location.districtId)\n          localStorage.setItem('townshipId', this.location.townshipId)\n          this.location.aId = ''\n          // localStorage.setItem('location', JSON.stringify(this.location));\n          this.setLocationInfo(this.location)\n          this.setLoaction({\n            latitude: this.location.latitude,\n            longitude: this.location.longitude\n          })\n        }\n        this.$emit('handleLocation', this.location)\n      } else {\n        this.getLocation()\n      }\n    },\n    /**\n     * @description 关闭弹窗\n     */\n    closeModal() {\n      this.$emit('onHide')\n    },\n    /**\n     * @description 返回上层\n     */\n    closeAndBack() {\n      this.$emit('closeAndBack')\n    },\n    /**\n     * @description 点击城市列表后显示的省级盒子点击事件\n     * @params 传递初始化的获取列表的参数\n     */\n    provinceClick() {\n      this.showLoading = true\n      this.list = []\n      if (this.storeId) {\n        getRegionByStoreOwnerIdAndReType({ parentId: 0, regionType: 1, storeOwnerId: this.storeId })\n          .then(res => {\n            this.province = false // 自己关闭\n            this.city = false // 城市按钮关闭\n            this.area = false // 区按钮关闭\n            this.clickNum = 0 // 点击技术清零\n            this.showLoading = false\n            if (res.status === 200) {\n              this.list = res.data.data\n            } else {\n              this.$toast('请求失败，请重试')\n            }\n          })\n          .catch(res => {\n            this.$toast('请求失败，请重试')\n          })\n      } else {\n        changeGeographicLocation({ parentId: 0, regionType: 0 })\n          .then(res => {\n            this.province = false // 自己关闭\n            this.city = false // 城市按钮关闭\n            this.area = false // 区按钮关闭\n            this.clickNum = 0 // 点击技术清零\n            this.showLoading = false\n            if (res.status === 200) {\n              this.list = res.data.data\n            } else {\n              this.$toast('请求失败，请重试')\n            }\n          })\n          .catch(res => {\n            this.$toast('请求失败，请重试')\n          })\n      }\n    },\n    /**\n     * @description 点击城市列表后显示的市级盒子点击事件\n     * @params 传递初始化的获取列表的参数\n     */\n    cityClick() {\n      this.showLoading = true\n      this.list = []\n      if (this.storeId) {\n        getRegionByStoreOwnerIdAndReType({ parentId: this.firstValue, regionType: 2, storeOwnerId: this.storeId })\n          .then(res => {\n            this.city = false // 自己关闭\n            this.area = false // 区按钮关闭\n            this.clickNum = 1\n            this.showLoading = false\n            if (res.status === 200) {\n              this.list = res.data.data\n            } else {\n              this.$toast('请求失败，请重试')\n            }\n          })\n          .catch(res => {\n            this.$toast('请求失败，请重试')\n          })\n      } else {\n        changeGeographicLocation({ parentId: this.firstValue, regionType: 1 })\n          .then(res => {\n            this.city = false // 自己关闭\n            this.area = false // 区按钮关闭\n            this.clickNum = 1\n            this.showLoading = false\n            if (res.status === 200) {\n              this.list = res.data.data\n            } else {\n              this.$toast('请求失败，请重试')\n            }\n          })\n          .catch(res => {\n            this.$toast('请求失败，请重试')\n          })\n      }\n    },\n    /**\n     * @description 点击城市列表后显示的某区的盒子点击事件\n     * @params 传递初始化的获取列表的参数\n     */\n    areaClick() {\n      this.showLoading = true\n      this.list = []\n      if (this.storeId) {\n        getRegionByStoreOwnerIdAndReType({ parentId: this.secondValue, regionType: 3, storeOwnerId: this.storeId })\n          .then(res => {\n            this.clickNum = 2\n            this.area = false // 自己消失\n            this.showLoading = false\n            if (res.status === 200) {\n              this.list = res.data.data\n            } else {\n              this.$toast('请求失败，请重试')\n            }\n          })\n          .catch(res => {\n            this.$toast('请求失败，请重试')\n          })\n      } else {\n        changeGeographicLocation({ parentId: this.secondValue, regionType: 2 })\n          .then(res => {\n            this.clickNum = 2\n            this.area = false // 自己消失\n            this.showLoading = false\n            if (res.status === 200) {\n              this.list = res.data.data\n            } else {\n              this.$toast('请求失败，请重试')\n            }\n          })\n          .catch(res => {\n            this.$toast('请求失败，请重试')\n          })\n      }\n    },\n    /**\n     * @description 城市列表的点击事件，\n     * @params {boolean} 根据点击计数判断当前的点击事件，进行不同的存值，获取数据\n     */\n    cityListClick(i) {\n      this.showLoading = true\n      if (this.clickNum === 0) {\n        this.provinceData = i\n        this.list = []\n        const a = {\n          parentId: i.value,\n          regionType: 1,\n        }\n        this.firstValue = i.value\n        if (this.storeId) {\n          a.regionType = 2\n          a.storeOwnerId = this.storeId\n          getRegionByStoreOwnerIdAndReType(a)\n            .then(res => {\n              this.showLoading = false\n              if (res.status === 200) {\n                this.list = res.data.data\n              } else {\n                this.$toast('请求失败，请重试')\n              }\n            })\n            .catch(res => {\n              this.$toast('请求失败，请重试')\n            })\n        } else {\n          changeGeographicLocation(a)\n            .then(res => {\n              this.showLoading = false\n              if (res.status === 200) {\n                this.list = res.data.data\n              } else {\n                this.$toast('请求失败，请重试')\n              }\n            })\n            .catch(res => {\n              this.$toast('请求失败，请重试')\n            })\n        }\n        this.province = true\n        this.clickNum++\n      } else if (this.clickNum === 1) {\n        this.list = []\n        this.cityData = i\n        if (this.storeId) {\n          getRegionByStoreOwnerIdAndReType({ parentId: i.value, regionType: 3, storeOwnerId: this.storeId })\n            .then(res => {\n              this.showLoading = false\n              if (res.status === 200) {\n                this.list = res.data.data\n              } else {\n                this.$toast('请求失败，请重试')\n              }\n            })\n            .catch(res => {\n              this.$toast('请求失败，请重试')\n            })\n        } else {\n          changeGeographicLocation({ parentId: i.value, regionType: 2 })\n            .then(res => {\n              this.showLoading = false\n              if (res.status === 200) {\n                this.list = res.data.data\n              } else {\n                this.$toast('请求失败，请重试')\n              }\n            })\n            .catch(res => {\n              this.$toast('请求失败，请重试')\n            })\n        }\n        this.secondValue = i.value\n        this.city = true\n        this.clickNum++\n      } else if (this.clickNum === 2) {\n        this.list = []\n        this.area = true\n        this.areaData = i\n        if (this.storeId) {\n          getRegionByStoreOwnerIdAndReType({ parentId: i.value, regionType: 4, storeOwnerId: this.storeId })\n            .then(res => {\n              this.showLoading = false\n              if (res.status === 200) {\n                this.list = res.data.data\n              } else {\n                this.$toast('请求失败，请重试')\n              }\n              if (res.data.data.length === 0) {\n                this.clickNum = 0\n                this.resetLocation()\n              }\n            })\n            .catch(res => {\n              this.$toast('请求失败，请重试')\n            })\n        } else {\n          changeGeographicLocation({ parentId: i.value, regionType: 3 })\n            .then(res => {\n              this.showLoading = false\n              if (res.status === 200) {\n                this.list = res.data.data\n              } else {\n                this.$toast('请求失败，请重试')\n              }\n              if (res.data.data.length === 0) {\n                this.clickNum = 0\n                this.resetLocation()\n              }\n            })\n            .catch(res => {\n              this.$toast('请求失败，请重试')\n            })\n        }\n        this.clickNum++\n      } else if (this.clickNum === 3) {\n        this.list = []\n        this.townData = i\n        this.clickNum = 0\n\n        this.resetLocation()\n      }\n    },\n    /**\n     * 切换全局地理定位\n     */\n    resetLocation() {\n      let locationInfo = {\n        region: `${this.provinceData.text} ${this.cityData.text} ${this.areaData.text} ${this.townData.text}`,\n        provinceId: this.provinceData.value,\n        province: this.provinceData.text,\n        cityId: this.cityData.value,\n        city: this.cityData.text,\n        districtId: this.areaData.value,\n        district: this.areaData.text,\n        townshipId: this.townData.value,\n        township: this.townData.text,\n      }\n\n      this.getLatLongByLocationInfo(locationInfo).then(res => {\n        if (res === 400) {\n          this.$toast('根据位置信息获取经纬度失败')\n        } else {\n          locationInfo.latitude = res.latitude;\n          locationInfo.longitude = res.longitude;\n          locationInfo.aId = '';\n\n          if (!this.onlyread) {\n            localStorage.setItem('latitude', res.latitude)\n            localStorage.setItem('longitude', res.longitude)\n            localStorage.setItem('provinceId', locationInfo.provinceId)\n            localStorage.setItem('cityId', locationInfo.cityId)\n            localStorage.setItem('districtId', locationInfo.districtId)\n            localStorage.setItem('townshipId', locationInfo.townshipId)\n            // localStorage.setItem('location', JSON.stringify(locationInfo));\n            // localStorage.setItem('aId', '');\n            this.setLocationInfo(locationInfo)\n            this.setLoaction(res)\n          }\n\n          this.$emit('handleLocation', locationInfo)\n        }\n      })\n    },\n    /**\n     * @description 从store获取经纬度和地理位置\n     */\n    getLocation() {\n      this.$store.dispatch('doLocation', true).then(res => {\n        if (res === 400) {\n          this.$toast('定位失败，请自行选择位置信息')\n        } else {\n          this.$store.dispatch('doLocationInfo', { latitude: res.latitude, longitude: res.longitude, noStore: true, force: true }).then(result => {\n            this.location = result\n            this.location.aId = ''\n          })\n        }\n      })\n    },\n  },\n  mounted() {\n    this.hideParent()\n    this.showLoading = true\n    /**\n     * @description 初次渲染拿到所有城市列表数据\n     * @params 请求参数\n     */\n    const c = {\n      parentId: 0,\n      regionType: 0,\n    }\n    if (this.storeId) {\n      c.regionType = 1\n      c.storeOwnerId = this.storeId\n      getRegionByStoreOwnerIdAndReType(c)\n        .then(res => {\n          this.showLoading = false\n          if (res.status === 200) {\n            this.list = res.data.data\n          } else {\n            this.$toast('请求失败，请重试')\n          }\n        })\n        .catch(res => {\n          this.$toast('请求失败，请重试')\n        })\n    } else {\n      changeGeographicLocation(c)\n        .then(res => {\n          this.showLoading = false\n          if (res.status === 200) {\n            this.list = res.data.data\n          } else {\n            this.$toast('请求失败，请重试')\n          }\n        })\n        .catch(res => {\n          this.$toast('请求失败，请重试')\n        })\n    }\n  },\n  beforeDestroy() {\n    this.removeHidden()\n  },\n}\n</script>\n\n<style scoped>\n.loadingClass {\n  z-index: 10000;\n  color: #1989fa;\n  position: absolute;\n  bottom: 2.5rem;\n  left: 3rem;\n}\n.gray {\n  background: rgba(15, 15, 15, 0.5);\n  width: 20rem;\n  z-index: 1;\n  position: fixed;\n  top: 0;\n  left: 0;\n}\n.address {\n  /* position: fixed; */\n  /* bottom: 0; */\n  /* left: 0; */\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 7.6rem;\n  /* z-index: 999; */\n  background: white;\n  text-align: left;\n}\n/* .top{\n  overflow: hidden;\n} */\n.top div {\n  height: 0.8rem;\n  line-height: 0.8rem;\n}\n.title {\n  position: relative;\n  font-size: 0.32rem;\n  line-height: 0.8rem;\n  color: #333333;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.title img:nth-child(2) {\n  position: absolute;\n  right: 0.24rem;\n  display: inline-block;\n  width: 0.4rem;\n  height: 0.4rem;\n  top: 0.16rem;\n}\n.title img:nth-child(1) {\n  position: absolute;\n  left: 0.24rem;\n  display: inline-block;\n  width: 0.4rem;\n  height: 0.4rem;\n  top: 0.16rem;\n}\n.change {\n  width: 100%;\n  width: auto;\n  white-space: nowrap;\n  padding-left: .48rem;\n  margin-top: .24rem;\n}\n\n.change span {\n  font-size: 0.28rem;\n  margin-right: 0.4rem;\n  display: inline-block;\n  /* width: 1.9rem; */\n}\n.change .placeChange {\n  font-size: 0.28rem;\n  /* color: #333333; */\n  /* border-bottom: 0.06rem solid #2283E2; */\n}\n.nowAddress {\n  position: relative;\n  padding-left: 0.4rem;\n  display: flex;\n  color: #2283e2;\n  flex-direction: row;\n  align-items: center;\n}\n.nowAddress img {\n  display: block;\n  position: absolute;\n  width: 0.24rem;\n  height: 0.28rem;\n}\n.nowAddress span {\n  margin-left: 0.35rem;\n  font-size: 0.28rem;\n}\n.bottom {\n  /* min-height: 5rem; */\n  width: 100%;\n  overflow-y: scroll;\n  top: 1.8rem;\n  bottom: 0;\n  position: absolute;\n}\n.bottom::-webkit-scrollbar {\n  width: 0;\n}\n.bottom::-moz-scrollbar {\n  widows: 0;\n}\n.bottom::-ms-scrollbar {\n  widows: 0;\n}\n.bottom::-o-scrollbar {\n  widows: 0;\n}\n.address-item {\n  padding-left: 0.48rem;\n  height: 0.8rem;\n  line-height: 0.8rem;\n  font-size: 0.28rem;\n}\n.bottom div:last-child {\n  margin-bottom: 0.18rem;\n}\n.change span{\n  color: #2283E2;\n}\n.box {\n    /* position: fixed;\n    bottom: 0;\n    left: 0; */\n    width: 100%;\n    z-index: 2560;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change-geographic-location.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change-geographic-location.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./change-geographic-location.vue?vue&type=template&id=cfe9643a&scoped=true&\"\nimport script from \"./change-geographic-location.vue?vue&type=script&lang=js&\"\nexport * from \"./change-geographic-location.vue?vue&type=script&lang=js&\"\nimport style0 from \"./change-geographic-location.vue?vue&type=style&index=0&id=cfe9643a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cfe9643a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change-geographic-location.vue?vue&type=style&index=0&id=cfe9643a&scoped=true&lang=css&\""],"sourceRoot":""}