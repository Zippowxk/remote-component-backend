(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59dea2cf"],{1040:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"answer-tab"},[n("span",{class:{active:1==t.curTab},on:{click:function(e){return t.changeTab(1)}}},[t._v("我的提问 "+t._s(t.questionCount))]),n("span",{class:{active:2==t.curTab},on:{click:function(e){return t.changeTab(2)}}},[t._v("我的回答 "+t._s(t.answerCount))])]),t.list.length?n("div",{staticClass:"answer-list"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e){return n("div",{key:e.questionId,staticClass:"answer-item"},[n("div",{staticClass:"item-shop",on:{click:function(n){return t.goDetail(e.productId)}}},[n("img",{attrs:{src:e.defaultImageUrl,alt:""}}),n("div",{staticClass:"shop-info"},[n("h4",[t._v(t._s(e.productFullName))])])]),n("div",{staticClass:"item-question",on:{click:function(n){return t.goAnswerDetail(e)}}},[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/question.png",alt:""}}),n("div",[n("h5",[t._v(t._s(e.question))]),n("p",[1==t.curTab?n("span",[t._v(t._s(e.createTime||e.answerTime)+" "+t._s(e.answerCount)+"个回答")]):2==t.curTab?n("span",[t._v(t._s(e.nickName)+": "+t._s(e.answer))]):t._e(),n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return n.stopPropagation(),t.doDelete(e)}}},[t._v("删除"),n("i")])])])])])})),0)],1):t._e(),!t.list.length&&t.finished?n("AnswerEmpty"):t._e()],1)},i=[],r=n("791f"),a=n("85e4"),o=n("2f62");function c(t){return g(t)||f(t)||l(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function g(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={name:"goodsanswermine",components:{AnswerEmpty:r["a"]},data:function(){return{curTab:1,curPage:1,pageSize:20,list:[],loading:!1,finished:!1,questionCount:"",answerCount:""}},computed:p({},Object(o["d"])(["mId"])),activated:function(){this.resetInit()},methods:p(p({},Object(o["e"])("answerArea",["setQuestionInfo"])),{},{getMyQuestionAnswer:function(){var t=this;Object(a["O"])().then((function(e){var n=e.result;t.questionCount=n.questionCount,t.answerCount=n.answerCount}))},resetInit:function(){this.curPage=1,this.list=[],this.loading=!1,this.finished=!1,1===this.curTab?this.getPageMemberQuestion():2===this.curTab&&this.getPageMemberAnswer(),this.getMyQuestionAnswer()},changeTab:function(t){this.curTab=t,this.resetInit()},onLoad:function(){this.getPageMemberAnswer()},getPageMemberQuestion:function(){var t=this;this.loading=!0;var e={start:this.curPage,offset:this.pageSize,answerUserId:this.mId};Object(a["S"])(e).then((function(e){var n=e.result,s=e.success;s?(t.curPage+=1,t.loading=!1,t.list=[].concat(c(t.list),c(n)),t.finished=n.length<t.pageSize):(t.loading=!1,t.finished=!0)}))},getPageMemberAnswer:function(){var t=this;this.loading=!0;var e={start:this.curPage,offset:this.pageSize,answerUserId:this.mId};Object(a["R"])(e).then((function(e){var n=e.result,s=e.success;s?(t.curPage+=1,t.loading=!1,t.list=[].concat(c(t.list),c(n)),t.finished=n.length<t.pageSize):(t.loading=!1,t.finished=!0)}))},doDelete:function(t){var e=this;this.$dialog.confirm({message:"确定要删除吗?",confirmButtonText:"确定"}).then((function(){1===e.curTab?Object(a["A"])({questionId:t.questionId}).then((function(t){var n=t.success,s=t.message;n?(e.$toast("删除成功"),e.resetInit()):e.$toast(s)})):2===e.curTab&&Object(a["z"])({answerId:t.answerId,questionId:t.questionId}).then((function(t){var n=t.success,s=t.message;n?(e.$toast("删除成功"),e.resetInit()):e.$toast(s)}))}))},goDetail:function(t){this.$router.push("/goodsDetail?productId="+t)},goAnswerDetail:function(t){console.log(t,"goAnswerDetail"),this.setQuestionInfo(t),this.$router.push("/goodsAnswerDetail/"+t.questionId)}})},w=m,v=(n("f4b0"),n("3b16"),n("2877")),y=Object(v["a"])(w,s,i,!1,null,"18af2aa0",null);e["default"]=y.exports},"3b16":function(t,e,n){"use strict";n("7b39")},"507c":function(t,e,n){"use strict";n("7eb3")},"791f":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 1==t.type?n("div",{staticClass:"empty"},[n("img",{staticClass:"small",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/answer_empty.png",alt:""}}),n("p",[t._v("正在来回答的路上~")])]):n("div",{staticClass:"empty"},[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/tipImg.png",alt:""}}),n("p",[t._v("暂无问答")])])},i=[],r={name:"empty",props:["type"]},a=r,o=(n("507c"),n("2877")),c=Object(o["a"])(a,s,i,!1,null,"7ee40ae2",null);e["a"]=c.exports},"7b39":function(t,e,n){},"7eb3":function(t,e,n){},"973a":function(t,e,n){},f4b0:function(t,e,n){"use strict";n("973a")}}]);
//# sourceMappingURL=chunk-59dea2cf.92df0682.js.map