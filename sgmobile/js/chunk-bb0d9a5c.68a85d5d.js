(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb0d9a5c","chunk-079cb250"],{"1ecc":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.skeletonLoading?s("skeleton",{attrs:{nums:3}}):s("div",[s("van-pull-refresh",{staticClass:"content",attrs:{id:"BigBox"},on:{refresh:t.onRefresh},scopedSlots:t._u([{key:"pulling",fn:function(){return[s("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loosing",fn:function(){return[s("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loading",fn:function(){return[s("refreshLoading",{attrs:{text:"加载中"}})]},proxy:!0},{key:"success",fn:function(){return[s("refreshLoading",{attrs:{text:"加载完成"}})]},proxy:!0}]),model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.loading||0!==t.list.length?t._e():s("div",{staticClass:"no-data"},[s("img",{staticClass:"no-top",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/nodata.png"}}),s("div",{staticClass:"no-bottom"},[t._v("暂无订单")])]),s("van-list",{staticClass:"order-parent",attrs:{"van-clearfix":"",finished:t.finished,offset:t.offset},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("van-row",t._l(t.list,(function(e){return s("van-col",{key:e.num,staticClass:"order"},[s("div",{staticClass:"order-title"},[s("span",[t._v("订单编号：")]),s("span",[t._v(t._s(e.orderSn))])]),t._l(e.orderProducts,(function(o){return s("div",{key:o.orderSn,staticClass:"order-body",on:{click:function(s){return t.orderClick(o,e)}}},[o.orderRepairs?s("div",{staticClass:"order-details"},[s("div",{staticClass:"order-details-top"},[s("img",{staticClass:"shop-photo",attrs:{src:t._f("imageToHttps")(o.defaultImageUrl)}}),s("div",{staticClass:"shop-message"},[s("div",{staticClass:"message-left"},[s("div",{staticClass:"message-one"},[s("div",[t._v(t._s(o.productFullName||""))]),s("div",{staticClass:"message-one-two"},[t._v(t._s(o.productName))])])]),s("div",{staticClass:"message-right"},[s("div",{staticClass:"message-price"},[t._v("￥"+t._s(t.toFixedTwo(o.productAmount)))]),s("div",{staticClass:"message-num"},[t._v("×"+t._s(o.number))])])])]),s("div",{staticClass:"order-btn"},["STORE"!==o.stockType&&"O2O"!==o.stockType&&"SYN"!==o.stockType?s("div",{staticClass:"order-track",class:"STORE"===o.stockType||"O2O"===o.stockType||"SYN"===o.stockType?"order-track-right":"",on:{click:function(s){return s.stopPropagation(),t.toTrackingOrders(o,e)}}},[t._v("退款详情")]):t._e(),"STORE"===o.stockType||"O2O"===o.stockType||"SYN"===o.stockType?s("div",{staticClass:"track-content",on:{click:function(e){return e.stopPropagation(),t.toReturn(o)}}},[t._v("退款详情")]):t._e()])]):t._e()])}))],2)})),1)],1)],1)],1)},n=[],r=s("a73f"),a=s("d7a6"),i=s("d3c8"),c={name:"repair",components:{skeleton:r["a"],refreshLoading:a["default"]},beforeRouteLeave:function(t,e,s){var o=document.querySelector("#app-warp"),n=o?o.scrollTop:0;console.log("scrollTop",n),e.meta.scrollTop=n,s()},activated:function(){var t=this.$route.meta.scrollTop,e=document.querySelector("#app-warp");e&&this.$nextTick((function(){e.scrollTop=t}))},data:function(){return{skeletonLoading:!0,offset:100,loading:!1,finished:!1,isLoading:!1,scrollTop:0,pageIndex:0,pageSize:5,list:[]}},beforeRouteEnter:function(t,e,s){"mine"===e.name?s((function(t){t.pageIndex=0})):s()},mounted:function(){this.onLoad()},methods:{orderClick:function(t,e){t.orderRepairs&&("STORE"!==t.stockType&&"O2O"!==t.stockType&&"SYN"!==t.stockType?this.toTrackingOrders(t,e):this.toReturn(t))},toReturn:function(t){this.$router.push({path:"/details",query:{orderProductId:t.orderProductId}})},toTrackingOrders:function(t,e){this.$router.push({path:"/refundProcess",query:{orderProductId:t.orderProductId,memberId:e.memberId}})},onRefresh:function(){var t=this;i["a"].getOrderList({orderFlag:1,orderStatus:5,pageIndex:0,pageSize:5,keyword:""}).then((function(e){t.skeletonLoading=!1,t.isLoading=!1,t.list=e.data.data.orders}))},onLoad:function(){var t=this;this.$util.isHaierApp()?this.$store.dispatch("handleUpAuth").then((function(e){e?t.getList():t.$store.dispatch("doLogin")}))["catch"]((function(){t.$toast.fail("用户信息异常")})):this.getList()},toFixedTwo:function(t){var e=Number(t).toFixed(2);return e},getList:function(){var t=this,e={orderFlag:1,orderStatus:5,pageIndex:this.pageIndex,pageSize:5,keyword:""};i["a"].getOrderList(e).then((function(e){t.skeletonLoading=!1,e.data.success?(t.pageIndex=t.pageIndex+1,t.list=t.list.concat(e.data.data.orders),t.loading=!1,t.list.length>=e.data.data.countResult&&(t.finished=!0)):t.$toast.fail(e.data.data.message)}))}}},d=c,l=(s("51c0"),s("2877")),u=Object(l["a"])(d,o,n,!1,null,"2b82b258",null);e["default"]=u.exports},"347c":function(t,e,s){},"51c0":function(t,e,s){"use strict";s("c0ee")},"80cc":function(t,e,s){"use strict";s("347c")},8261:function(t,e,s){},a73f:function(t,e,s){"use strict";var o=function(t,e){var s=e._c;return e.props.nums>0?s("div",{staticClass:"m-skeleton",style:{"z-index":e.props.zIndex||0}},[s("div",{style:{background:e.props.bgColor,height:e.props.fheight}}),e._l(e.props.nums-1,(function(t){return s("div",{key:t,style:{background:e.props.bgColor,height:e.props.iheight}})}))],2):e._e()},n=[],r=(s("80cc"),s("2877")),a={},i=Object(r["a"])(a,o,n,!0,null,null,null);e["a"]=i.exports},c0ee:function(t,e,s){},d7a6:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"refresh-load"},[s("div",{staticClass:"spinner"},t._l(t.rectlist,(function(e){return s("div",{key:e,class:"rect"+e,style:{"background-color":t.color}})})),0),t.text?s("div",{staticClass:"spinner-text",style:{color:t.textColor}},[t._v(t._s(t.text))]):t._e()])},n=[],r={name:"refreshLoading",props:["text","color","textColor"],data:function(){return{rectlist:[1,2,3,4,5]}}},a=r,i=(s("ef69"),s("2877")),c=Object(i["a"])(a,o,n,!1,null,"9448457e",null);e["default"]=c.exports},ef69:function(t,e,s){"use strict";s("8261")}}]);
//# sourceMappingURL=chunk-bb0d9a5c.68a85d5d.js.map