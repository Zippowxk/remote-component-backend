{"version":3,"sources":["webpack:///./src/views/order/cashier/scan-middle.vue?3bd4","webpack:///./src/views/order/cashier/scan-middle.vue?9d05","webpack:///src/views/order/cashier/scan-middle.vue","webpack:///./src/views/order/cashier/scan-middle.vue?688a","webpack:///./src/views/order/cashier/scan-middle.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","formData","target","domProps","bizContent","staticClass","_f","$cdnImageUrl","_v","_s","errorMsg","_e","staticRenderFns","name","data","orderSn","errorShow","mounted","$route","params","fetchData","methods","$http","post","from","Date","now","console","log","result","success","document","getElementById","submit","component"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,WAAW,KAAO,mBAAmB,OAASN,EAAIO,SAASC,OAAO,OAAS,OAAO,OAAS,UAAU,CAACJ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,eAAeG,SAAS,CAAC,MAAQT,EAAIO,SAASG,gBAAiBV,EAAa,UAAEI,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMN,EAAIY,GAAG,eAAPZ,CAAwBA,EAAIa,aAAe,gCAAiC,IAAM,MAAMT,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,UAAY,mBAAmBhB,EAAIiB,QACxiBC,EAAkB,G,YCctB,GACEC,KAAM,aACNC,KAFF,WAGI,MAAO,CACLb,SAAU,GACVc,QAAS,GACTC,WAAW,EACXN,SAAU,KAGdO,QAVF,WAWItB,KAAKoB,QAAUpB,KAAKuB,OAAOC,OAAOJ,QAClCpB,KAAKyB,aAEPC,QAAS,CACPD,UADJ,WACA,WACA,4DACMzB,KAAK2B,MAAMC,KAAK,EAAtB,uBACQ,WAAc,EACd,aAAgB,EAChB,QAAW5B,KAAKoB,QAChB,aAAgB,MAChB,QAAW,YACX,UAAa,MACb,KAAQS,EACR,QAAWC,KAAKC,QACxB,kBACQ,IAAR,SACQC,QAAQC,IAAIC,EAAQ,UAChBA,EAAOC,SACT,EAAV,6BACU,EAAV,sBACYC,SAASC,eAAe,YAAYC,cAGtC,EAAV,aACU,EAAV,uBAnBA,UAqBA,YACQ,EAAR,aACQ,EAAR,4BCvDmX,I,wBCQ/WC,EAAY,eACd,EACAzC,EACAmB,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E","file":"js/chunk-610022a9.a2ee573a.js","sourcesContent":["export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scan-middle.vue?vue&type=style&index=0&id=e9137ec2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{attrs:{\"id\":\"pay_form\",\"name\":\"auto_submit_form\",\"action\":_vm.formData.target,\"method\":\"post\",\"target\":\"_self\"}},[_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"biz_content\"},domProps:{\"value\":_vm.formData.bizContent}})]),(_vm.errorShow)?_c('div',{staticClass:\"error\"},[_c('img',{attrs:{\"src\":_vm._f(\"imageToHttps\")((_vm.$cdnImageUrl + \"/personalCenter/feifa404.png\")),\"alt\":\"\"}}),_c('h2',[_vm._v(_vm._s(_vm.errorMsg || '系统繁忙，请稍后再试'))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <form id=\"pay_form\" name=\"auto_submit_form\" :action=\"formData.target\" method=\"post\" target=\"_self\">\n      <input type=\"hidden\" name=\"biz_content\" :value=\"formData.bizContent\" />\n    </form>\n    <div class=\"error\" v-if=\"errorShow\">\n      <img :src=\"`${$cdnImageUrl}/personalCenter/feifa404.png` | imageToHttps\" alt=\"\" />\n      <h2>{{errorMsg || '系统繁忙，请稍后再试'}}</h2>\n    </div>\n  </div>\n</template>\n\n<script>\nimport URL from '@/http/url'\n\nexport default {\n  name: 'scanmiddle',\n  data() {\n    return {\n      formData: {},\n      orderSn: '',\n      errorShow: false,\n      errorMsg: '',\n    }\n  },\n  mounted () {\n    this.orderSn = this.$route.params.orderSn\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      let from = this.$util.isAlipay() ? 'zfb' : this.$util.isWeixin() ? 'wx' : ''\n      this.$http.post(URL.TO_ORDER_PAY_NEW, {\n        'apiVersion': 1,\n        'checkoutType': 1,\n        'orderSn': this.orderSn,\n        'payPartnerId': '202',\n        'payType': 'aggre_pay',\n        'payTypeId': '506',\n        'from': from,\n        'tradeNo': Date.now(),\n      }).then(res => {\n        let result = res.data\n        console.log(result, 'result')\n        if (result.success) {\n          this.formData = result.data && result.data.data\n          this.$nextTick(() => {\n            document.getElementById('pay_form').submit()\n          })\n        } else {\n          this.errorShow = true\n          this.errorMsg = result.message;\n        }\n      }).catch(e => {\n        this.errorShow = true\n        this.errorMsg = '系统繁忙，请稍后再试';\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.error {\n  img {\n    width: 2.40rem;\n    height: 2.42rem;\n    margin: 4.2rem auto 0.4rem auto;\n  }\n\n  h2 {\n    font-size: 0.28rem;\n    font-weight: 400;\n    color: rgba(153,153,153,1);\n    text-align: center;\n  }\n\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scan-middle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scan-middle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./scan-middle.vue?vue&type=template&id=e9137ec2&scoped=true&\"\nimport script from \"./scan-middle.vue?vue&type=script&lang=js&\"\nexport * from \"./scan-middle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./scan-middle.vue?vue&type=style&index=0&id=e9137ec2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9137ec2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}