(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29dba227","chunk-2b4715e4"],{"1c84":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"toTop",staticClass:"content"},[t.skeletonLoading?s("skeleton",{attrs:{nums:3}}):s("div",[s("Header",{attrs:{leftClick:t.goBack,leftArrow:!t.$route.query.browerFirstIn}},[s("div",{staticClass:"order-search",class:{"order-search-left":t.$route.query.browerFirstIn},attrs:{slot:"title"},on:{click:t.toSearch},slot:"title"},[s("div",[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/home/new/search.png"}}),t._v("输入商品名、订单号、收货人、手机号搜索订单")])])]),s("div",{staticClass:"switch"},[s("div",{staticClass:"tab"},[s("div",{class:"0"===t.status&&"checked",staticStyle:{width:"0.8rem"},attrs:{id:"0"},on:{click:t.switchTabChange}},[t._v("全部")]),s("div",{class:"1"===t.status&&"checked",attrs:{id:"1"},on:{click:t.switchTabChange}},[t._v("待付款")]),s("div",{class:"2"===t.status&&"checked",attrs:{id:"2"},on:{click:t.switchTabChange}},[t._v("待发货")]),s("div",{class:"3"===t.status&&"checked",attrs:{id:"3"},on:{click:t.switchTabChange}},[t._v("待收货")]),s("div",{class:"4"===t.status&&"checked",attrs:{id:"4"},on:{click:t.switchTabChange}},[t._v("待评价")])])]),s("van-pull-refresh",{on:{refresh:t.onRefresh},scopedSlots:t._u([{key:"pulling",fn:function(){return[s("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loosing",fn:function(){return[s("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loading",fn:function(){return[s("refreshLoading",{attrs:{text:"加载中"}})]},proxy:!0},{key:"success",fn:function(){return[s("refreshLoading",{attrs:{text:"加载完成"}})]},proxy:!0}]),model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.list.length>0?s("van-list",{attrs:{finished:t.finished,finishedText:"","van-clearfix":"","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("List",{attrs:{parentData:t.list},on:{onRefreshParent:t.onRefresh}})],1):t._e(),t.finished&&0===t.list.length&&!t.isLoading?s("div",{staticClass:"no-data"},[4==t.status?s("img",{staticClass:"no-top",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/evaluate.png",alt:""}}):s("img",{staticClass:"no-top",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/nodata.png",alt:""}}),s("div",{staticClass:"no-bottom"},[t._v(" "+t._s("4"===t.status?"暂无待评价商品":"暂无订单")+" ")])]):t._e()],1),t.finished&&!t.loading?s("guessYouLike"):t._e()],1),s("top-feedBack",{attrs:{isShow:t.showToTopFlag,code:6},on:{hiddenFeedBack:t.hiddenFeedBack,toTop:t.fnScrollToTop}})],1)},o=[],a=s("a73f"),n=s("e725"),r=s("90dd"),c=s("40ca"),d=s("23d3"),l=s("d3c8"),u=s("3939"),h=function(){return Promise.all([s.e("chunk-3aea2a64"),s.e("chunk-0183282b")]).then(s.bind(null,"1c43"))},f=function(){return s.e("chunk-079cb250").then(s.bind(null,"d7a6"))},g={name:"orderListIndex",mixins:[d["a"]],components:{Header:n["a"],skeleton:a["a"],refreshLoading:f,List:u["a"],guessYouLike:h},data:function(){return{isUplus:this.$util.isUplus(),skeletonLoading:!0,list:[],error:!1,loading:!1,finished:!1,status:"0",pageIndex:-1,pageSize:5,keyword:"",orderFlag:1,isLoading:!1,more:!1,showModal:!1,showExchangeTips:!0,firstShow:!0}},activated:function(){var t=this;if(this.firstShow)this.firstShow=!1;else if(this.$route.meta.isBack){var e=this,s=e.$route.query;e.status=s.tagChecked?s.tagChecked.toString():"0",e.$util.isHaierApp()?e.$store.dispatch("handleUpAuth").then((function(s){console.log(s),s?e.onRefresh():t.$toast.fail("用户信息异常")})):e.onRefresh()}this.fnScroll()},beforeRouteEnter:function(t,e,s){"payState"===e.name||"success"===e.name||"b2bPay"===e.name||"cashier"===e.name||"mine"===e.name||"thridEvaluate"===e.name?t.meta.isBack=!0:t.meta.isBack=!1,s()},created:function(){var t=this.$route.query;this.status=t.tagChecked?t.tagChecked.toString():"0",t.otherOrder&&(this.orderFlag=2)},mounted:function(){var t=this,e=this;this.firstShow&&(e.$util.isHaierApp()?e.$store.dispatch("handleUpAuth").then((function(s){s?e.onRefresh():t.$store.dispatch("doLogin")})):e.onRefresh()),this.hideExchangeTag()},methods:{hideExchangeTag:function(){var t=this;setTimeout((function(){t.showExchangeTips=!1}),5e3)},goBack:function(){var t=this.$route.query;"h5"===t.from?this.router.push("/"):this.$store.dispatch("doHistoryBack")},onRefresh:function(){var t=this;t.pageIndex=0,t.loading=!1,t.finished=!0,t.isLoading=!0,t.getList()},onLoad:function(){var t=this;t.getList()},getList:function(){var t=this,e=this,s={pageIndex:e.pageIndex,pageSize:e.pageSize,orderStatus:e.status,keyword:e.keyword,orderFlag:e.orderFlag,chId:60};this.loading=!0,l["a"].getOrderList(s).then((function(s){var i=s.data;t.skeletonLoading=!1,0===e.pageIndex&&(e.list=[]),i.success?(i.data.orders.map((function(t,e){t.orderProducts.map((function(e,s){t.isReceived=!0,9!==e.status&&10!==e.status&&11!==e.status&&70!==e.status||(t.isReceived=!1)}))})),e.list=e.list.concat(i.data.orders),e.pageIndex+=1,e.finished=!1,e.loading=!1,e.isLoading&&(e.isLoading=!1),e.list.length>=i.data.countResult&&(e.finished=!0)):t.$toast.fail(i.message)}))},switchTabChange:function(t){var e=t.target.id,s=this;s.status=e,s.isLoading=!1,s.list=[],s.onRefresh()},toSearch:function(){var t=this;t.$router.push({path:"/orderSearch"})},doJfOrder:function(){var t=this;Object(r["a"])({redirectUri:"http://jf.haier.com/m/order/myOrderList.shtml?index=1",target:c["a"].JiFenTarget,targetTest:c["a"].JiFenTarget_test,redirectUriTest:"https://jftest.haier.com/m/order/myOrderList.shtml"}).then((function(e){var s=e.data;t.more=!1,s.success?location.href=s.data:t.$toast(s.message)}))},doMDOrder:function(){this.more=!1,this.$router.push("/storeOrderList")},doSTOrder:function(){this.more=!1,this.$util.openNewWindow("mpaas://foodEcological?targetUrl=exchangelist",!0,!0)},doHXOrder:function(){this.more=!1,this.$util.openNewWindow("mpaas://homedesign?needAuthLogin=1#/schemeList",!0,!0)}}},p=g,m=(s("5858"),s("2877")),v=Object(m["a"])(p,i,o,!1,null,"2b63cd0f",null);e["default"]=v.exports},"23d3":function(t,e,s){"use strict";var i=s("c63d");e["a"]={components:{topFeedBack:i["default"]},data:function(){return{showToTopFlag:!1}},activated:function(){this.fnScroll()},beforeRouteLeave:function(t,e,s){document.getElementById("app-warp").removeEventListener("scroll",this.addEventScrollFn),s()},beforeMount:function(){this.debouncedAction=this.$util.throttle(this.option,100)},methods:{fnScrollToTop:function(){this.scrollSmoothTo(0)},hiddenFeedBack:function(){this.showToTopFlag=!1},scrollSmoothTo:function(t){console.log("#app-warp scroll"),window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)});var e=document.querySelector("#app-warp"),s=e.scrollTop;console.log(s,"scrollTop");var i=function i(){var o=t-s;s+=o/10,Math.abs(o)<1?e.scrollTo(0,t):(e.scrollTo(0,s),requestAnimationFrame(i))};i()},fnScroll:function(){document.getElementById("app-warp").addEventListener("scroll",this.addEventScrollFn)},addEventScrollFn:function(t){this.debouncedAction(t)},option:function(t){var e=t.target.scrollTop;this.showToTopFlag=e>200}}}},"347c":function(t,e,s){},"40ca":function(t,e,s){"use strict";e["a"]={HZYTarget:"7a8a25a546646355c07a1b9c5bfbd9fb",HZYTarget_test:"7a8a25a546646355c07a1b9c5bfbd9fb",JiFenTarget:"4542349d17217cac9743761e45500184",JiFenTarget_test:"4542349d17217cacc8940de9925b82d15affba05d6537bab",LiveTarget:"abb43fe5ecadc8ae855ea95d171a6918",LiveTarget_test:"abb43fe5ecadc8ae855ea95d171a6918",ssUrlTarget:"0d3e477c75f5da4c7a8e2c00d794cd75",ssUrlTarget_test:"0d3e477c75f5da4cac599543e22b78aa16f46123fc726a2d",ccUrlTarget:"0d3e477c75f5da4c7a8e2c00d794cd75",ccUrlTarget_test:"0d3e477c75f5da4cac599543e22b78aa16f46123fc726a2d"}},"43ca":function(t,e,s){},"4b7d":function(t,e,s){"use strict";s("7fdc")},5858:function(t,e,s){"use strict";s("43ca")},"7fdc":function(t,e,s){},"80cc":function(t,e,s){"use strict";s("347c")},a73f:function(t,e,s){"use strict";var i=function(t,e){var s=e._c;return e.props.nums>0?s("div",{staticClass:"m-skeleton",style:{"z-index":e.props.zIndex||0}},[s("div",{style:{background:e.props.bgColor,height:e.props.fheight}}),e._l(e.props.nums-1,(function(t){return s("div",{key:t,style:{background:e.props.bgColor,height:e.props.iheight}})}))],2):e._e()},o=[],a=(s("80cc"),s("2877")),n={},r=Object(a["a"])(n,i,o,!0,null,null,null);e["a"]=r.exports},c63d:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isShow?s("div",{staticClass:"go-top",class:t.classList},[s("div",{staticClass:"top",on:{click:t.toGotop}},[s("img",{attrs:{src:t.$cdnImageUrl+"/common/common-to-top-icon.png"}}),s("span",[t._v("顶部")])]),t.isHaierApp&&t.feedShow?s("div",{staticClass:"divider"}):t._e(),t.isHaierApp&&t.feedShow?s("div",{staticClass:"bottom",on:{click:function(e){return t.toFeedBack()}}},[s("img",{attrs:{src:t.$cdnImageUrl+"/common/common-edit-icon.png"}}),s("span",[t._v("反馈")])]):t._e()]):t._e()},o=[],a={props:{isShow:{type:Boolean,default:function(){return!1}},classList:{type:Object,default:function(){return{}}},feedShow:{type:Boolean,default:function(){return!0}},code:{type:Number,default:function(){return null}}},data:function(){return{isHaierApp:!1,timer:null}},created:function(){this.isHaierApp=this.$util.isUplus()},watch:{isShow:{handler:function(t){var e=this;console.log(t),console.log("this.timer:",this.timer),t?this.timer?(clearTimeout(this.timer),this.timer=null):this.timer=setTimeout((function(){e.hiddenFeedBack()}),4e3):(clearTimeout(this.timer),this.timer=null)}}},methods:{hiddenFeedBack:function(){console.log("hiddenFeedBack"),this.$emit("hiddenFeedBack")},toGotop:function(){this.$emit("toTop")},toFeedBack:function(){if(this.$store.getters.getLoginStatus){var t="https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html";this.code&&(t="https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html?code="+this.code),this.$util.openNewWindow(t,!0,!1,!1)}else this.$store.dispatch("doLogin").then((function(t){400===t&&console.log("请求异常")}))}}},n=a,r=(s("4b7d"),s("2877")),c=Object(r["a"])(n,i,o,!1,null,"7733b653",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-29dba227.f07ba84f.js.map