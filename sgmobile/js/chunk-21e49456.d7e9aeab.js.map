{"version":3,"sources":["webpack:///./src/views/partners/settleInPartner.vue?87bd","webpack:///./src/components/skeleton/index.vue?62cb","webpack:///./src/components/skeleton/index.vue?3508","webpack:///./src/components/skeleton/index.vue?db06","webpack:///./src/views/partners/settleInPartner.vue?71db","webpack:///src/views/partners/settleInPartner.vue","webpack:///./src/views/partners/settleInPartner.vue?6118","webpack:///./src/views/partners/settleInPartner.vue","webpack:///./src/http/service/mine.js","webpack:///./src/http/service/partners.js"],"names":["render","_h","_vm","_c","props","nums","staticClass","style","zIndex","bgColor","height","fheight","_l","item","key","iheight","_e","staticRenderFns","script","component","this","$createElement","_self","attrs","$cdnImageUrl","_v","_s","isApplyPlatformPartner","index","title","value","checked","on","licenseChecked","doSubmit","components","skeleton","computed","info","affiliatedStore","list","utils","res","splice","employeeNumber","data","isSkeletonLoading","undefined","activated","$route","query","firstCheckPriority","methods","ihaierLogic","window","qing","call","success","that","userName","$toast","employee","sessionStorage","setItem","status","mobile","message","closeWebView","checkTrueNameAuth","$http","occupation","includes","identifyFlag","duration","checkPriority","clearTimeout","timer","history","length","back","_logout","$store","dispatch","then","setTimeout","localStorage","clear","location","href","fetchData","submitQuery","source","agreement","submitData","myManageinfo","noLogin","http","request","url","myManage","method","params","Date","now","getOrderCount","chId","getWallet","wallet","checkBindByType","getComminsionSumInfo","headers","getGoodsAmountList","getServiceCharge","getJobs","GET_JOBS","submitApplyInfo","applyResult","queryApplyInfo","bindWxAccount","queryMemberInfo","submitStandardMemberInfo","queryEmployeeInfo"],"mappings":"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","file":"js/chunk-21e49456.d7e9aeab.js","sourcesContent":["export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settleInPartner.vue?vue&type=style&index=0&id=28bb730a&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function (_h,_vm) {var _c=_vm._c;return (_vm.props.nums > 0)?_c('div',{staticClass:\"m-skeleton\",style:({'z-index': _vm.props.zIndex || 0})},[_c('div',{style:({'background': _vm.props.bgColor, height: _vm.props.fheight})}),_vm._l((_vm.props.nums - 1),function(item){return _c('div',{key:item,style:({'background': _vm.props.bgColor, 'height': _vm.props.iheight})})})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a0d47b2e&functional=true&\"\nvar script = {}\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isSkeletonLoading)?_c('skeleton',{attrs:{\"nums\":4,\"fheight\":\"4rem\",\"iheight\":\"2rem\"}}):[_c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"top\"},[_c('img',{attrs:{\"src\":(_vm.$cdnImageUrl + \"/partner/img.png\"),\"alt\":\"\"}}),_c('p',{staticClass:\"title1\"},[_vm._v(\"欢迎加入智家\"+_vm._s(_vm.isApplyPlatformPartner?\"平台\":\"店铺\")+\"合伙人\")]),_c('p',{staticClass:\"title2\"},[_vm._v(\"请确认身份信息\")])]),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(item.value))])])}),0),_c('div',{staticClass:\"box\"},[_c('van-checkbox',{attrs:{\"value\":_vm.checked},on:{\"click\":_vm.licenseChecked}}),_c('span',{staticClass:\"text\"},[_vm._v(\"同意\"),_c('router-link',{attrs:{\"to\":\"/documentInfo?id=1481&title=%E5%B9%B3%E5%8F%B0%E5%90%88%E4%BC%99%E4%BA%BA%E5%8D%8F%E8%AE%AE\"}},[_vm._v(\"《平台合伙人入驻协议》\")])],1)],1)]),_c('div',{staticClass:\"bottom\",on:{\"click\":_vm.doSubmit}},[_vm._v(\"确认\")])])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <skeleton v-if=\"isSkeletonLoading\"\n              :nums=\"4\"\n              fheight=\"4rem\"\n              iheight=\"2rem\"></skeleton>\n    <template v-else>\n      <!-- <Header :text=\"title\"></Header> -->\n      <div class=\"wrap\">\n        <div class=\"top\">\n          <img :src=\"`${$cdnImageUrl}/partner/img.png`\"\n               alt=\"\">\n          <p class=\"title1\">欢迎加入智家{{isApplyPlatformPartner?\"平台\":\"店铺\"}}合伙人</p>\n          <p class=\"title2\">请确认身份信息</p>\n        </div>\n        <div class=\"middle\">\n          <div class=\"list\">\n            <div class=\"item\"\n                 v-for=\"(item,index) in list\"\n                 :key=\"index\">\n              <div class=\"title\">{{item.title}}</div>\n              <div class=\"value\">{{item.value}}</div>\n            </div>\n          </div>\n          <div class=\"box\">\n            <van-checkbox :value='checked'\n                          @click=\"licenseChecked\"></van-checkbox>\n            <span class=\"text\">同意<router-link to=\"/documentInfo?id=1481&title=%E5%B9%B3%E5%8F%B0%E5%90%88%E4%BC%99%E4%BA%BA%E5%8D%8F%E8%AE%AE\">《平台合伙人入驻协议》</router-link></span>\n          </div>\n        </div>\n        <div class=\"bottom\"\n             @click=\"doSubmit\">确认</div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\n// import Header from '@/components/header'\nimport skeleton from '@/components/skeleton/index.vue'\nimport URL from '@/http/url.js'\n// import personalApiIndex from '@/http/service/index'\nimport { queryMemberInfo, submitStandardMemberInfo, queryEmployeeInfo } from '@/http/service/partners'\nimport { myManageinfo } from '@/http/service/mine'\nimport utils from '@/utils/utils'\n\nexport default {\n  components: {\n    // Header,\n    skeleton,\n  },\n  computed: {\n    isApplyPlatformPartner() {\n      if (this.info && !this.info.affiliatedStore) {\n        return true\n      }\n      return false\n    },\n    list() {\n      if (utils.isIhaierApp()) {\n        return [\n          {\n            title: '员工号',\n            value: this.employeeNumber || '',\n          },\n        ]\n      }\n      if (!this.info) {\n        return []\n      }\n      const res = [\n        {\n          title: '合伙人类型',\n          value: this.info.partnerTypeName || '',\n        },\n        {\n          title: '服务网点',\n          value: this.info.serviceNetwork || '',\n        },\n        {\n          title: '所在地区',\n          value: this.info.residentAddress ? this.info.residentAddress.fullAddress : '',\n        },\n      ]\n      if (this.isApplyPlatformPartner) {\n        res.splice(1, 0, {\n          title: '员工号',\n          value: this.info.employeeNumber || '',\n        })\n      } else {\n        res.splice(\n          1,\n          0,\n          {\n            title: '上岗证号',\n            value: this.info.employeeNumber || '',\n          },\n          {\n            title: '挂靠店铺码',\n            value: this.info.affiliatedStore || '',\n          }\n        )\n      }\n      return res\n    },\n  },\n  data() {\n    return {\n      title: '升级平台合伙人确认',\n      checked: false,\n      info: {},\n      isSkeletonLoading: true,\n      employeeNumber: undefined,\n    }\n  },\n  activated() {\n    // 检查实名认证\n    // 没有实名认证跳转（replace）实名认证页面 ，认证后回到当前逻辑\n    this.employeeNumber = this.$route.query.employeeNumber\n    this.firstCheckPriority()\n  },\n  methods: {\n    /**\n     * ihaier逻辑\n     */\n    ihaierLogic() {\n      const that = this\n      utils.loadScript('//i.haier.net/public/js/qing/latest/qing.js').then(() => {\n        // 获取个人信息\n        if (window.qing) {\n          try {\n            window.qing.call('getPersonInfo', {\n              success: function (res) {\n                that.isSkeletonLoading = false\n                if (res && res.data && res.data.userName) {\n                  that.employeeNumber = res.data.userName + ''\n                  if (!res.data.userName || that.employeeNumber === 0) {\n                    that.$toast('暂未获取到员工信息，稍后重试')\n                    // that.closeWebView(3000)\n                    return\n                  }\n                  // 在ihaier内保存手机号 限定登录\n                  // DSG-25912 保存到session中\n                  // status : 员工状态（1-在岗，2-不在岗，3-退休，4-离职，9-死亡）\n                  queryEmployeeInfo({ employeeNumber: that.employeeNumber }).then(res => {\n                    if (res.data.success && res.data.data.employee) {\n                      const { mobile, status } = res.data.data\n                      // if (status !== '1' && status !== 1) {\n                      //   that.$toast('非在职状态，暂时无法使用')\n                      //   that.closeWebView(3000)\n                      //   return\n                      // }\n                      sessionStorage.setItem('employee_status', status)\n                      sessionStorage.setItem('employee_phone', mobile)\n                      // if (mobile && mobile.length === 11) {\n                      //   sessionStorage.setItem('employee_phone', mobile)\n                      // } else {\n                      //   that.$toast('请先在E-HR人力资源信息网维护手机号')\n                      //   that.closeWebView(3000)\n                      // }\n                    } else {\n                      that.$toast(res.data.message)\n                      that.closeWebView(3000)\n                    }\n                  }).catch(e => console.log(e))\n                  // DSG-25815 限制使用智家掌柜的员工类型\n                  // const tenStart = ['88', '87', '91']\n                  const eightStart = ['A', 'Z', 'a', 'z']\n                  const c = i => that.employeeNumber.startsWith(i)\n                  if ((that.employeeNumber.length === 8 && eightStart.some(c)) || (that.employeeNumber.length === 10)) {\n                    that.$toast('暂不支持访问智家掌柜，可下载“智家掌柜”App')\n                    that.closeWebView(3000)\n                  }\n                } else {\n                  that.$toast('获取用户信息失败')\n                }\n              },\n            })\n          } catch (error) {\n            that.$toast('获取用户信息失败')\n          }\n        } else {\n          that.$toast('获取用户信息失败')\n        }\n      }).catch(e => {\n        this.$toast('加载iHaier SDK失败，请更新版本后重试')\n      })\n    },\n    /**\n     * 四要素认证\n     */\n    checkTrueNameAuth() {\n      this.$http\n        .get(`${URL.TRUE_REALNAMEAUTH}?_t=${Date.now()}`)\n        .then((res) => {\n          const result = res.data.data\n          if (result && result.isAuth) {\n            // 继续逻辑\n            this.checkPriority()\n          } else if (res.data.errorCode === '-100') {\n            // 登录\n            setTimeout(() => {\n              this.$store.dispatch('doLogin').then((res) => {})\n            }, 500)\n          } else {\n            // 跳转实名认证页\n            this.$router.replace('trueAuthentication?destination=settleInPartner')\n          }\n          // this.isSkeletonLoading = false;\n        })\n        .catch((e) => {\n          this.$toast(e.message)\n        })\n    },\n    /**\n     * @description 检查身份，如果满足身份则进入首页，不满足身份则\n     */\n    firstCheckPriority() {\n      if (!utils.isIMaker() && !utils.isIhaierApp()) { // 非iMarker和ihaier环境，直接toast提示\n        this.$toast('您可能享有特定权益，请前往特定App申请入驻')\n        return;\n      }\n      myManageinfo(null, false).then((res) => {\n        if (!res.data.success) {\n          this.$toast(res.data.message)\n          return\n        }\n        let data = res.data.data\n        const { identifyFlag, occupation } = data // occupation 99200:服务兵    99600:海尔员工\n        // 爱创客服务兵放行\n        if (occupation === 99200 && utils.isIMaker()) {\n          this.checkTrueNameAuth()\n          return\n        }\n        // ihaier 员工放行\n        if (occupation === 99600 && utils.isIhaierApp()) {\n          this.checkTrueNameAuth()\n          return\n        }\n        // 三种身份可以申请，其他情况不允许往下走\n        if ([0, 1, 31].includes(identifyFlag) || (identifyFlag > 20 && utils.isIMaker())) {\n          // 如果是ihaier则不调用接口，使用API获取的员工号\n          this.checkTrueNameAuth()\n        } else {\n          // 弹窗提示（请解绑）\n          if (identifyFlag > 20) {\n            this.$toast({\n              message: '您当前的身份为店铺合伙人，需要解绑后绑定为平台合伙人。解绑入口：联系商家解绑或是登录智家掌柜App申请解绑',\n              duration: 5000,\n            })\n          } else {\n            this.$toast({\n              message: `您的身份可能为商家或其他类型的会员身份，无法继续申请认证`,\n              duration: 5000,\n            })\n          }\n          if (utils.isIhaierApp() || utils.isIMaker()) {\n            this.closeWebView(5000)\n          }\n        }\n      })\n    },\n    /**\n     * @description 检查身份，如果满足身份则进入首页，不满足身份则\n     */\n    checkPriority() {\n      myManageinfo(null, true).then((res) => {\n        if (!res.data.success) {\n          this.$toast(res.data.message)\n          let timer = setTimeout(() => {\n            clearTimeout(timer)\n            if (history.length) {\n              history.back()\n            } else {\n              this.$router.replace('/?commissionDisplay=1')\n            }\n          }, 2000)\n          return\n        }\n        let data = res.data.data\n        const { identifyFlag, occupation } = data // occupation 99200:服务兵    99600:海尔员工\n        // 爱创客服务兵放行\n        if (occupation === 99200 && utils.isIMaker()) {\n          this.$router.replace('/?commissionDisplay=1')\n          return\n        }\n        // ihaier 员工放行\n        if (occupation === 99600 && utils.isIhaierApp()) {\n          this.$router.replace('/?commissionDisplay=1') // ihaier 员工展示佣金\n          return\n        }\n        // 三种身份可以申请，其他情况不允许往下走\n        if ([0, 1, 31].includes(identifyFlag) || (identifyFlag > 20 && utils.isIMaker())) {\n          // 如果是ihaier则不调用接口，使用API获取的员工号\n          if (utils.isIhaierApp()) {\n            this.ihaierLogic()\n          } else {\n            this.fetchData()\n          }\n        } else {\n          // 弹窗提示（请解绑）\n          if (identifyFlag > 20) {\n            this.$toast({\n              message: '您当前的身份为店铺合伙人，需要解绑后绑定为平台合伙人。解绑入口：联系商家解绑或是登录智家掌柜App申请解绑',\n              duration: 5000,\n            })\n          } else {\n            this.$toast({\n              message: `您的身份可能为商家或其他类型的会员身份，无法继续申请认证`,\n              duration: 5000,\n            })\n          }\n          if (utils.isIhaierApp() || utils.isIMaker()) {\n            this.closeWebView(5000)\n          }\n        }\n      })\n    },\n    // 退出登录\n    _logout() {\n      this.$store.dispatch('logout').then(res => {\n        this.$store.dispatch('doLogin')\n      })\n      // const data = {}\n      // personalApiIndex.logout(data).then((res) => {\n      //   const _resData = res.data\n      //   if (_resData.success) {\n      //     // 清除localStorage缓存\n      //     localStorage.clear()\n      //     // 清除store的数据\n      //     this.$store.dispatch('resetStore')\n      //     gio && gio('clearUserId')\n      //     // 跳转到登陆页面\n      //     this.$store.dispatch('doLogin').then((res) => {})\n      //   } else {\n      //     this.$toast.fail(_resData.message)\n      //   }\n      // })\n    },\n    closeWebView(delay) {\n      setTimeout(() => {\n        this._logout()\n      }, delay - 1000)\n      setTimeout(() => {\n        if (utils.isIhaierApp() && window.qing) {\n          window.qing.call('closeWebView')\n        }\n        if (utils.isIMaker()) {\n          localStorage.clear()\n          location.href = 'mallLink://closeWindow'\n        }\n      }, delay)\n    },\n    fetchData() {\n      queryMemberInfo()\n        .then((res) => {\n          this.isSkeletonLoading = false\n          if (res.data.success) {\n            this.info = res.data.data\n          } else {\n            this.$toast({\n              message: res.data.msg,\n              duration: 3000,\n            })\n            if (utils.isIhaierApp() || utils.isIMaker()) {\n              this.closeWebView(3000)\n            }\n          }\n        })\n        .catch((e) => {\n          this.$toast(e.message)\n        })\n    },\n    submitQuery() {\n      if (utils.isIhaierApp()) {\n        return {\n          employeeNumber: this.employeeNumber,\n          source: utils.isIMaker() ? 1 : utils.isIhaierApp() ? 2 : 0,\n        }\n      }\n      const res = {\n        ...this.info,\n        agreement: this.checked,\n        source: utils.isIMaker() ? 1 : utils.isIhaierApp() ? 2 : 0,\n      }\n      delete res['provinceName']\n      delete res['cityName']\n      delete res['regionName']\n      delete res['partnerTypeName']\n      delete res['streetName']\n      return res\n    },\n    submitData() {\n      submitStandardMemberInfo(this.submitQuery())\n        .then((res) => {\n          // 成功 跳首页\n          if (res.data.success) {\n            this.$router.replace('/?commissionDisplay=1')\n          } else {\n            this.$toast(res.data.msg)\n            if (utils.isIhaierApp() || utils.isIMaker()) {\n              this.closeWebView(3000)\n            }\n          }\n          // 失败 提示\n        })\n        .catch((e) => {\n          this.$toast(e.message)\n        })\n    },\n    licenseChecked() {\n      this.checked = !this.checked\n    },\n    doSubmit() {\n      if (!this.checked) {\n        this.$toast('请勾选同意合伙人入驻协议')\n        return\n      }\n      this.submitData()\n    },\n  },\n}\n</script>\n\n<style scoped lang='scss'>\n.wrap {\n  padding-top: 1rem;\n  background: #f7f9ff;\n  padding-bottom: 0.74rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  .top {\n    padding-top: 0.58rem;\n    padding-bottom: 0.36rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    img {\n      width: 1.7rem;\n      height: 0.84rem;\n    }\n    p {\n      margin-top: 0.28rem;\n    }\n    .title1 {\n      font-size: 0.32rem;\n      line-height: 0.44rem;\n    }\n    .title2 {\n      font-size: 0.28rem;\n      line-height: 0.4rem;\n    }\n  }\n  .middle {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 0 0.32rem;\n    .list {\n      width: 6.86rem;\n      box-sizing: border-box;\n      background: #ffffff;\n      border-radius: 0.24rem;\n      box-shadow: 0px 0.04rem 0.16rem 0px rgba(124, 156, 218, 0.26);\n      padding: 0 0.32rem;\n      .item {\n        padding-top: 0.36rem;\n        padding-bottom: 0.32rem;\n        border-bottom: 0.02rem solid #eee;\n        &:last-child {\n          border-bottom: none;\n        }\n        .title {\n          color: #333;\n          font-size: 0.28rem;\n          font-weight: bold;\n          line-height: 0.36rem;\n        }\n        .value {\n          margin-top: 0.16rem;\n          color: #666;\n          font-size: 0.26rem;\n          line-height: 0.36rem;\n        }\n      }\n    }\n    .box {\n      margin-top: 0.32rem;\n      width: 6.86rem;\n      display: flex;\n      align-items: center;\n      .text {\n        margin-left: 0.18rem;\n        font-size: 0.24rem;\n        a {\n          color: #2979ff !important;\n        }\n      }\n    }\n  }\n  .bottom {\n    margin-top: 2.86rem;\n    width: 6.84rem;\n    height: 1rem;\n    background-color: #2878ff;\n    border-radius: 0.5rem;\n    color: white;\n    font-size: 0.32rem;\n    text-align: center;\n    line-height: 1rem;\n    font-weight: bold;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settleInPartner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settleInPartner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./settleInPartner.vue?vue&type=template&id=28bb730a&scoped=true&\"\nimport script from \"./settleInPartner.vue?vue&type=script&lang=js&\"\nexport * from \"./settleInPartner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./settleInPartner.vue?vue&type=style&index=0&id=28bb730a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28bb730a\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 分类模块\n * 导出至'@/http/service/category'\n */\nimport http from '../http'\nimport url from '../url'\n\n// 个人中心信息\nexport const myManageinfo = (data, noLogin) => {\n  return http.request({\n    url: url.myManage,\n    method: 'get',\n    params: { '_t': Date.now() },\n    noLogin\n  })\n}\n// 个人中心信息\nexport const getOrderCount = data => {\n  return http.request({\n    url: url.getOrderCount,\n    method: 'get',\n    params: {\n      chId: 60\n    }\n  })\n}\n\n// 个人中心 - 钱包信息\nexport const getWallet = data => {\n  return http.request({\n    url: url.wallet,\n    method: 'get',\n    params: {}\n  })\n}\n\n// 个人中心 - 营收模块 判断绑卡\nexport const checkBindByType = params => {\n  return http.request({\n    url: url.checkBindByType,\n    method: 'get',\n    params\n  })\n}\n\n// 个人中心 - 营收模块 信息汇总\nexport const getComminsionSumInfo = (data) => {\n  return http.request({\n    url: url.getComminsionSumInfo,\n    method: 'POST',\n    data,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n}\n\n// 个人中心 - 营收模块 账单列表\nexport const getGoodsAmountList = (data) => {\n  return http.request({\n    url: url.getGoodsAmountList,\n    method: 'POST',\n    data,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n}\n\n// 个人中心 - 营收模块 服务费信息\nexport const getServiceCharge = (params) => {\n  return http.request({\n    url: url.getServiceCharge,\n    method: 'get',\n    params\n  })\n}\n","import http from '../http'\nimport url from '../url'\n\nexport const getJobs = () => {\n  return http.request({\n    url: url.GET_JOBS,\n    method: 'get'\n  })\n}\n\nexport const submitApplyInfo = (data) => {\n  return http.request({\n    url: url.submitApplyInfo,\n    method: 'POST',\n    data,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n}\nexport const applyResult = (params) => {\n  return http.request({\n    url: url.applyResult,\n    method: 'get',\n    params\n  })\n}\nexport const queryApplyInfo = () => {\n  return http.request({\n    url: url.queryApplyInfo,\n    method: 'get'\n  })\n}\n\nexport const bindWxAccount = (params) => {\n  return http.request({\n    url: url.bindWxAccount,\n    method: 'get',\n    params\n  })\n}\n\nexport const queryMemberInfo = (params) => {\n  return http.request({\n    url: url.queryMemberInfo,\n    method: 'get',\n    params\n  })\n}\n\nexport const submitStandardMemberInfo = (data) => {\n  return http.request({\n    url: url.submitStandardMemberInfo,\n    method: 'POST',\n    data,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n}\n\nexport const queryEmployeeInfo = (data) => {\n  return http.request({\n    url: url.queryEmployeeInfo,\n    method: 'POST',\n    data,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n}\n"],"sourceRoot":""}