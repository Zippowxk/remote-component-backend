{"version":3,"sources":["webpack:///./src/views/shopDetail/component/addressListModal.vue?8c9a","webpack:///./src/views/shopDetail/component/addressListModal.vue?62e3","webpack:///src/views/shopDetail/component/addressListModal.vue","webpack:///./src/views/shopDetail/component/addressListModal.vue?fe20","webpack:///./src/views/shopDetail/component/addressListModal.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","height","borderRadius","width","display","flexDirection","alignItems","attrs","on","tooglePopup","model","value","callback","$$v","showModal","expression","staticClass","$event","stopPropagation","apply","arguments","_v","_l","item","index","key","_s","name","_e","address","goAddress","staticRenderFns","props","showAddress","type","Boolean","default","storeId","String","subStoreList","Array","defaulte","data","isUplus","$util","isSgRn","watch","handler","newVal","methods","$emit","window","postMessage","JSON","stringify","newUrl","setTimeout","that","openNewWindow","getAmapURL","isIos","isAndroid","AppUrl","component"],"mappings":"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","file":"js/chunk-771825f2.dda80d9d.js","sourcesContent":["export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressListModal.vue?vue&type=style&index=0&id=529d9883&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showModal)?_c('van-popup',{style:({height: '7.7rem', borderRadius: '.24rem .24rem 0px 0px', width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center',}),attrs:{\"position\":\"bottom\"},on:{\"click-overlay\":_vm.tooglePopup},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('div',{staticClass:\"icon-close\",on:{\"click\":function($event){$event.stopPropagation();return _vm.tooglePopup.apply(null, arguments)}}}),_c('div',{staticClass:\"modal-title\"},[_vm._v(\"店铺地址列表\")]),_c('div',{staticClass:\"address-list\"},_vm._l((_vm.subStoreList),function(item,index){return _c('div',{key:index,staticClass:\"address-item\"},[_c('div',{staticClass:\"address-row\"},[_c('div',{staticClass:\"store-name\"},[_c('span',{staticClass:\"store-name-text\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")]),(!index)?_c('span',{staticClass:\"nearest-flag\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"距离最近\")])]):_vm._e()]),_c('div',{staticClass:\"address\"},[_c('div',{staticClass:\"icon\"}),_c('span',[_vm._v(_vm._s(item.address))])])]),_c('div',{staticClass:\"go-row\",on:{\"click\":function($event){return _vm.goAddress(item)}}},[_c('div',{staticClass:\"icon-go\"}),_c('span',[_vm._v(\"前往\")])])])}),0)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <van-popup\n    v-if=\"showModal\"\n    v-model=\"showModal\"\n    position=\"bottom\"\n    @click-overlay=\"tooglePopup\"\n    :style=\"{height: '7.7rem', borderRadius: '.24rem .24rem 0px 0px', width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center',}\">\n    <div class=\"icon-close\" @click.stop=\"tooglePopup\"/>\n    <div class=\"modal-title\">店铺地址列表</div>\n    <div class=\"address-list\">\n      <div class=\"address-item\" v-for=\"(item, index) in subStoreList\" :key=\"index\">\n        <div class=\"address-row\">\n          <div class=\"store-name\">\n            <span class=\"store-name-text\">\n              {{item.name}}\n            </span>\n            <span class=\"nearest-flag\" v-if=\"!index\">\n              <span class=\"text\">距离最近</span>\n            </span>\n          </div>\n          <div class=\"address\">\n            <div class=\"icon\"/>\n            <span>{{item.address}}</span>\n          </div>\n        </div>\n        <div class=\"go-row\" @click=\"goAddress(item)\">\n          <div class=\"icon-go\"/>\n          <span>前往</span>\n        </div>\n      </div>\n    </div>\n  </van-popup>\n</template>\n<script>\nexport default {\n  name: 'AddressListModal',\n  props: {\n    showAddress: {\n      type: Boolean,\n      default: false,\n    },\n    storeId: {\n      type: String,\n      default: '',\n    },\n    subStoreList: {\n      type: Array,\n      defaulte () {\n        return []\n      }\n    }\n  },\n  data() {\n    return {\n      isUplus: this.$util.isUplus(),\n      isSgRn: this.$util.isSgRn(),\n      showModal: false,\n    }\n  },\n  watch: {\n    showAddress: {\n      handler(newVal) {\n        this.showModal = newVal\n      },\n    },\n  },\n  methods: {\n    tooglePopup() {\n      this.$emit('update:showAddress', false);\n    },\n    goAddress(data) {\n      const that = this;\n      if (!data) {\n        return ''\n      }\n      const elat = data.latitude\n      const elng = data.longitude\n      const encode = encodeURI(`${elng},${elat}`)\n      const name = data.name// encodeURI(data.name)\n      if (this.$util.isSgRn()) {\n        const lat = (elat + '').indexOf('.') !== -1 ? elat : elat.toFixed(6);\n        const lng = (elng + '').indexOf('.') !== -1 ? elng : elng.toFixed(6);\n        window.postMessage(JSON.stringify({\n          type: 'goNewWebview',\n          data: {\n            newUrl: `https://uri.amap.com/marker?position=${encodeURI(`${lng},${lat}`)}&name=${name}`,\n          },\n        }));\n      } else if (this.$util.isIos() || this.$util.isAndroid()) {\n        // window.location = this.getAmapURL()\n        setTimeout(function() {\n          that.$util.openNewWindow(`https://uri.amap.com/marker?position=${encode}&name=${name}`, true);\n        }, 500);\n      } else {\n        this.$util.openNewWindow(this.getAmapURL(data), true)\n      }\n    },\n    getAmapURL(data) {\n      if (!data) {\n        return ''\n      }\n      const elat = data.latitude\n      const elng = data.longitude\n      if (!this.$util.isIos() && !this.$util.isAndroid()) {\n        const encode = encodeURI(`${elng},${elat}`)\n        const name = encodeURI(data.name)\n        return this.$util.openNewWindow(`https://uri.amap.com/marker?position=${encode}&name=${name}`, true);\n      }\n      let proto = this.$util.isIos() ? 'iosamap://path' : this.$util.isAndroid ? 'amapuri://route/plan' : ''\n      const AppUrl = proto + '?t=0&dlat=' + elat + '&dlon=' + elng + '&dname=' + encodeURI(data.name)\n      return AppUrl\n    },\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.icon-close {\n  position: absolute;\n  right: .24rem;\n  top: .24rem;\n  height: .4rem;\n  width: .4rem;\n  background-image: url(#{$cdnImageUrl}/itSolution/icon_close.png);\n  background-size: contain;\n}\n.modal-title {\n  width: 100%;\n  margin: .4rem 0 .32rem 0;\n  height: .4rem;\n  text-align: center;\n  font-weight: bold;\n  color: black;\n  font-size: .32rem;\n}\n.address-list {\n  height: 6.58rem;\n  width: 100%;\n  overflow: hidden;\n  overflow-y: scroll;\n}\n.address-item {\n  display: flex;\n  margin: .24rem;\n  .address-row {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    margin-right: .16rem;\n    .store-name {\n      font-size: .32rem;\n      color: #333;\n      line-height: .44rem;\n      margin-bottom: .16rem;\n      width: 6.28rem;\n      display: flex;\n      align-items: center;\n      .store-name-text {\n        display: inline-block;\n        max-width: 5rem;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n      .nearest-flag {\n        display: inline-flex;\n        align-items: center;\n        color: #fff;\n        height: 18px;\n        .text {\n          font-family: PingFangSC, PingFangSC-Regular;\n          padding: 3px;\n          background: #2878ff;\n          border-radius: 3px;\n          font-size: 8px;\n          line-height: 8px;\n        }\n      }\n    }\n    .address {\n      display: flex;\n      align-items: center;\n      .icon {\n        display: inline-block;\n        height: .32rem;\n        width: .32rem;\n        background: url(#{$cdnImageUrl}/shop/icon_store_modal_location.png) no-repeat;\n        background-size: contain;\n      }\n      span {\n        width: 5.96rem;\n        font-size: .24rem;\n        color: #999;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n    }\n  }\n  .go-row {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    .icon-go {\n      height: .6rem;\n      width: .6rem;\n      background: url(#{$cdnImageUrl}/shop/icon_store_modal_go.png) no-repeat;\n      background-size: contain;\n    }\n    span {\n      font-size: .24rem;\n      display: inline-block;\n      transform: scale(.84);\n      color: $themeColor;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressListModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressListModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addressListModal.vue?vue&type=template&id=529d9883&scoped=true&\"\nimport script from \"./addressListModal.vue?vue&type=script&lang=js&\"\nexport * from \"./addressListModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addressListModal.vue?vue&type=style&index=0&id=529d9883&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"529d9883\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}