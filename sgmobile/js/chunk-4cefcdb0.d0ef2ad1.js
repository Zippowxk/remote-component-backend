(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cefcdb0","chunk-fc629cbc","chunk-2b4715e4","productList"],{"073f":function(t,e,a){"use strict";a("19ea")},"107f":function(t,e,a){"use strict";a("269b")},1261:function(t,e,a){},1439:function(t,e,a){"use strict";a("3c9b")},"19ea":function(t,e,a){},"23d3":function(t,e,a){"use strict";var i=a("c63d");e["a"]={components:{topFeedBack:i["default"]},data:function(){return{showToTopFlag:!1}},activated:function(){this.fnScroll()},beforeRouteLeave:function(t,e,a){document.getElementById("app-warp").removeEventListener("scroll",this.addEventScrollFn),a()},beforeMount:function(){this.debouncedAction=this.$util.throttle(this.option,100)},methods:{fnScrollToTop:function(){this.scrollSmoothTo(0)},hiddenFeedBack:function(){this.showToTopFlag=!1},scrollSmoothTo:function(t){console.log("#app-warp scroll"),window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)});var e=document.querySelector("#app-warp"),a=e.scrollTop;console.log(a,"scrollTop");var i=function i(){var o=t-a;a+=o/10,Math.abs(o)<1?e.scrollTo(0,t):(e.scrollTo(0,a),requestAnimationFrame(i))};i()},fnScroll:function(){document.getElementById("app-warp").addEventListener("scroll",this.addEventScrollFn)},addEventScrollFn:function(t){this.debouncedAction(t)},option:function(t){var e=t.target.scrollTop;this.showToTopFlag=e>200}}}},"269b":function(t,e,a){},"2e5c":function(t,e,a){"use strict";a("1261")},"347c":function(t,e,a){},"3c9b":function(t,e,a){},"3cbb":function(t,e,a){},"40ca":function(t,e,a){"use strict";e["a"]={HZYTarget:"7a8a25a546646355c07a1b9c5bfbd9fb",HZYTarget_test:"7a8a25a546646355c07a1b9c5bfbd9fb",JiFenTarget:"4542349d17217cac9743761e45500184",JiFenTarget_test:"4542349d17217cacc8940de9925b82d15affba05d6537bab",LiveTarget:"abb43fe5ecadc8ae855ea95d171a6918",LiveTarget_test:"abb43fe5ecadc8ae855ea95d171a6918",ssUrlTarget:"0d3e477c75f5da4c7a8e2c00d794cd75",ssUrlTarget_test:"0d3e477c75f5da4cac599543e22b78aa16f46123fc726a2d",ccUrlTarget:"0d3e477c75f5da4c7a8e2c00d794cd75",ccUrlTarget_test:"0d3e477c75f5da4cac599543e22b78aa16f46123fc726a2d"}},"44fe":function(t,e,a){"use strict";a("3cbb")},"4b7d":function(t,e,a){"use strict";a("7fdc")},"52cc":function(t,e,a){},5691:function(t,e,a){},"602b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"toTop",staticClass:"content"},[t.isSkeletonLoading?a("skeleton",{attrs:{nums:3,bgColor:"#d3d3d3"}}):a("div",[a("Header",[a("div",{staticClass:"goBackIcon",attrs:{slot:"left"},on:{click:t.goBacks},slot:"left"},[t.$route.query.browerFirstIn?t._e():a("i",{staticClass:"icon-back"})]),t.shareShow?a("div",{staticClass:"share-btn",style:{backgroundImage:"url("+t.$globalIcon.blackShareIcon+")"},attrs:{slot:"right"},on:{click:t.doShare},slot:"right"}):t._e()]),a("div",{staticClass:"live-tag",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.doOpenLive(t.hotLiveInfo[0])}}},[t.hotLiveInfo.length&&1==t.hotLiveInfo[0].liveState?a("liveTag"):t._e()],1),a("div",{ref:"content_boxs"},[t.data.resData?a("detail",{ref:"detail",attrs:{parentData:t.data,navShowFlag:t.navShowFlag,scrollTop:t.getScrollTop}}):t._e(),a("div",{staticClass:"selectPosition",on:{click:t.openAddr}},[a("van-icon",{attrs:{name:"location-o",size:".36rem",color:"#2283E2"}}),[a("span",{staticClass:"select_location"},[t._v(t._s(this.location.region))])],a("span",{staticClass:"select_right"},[t._v(">")])],2),a("lazy-addr-list",{ref:"addrList",on:{handleLocation:t.handleLocation}}),t.data&&t.data.resData&&t.data.resData.couponsList&&t.data.resData.couponsList.length?a("coupon",{attrs:{soluteId:t.data.resData.id,planCode:t.data.resData.psiPlanCode,couponTitleList:t.data.resData.couponsList.slice(0,3)}}):t._e(),a("van-tabs",{attrs:{swipeable:"","title-active-color":"#2283E2",color:"#2283E2"},on:{click:t.onClickTabs},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tablist,(function(e,i){return a("van-tab",{key:i,attrs:{title:e.name}},[a("list",{ref:"child"+i,refInFor:!0,attrs:{isShowLive:t.isShowLive,parentData:e.data,storeId:t.storeId,isPlus:t.isPlus},on:{fatherMethod:t.getSequenceProducts,allPrice:t.allPrice,childscroll:t.childscroll}})],1)})),1)],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"total"},[a("div",[t._v(" 已选商品: "),a("font",[t._v(t._s(t.countTotal))]),t._v("件 ")],1),a("div",[t._v(" 商品总价: "),a("font",{staticClass:"total_money"},[t._v("￥"),a("span",[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.priceTotal))))]),t._v(t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.priceTotal))))])],1)]),a("div",{staticClass:"submit",on:{click:t.isLogin}},[a("span",[t._v("一键下单")])])])],1),a("div",{staticClass:"mask-video",attrs:{id:"maskVideo"}}),a("top-feedBack",{attrs:{isShow:t.showToTopFlag},on:{hiddenFeedBack:t.hiddenFeedBack,toTop:t.fnScrollToTop}})],1)},o=[],s=a("e725"),n=a("2f62"),c=a("21b1"),r=a("6ff3"),l=a("90dd"),d=a("40ca"),u=a("23d3"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",style:{maxHeight:t.expand?"none":"60vh"},attrs:{id:"detail-parent"}},[a("div",{staticClass:"detail-block",attrs:{id:"detail-block"}},[a("div",{staticClass:"detail-banner"},[null===t.parentData.resData.psiVideoUrl?a("van-image",{attrs:{fit:"cover",width:"100%","lazy-load":"",src:t._f("imageToWebp")(t._f("imageToHttps")(t.parentData.resData.imageUrl),t.$webpSurpport)}}):a("div",{attrs:{id:"videoWarp"}},[a("video",{staticClass:"video-js",attrs:{id:t.videoId,preload:"auto",controls:"",playsinline:"true","webkit-playsinline":"","x5-playsinline":"","x-webkit-airplay":"allow","x5-video-player-type":"h5","x5-video-orientation":"portraint","x5-video-player-fullscreen":"",poster:t.playerOptions.poster}},[a("source",{attrs:{src:t.playerOptions.sources[0].src,type:"video/mp4"}}),a("p",{staticClass:"vjs-no-js"},[t._v(" To view this video please enable JavaScript, and consider upgrading to a web browser that "),a("a",{attrs:{href:"https://videojs.com/html5-video-support/",target:"_blank"}},[t._v(" supports HTML5 video ")])])])])],1),a("div",{attrs:{id:"swiper-line"}}),a("h2",[t._v(t._s(t.parentData.resData.name))]),""!==t.parentData.resData.introduction?a("div",{staticClass:"introduce"},[t._v(" "+t._s(t.parentData.resData.introduction)+" ")]):t._e(),0!==t.parentData.resData.urlTabs.length?a("div",{staticClass:"picture-list"},t._l(t.parentData.resData.urlTabs,(function(e){return a("img",{key:e,attrs:{fit:"cover",width:"100%","lazy-load":"",src:t._f("imageToWebp")(t._f("imageToHttps")(e),t.$webpSurpport)}})})),0):t._e(),t.expand?a("div",{staticClass:"shrink-row",on:{click:function(e){return t.toogleExpand(!1)}}},[a("div",{staticClass:"up-arrow"}),a("div",{staticClass:"text"},[t._v("点击收起图文")])]):t._e()]),t.expand?t._e():a("div",{staticClass:"expand-row",on:{click:function(e){return t.toogleExpand(!0)}}},[a("div",{staticClass:"text"},[t._v("点击展开图文")]),a("div",{staticClass:"down-arrow"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.smallVideoShow,expression:"smallVideoShow"}],class:{"small-video":t.smallVideoShow},attrs:{id:"playVideo"},on:{touchstart:t.touchstart,touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.touchmove.apply(null,arguments)},touchend:t.touchend}},[a("span",{staticClass:"small-icon",on:{touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.changeVoince.apply(null,arguments)}}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.isMuted,expression:"isMuted"}],attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goodsDetail/novioce.png",alt:""}}),a("img",{directives:[{name:"show",rawName:"v-show",value:!t.isMuted,expression:"!isMuted"}],attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goodsDetail/vioce.png",alt:""}})]),a("span",{staticClass:"small-icon small-close",on:{touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.closeSmallVideo.apply(null,arguments)}}},[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goodsDetail/close.png",alt:""}})]),a("span",{staticClass:"small-icon small-full",on:{touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.smallVideoClick.apply(null,arguments)}}},[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goodsDetail/allsceen.png",alt:""}})]),a("div",{attrs:{id:"smallVideoWarp"}})])])},h=[],m=(a("fda2"),a("3d33")),f=a.n(m),g=!1,v={name:"detail",props:["parentData","navShowFlag","scrollTop"],data:function(){return{player:null,smallVideoShow:!1,isCancelSmallVideo:!1,isMuted:!0,videoId:"",playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!0,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"",src:this.parentData.resData&&this.parentData.resData.psiVideoUrl&&this.parentData.resData.psiVideoUrl.replace("http:","https:")}],poster:this.parentData.resData&&this.parentData.resData.psiHeadVideoImg&&this.parentData.resData.psiHeadVideoImg.replace("http:","https:"),notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!1,volumePanel:{inline:!1}}},expand:!1,isDeactivated:!1}},mounted:function(){console.log(this.player,"++++++++++++player++++++++++++++++"),this.parentData.resData.psiVideoUrl&&(this.videoId="v_"+(new Date).getTime(),this.makePlayer())},watch:{scrollTop:function(t){this.watchScrollTopFn(t)}},methods:{watchScrollTopFn:function(t){if(this.player){var e,a=null===(e=document.getElementById("swiper-line"))||void 0===e?void 0:e.offsetTop,i=document.getElementById("videoWarp"),o=document.getElementById("smallVideoWarp"),s=!1;s=!!this.player.paused(),console.log(s,"====ispaused===="),this.isMuted=this.player.muted(),t>a&&!this.isCancelSmallVideo?(this.smallVideoShow=!0,o.append(i.firstElementChild),!s&&this.player.play()):(this.smallVideoShow=!1,i.append(o.firstElementChild),!s&&this.player.play())}},touchstart:function(t){if(this.smallVideoShow){var e=t.touches[0].pageX,a=t.touches[0].pageY,i=document.getElementById("playVideo").offsetLeft,o=document.getElementById("playVideo").offsetTop;this.offsetX=e-i,this.offsetY=a-o}},touchmove:function(t){if(g=!0,this.smallVideoShow){var e,a,i=t.touches[0].pageX,o=t.touches[0].pageY,s=window.innerWidth,n=window.innerHeight,c=document.getElementById("playVideo").offsetHeight,r=document.getElementById("playVideo").offsetWidth;e=i-this.offsetX>s-r?s-r:i-this.offsetX<0?0:i-this.offsetX,a=o-this.offsetY<45?45:o-this.offsetY>n-c?n-c-100:o-this.offsetY,this.oldX=e,this.oldY=a,document.getElementById("playVideo").style.left=e+"px",document.getElementById("playVideo").style.top=a+"px"}},touchend:function(){if(g){g=!1;var t=window.innerHeight,e=window.innerWidth,a=document.getElementById("playVideo").offsetWidth,i=document.getElementById("playVideo").offsetHeight;this.offsetX="",this.offsetY="",this.startX="",this.oldX>(e-a)/2?document.getElementById("playVideo").style.left=e-a+"px":document.getElementById("playVideo").style.left="0px",this.oldY<50?document.getElementById("playVideo").style.top="50px":this.oldY>t-i-100&&(document.getElementById("playVideo").style.top=t-i-100+"px")}},makePlayer:function(){var t=this,e=this,a=f.a.getComponent("Button"),i=f.a.extend(a,{constructor:function(t,e){a.call(this,t,e),this.setAttribute("id","fullBtn")},handleClick:function(t){console.log(t),e.fullSceen=!e.fullSceen;var a=!1;if(a=!!e.player.paused(),console.log(a,"====ispaused===="),e.fullSceen){var i=document.getElementById("maskVideo"),o=document.getElementById("videoWarp");console.log(i,"maskVideo"),i.append(o.firstElementChild),i.classList.add("active"),!a&&e.player.play()}else{var s=document.getElementById("maskVideo"),n=document.getElementById("videoWarp");console.log(n,"videoWarp"),n.append(s.firstElementChild),s.classList.remove("active"),!a&&e.player.play(),e.watchScrollTopFn(e.scrollTop)}},buildCSSClass:function(){return"vjs-custom-control vjs-control vjs-button-full"}});f.a.registerComponent("fullBtn",i),this.$nextTick((function(){console.log(document.getElementById("videoBox"),"videoBox"),t.player=f()(t.videoId,t.playerOptions,(function(){console.log(t.player,"videoplayer"),t.player.getChild("controlBar").addChild("fullBtn",{},10)})),t.player.on("play",(function(){console.log("playing"),t.$util.isWifi().then((function(e){e||t.$toast("当前非Wifi播放，请注意流量消耗")})),t.isCancelSmallVideo=!1})),t.$util.isWifi().then((function(e){e?(console.log("isWifi"),t.player.muted(t.isMuted),t.player.play()):console.log("not isWifi")}))}))},changeVoince:function(){this.isMuted=!this.isMuted,this.player.muted(this.isMuted)},closeSmallVideo:function(){var t=document.getElementById("videoWarp"),e=document.getElementById("smallVideoWarp");t.append(e.firstElementChild),this.smallVideoShow=!1,this.isCancelSmallVideo=!0,this.player.paused()||this.player.pause()},smallVideoClick:function(){console.log("smallVideoClick");var t=!1;t=!!this.player.paused(),console.log(t,"====ispaused===="),this.closeSmallVideo(),this.isCancelSmallVideo=!1;var e=document.getElementById("maskVideo"),a=document.getElementById("videoWarp");console.log(e,"maskVideo"),e.append(a.firstElementChild),e.classList.add("active"),this.fullSceen=!0,this.$emit("sceenChange",!0),!t&&this.player.play()},toogleExpand:function(t){this.expand=t}}},b=v,k=(a("44fe"),a("073f"),a("2877")),y=Object(k["a"])(b,p,h,!1,null,"631ccb92",null),C=y.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-block"},[a("div",{staticClass:"title"},[a("common-checkbox",{staticClass:"left",attrs:{width:"16px",height:"16px"},on:{toggleCheck:function(e){return t.checkedAll(t.parentDatas.moreChoicesCheckedAll)}},model:{value:t.parentDatas.moreChoicesCheckedAll,callback:function(e){t.$set(t.parentDatas,"moreChoicesCheckedAll",e)},expression:"parentDatas.moreChoicesCheckedAll"}}),t._m(0)],1),a("ul",t._l(t.parentDatas.resList,(function(e,i){return a("li",{key:i},[a("div",{staticClass:"commonCheckBox"},[0==e.stock&&0==e.bookable?a("common-checkbox",{staticClass:"left",attrs:{width:"16px",height:"16px",disabled:!0}}):a("common-checkbox",{staticClass:"left",attrs:{width:"16px",height:"16px"},on:{onChange:t.checkedChange},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}})],1),a("van-image",{attrs:{"lazy-load":"",src:t._f("imageToWebp")(t._f("imageThumb")(t._f("imageToHttps")(e.imageUrl),"300"),t.$webpSurpport)},on:{click:function(a){return t.viewDetail(e.id)}}}),0===e.onSale?a("div",{staticClass:"lowerShelfBox"},[a("img",{staticClass:"lowerShelf",attrs:{alt:"",src:t.$cdnImageUrl+"/order/lowerShelf.png"}})]):t._e(),a("div",{staticClass:"rightBox"},[a("div",{staticClass:"product",on:{click:function(a){return t.viewDetail(e.id)}}},[a("div",{staticClass:"product-title"},[t._v(t._s(e.name))]),a("div",{staticClass:"introduce"},[t._v(t._s(e.title))]),a("div",{staticClass:"price_more_box"},[a("div",{staticClass:"price"},[t._v(" ￥ "),a("span",[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(e.price))))]),a("p",{staticStyle:{"margin-left":"-.1rem",display:"inline-block"}},[t._v(t._s(t._f("formatPriceFloat")(t._f("formatPrice")(e.price))))])]),e.plusPrice?a("member-price",{attrs:{memberPrice:e.plusPrice,mStyle:{"margin-left":"0.02rem"}}}):t._e(),a("div",{staticClass:"itSoluteDetailmore"},[a("span",{class:{more_instork:0==e.stock||1==e.bookable||e.stock,more_instorkNo:0==e.stock&&0==e.bookable}},[a("span",{staticClass:"text"},[t._v(t._s(0==e.stock&&0==e.bookable?"无货":1==e.stock?"有货":0==e.stock&&1==e.bookable?"可预订":""))])])])],1)]),0!==e.onSale?a("div",{staticClass:"more"},[a("Stepper",{attrs:{num:e.num,itemIndex:i,disable:0==e.stock&&0==e.bookable,min:0==e.stock&&0==e.bookable?0:1,max:500},on:{"update:num":function(a){return t.$set(e,"num",a)},stepperChange:t.fnChangeProductNumber}}),a("van-button",{directives:[{name:"show",rawName:"v-show",value:e.moreSelectList,expression:"item.moreSelectList"}],staticClass:"more_replace",attrs:{type:"info",size:"small"},on:{click:function(a){return t.moreChoices(e.id,i,e.stock,e.bookable)}}},[t._v("替换")])],1):t._e()])],1)})),0),a("van-popup",{attrs:{position:"bottom"},model:{value:t.parentDatas.moreChoicesDialog,callback:function(e){t.$set(t.parentDatas,"moreChoicesDialog",e)},expression:"parentDatas.moreChoicesDialog"}},[a("div",{staticClass:"more-choices-dialog"},[a("div",{staticClass:"dialog-title"},[a("span",{staticClass:"dialog_h"},[t._v("替换")]),a("van-icon",{attrs:{name:"cross"},on:{click:t.moreChoicesDialogHide}}),a("span",{staticClass:"dialog_p"},[t._v("可以替换以下同类产品")])],1),a("ul",t._l(t.parentDatas.moreChoicesList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.moreChoicesChecked(e)}}},[a("div",{staticClass:"commonCheckBox"},[0==e.stock&&0==e.bookable?a("common-checkbox",{staticClass:"left",attrs:{width:"16px",height:"16px",disabled:!0}}):a("common-checkbox",{staticClass:"left",attrs:{width:"16px",height:"16px"},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}})],1),a("van-image",{attrs:{"lazy-load":"",src:t._f("imageToWebp")(t._f("imageThumb")(t._f("imageToHttps")(e.imageUrl),"300"),t.$webpSurpport)}}),a("div",{staticClass:"rightBox"},[a("div",{staticClass:"product"},[a("div",{staticClass:"product-title"},[t._v(t._s(e.name))]),a("div",{staticClass:"introduce"},[t._v(t._s(e.title))]),a("div",{staticClass:"price"},[a("span",{staticClass:"symbol"},[t._v("￥")]),t._v(t._s(t._f("fmtMoneyFilter")(e.price)))])]),a("div",{staticClass:"more"},[a("span",{class:{more_instork:0==e.stock&&1==e.bookable||e.stock,more_instorkNo:0==e.stock&&0==e.bookable}},[t._v(t._s(0==e.stock&&0==e.bookable?"无货":1==e.stock?"有货":0==e.stock&&1==e.bookable?"可预订":""))])])])],1)})),0)])]),a("div",{staticClass:"bottom-clearance"})],1)},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allSelect"},[a("span",[t._v("全部选择")])])}],I=(a("3c32"),a("417e")),S=(a("8a58"),a("e41f")),D=(a("e7e5"),a("d399")),T=a("2b0e"),x=a("6d84"),L=a("fc3c"),$=a("c380");T["a"].use({Toast:D["a"],Popup:S["a"],Checkbox:I["a"]});var B={name:"list",props:{isShowLive:{type:Boolean},parentData:{type:Object,default:function(){return{}}},storeId:{type:String,default:""},isPlus:{type:Boolean,default:!1}},data:function(){return{checked:!1,parentDatas:this.$util.strJSONParse(JSON.stringify(this.parentData),{}),goodsNum:"0",productNumber:1,showLive:!1}},watch:{isShowLive:{handler:function(t,e){this.showLive=t},immediate:!0},parentData:{handler:function(t,e){this.parentDatas=t},deep:!0}},components:{Stepper:$["a"],commonCheckbox:x["a"],memberPrice:L["default"]},mounted:function(){console.log(this.parentDatas)},methods:{fnChangeProductNumber:function(t,e){var a=this,i=0,o=0,s=this.parentDatas.resList;s.map((function(s,n){s.checked?(a.isPlus&&s.plusPrice?n===e?(s.num=t,i=parseFloat(i)+parseFloat(s.plusPrice)*t):i=parseFloat(i)+parseFloat(s.plusPrice)*(s.num||1):n===e?(s.num=t,i=parseFloat(i)+parseFloat(s.price)*t):i=parseFloat(i)+parseFloat(s.price)*(s.num||1),o=parseFloat(o)+(s.num||1),a.parentDatas.priceTotal=i,a.parentDatas.countTotal=o,a.$emit("allPrice",{priceTotal:i,countTotal:o})):n===e&&(s.num=t)}))},viewDetail:function(t){var e=this;e.$emit("childscroll"),this.showLive?e.$router.push({path:"/goodsDetail?productId=".concat(t,"&show_live=1&visitStore=").concat(this.storeId)}):e.$router.push({path:"/goodsDetail?productId=".concat(t,"&visitStore=").concat(this.storeId)})},checkedAll:function(t){var e=this,a=e.parentDatas.resList,i=t,o=0,s=0;a.map((function(t,e){!1===t.stock&&0===t.bookable||0===t.onSale?t.checked=!1:(t.checked=i,i&&(o=parseFloat(o)+parseFloat(t.price)*(t.num||1),s=parseFloat(s)+(t.num||1)))})),e.parentDatas.priceTotal=o,e.parentDatas.countTotal=s},checkedChange:function(){var t=this,e=this,a=e.parentDatas.resList,i=0,o=0,s=!1,n=[];a.map((function(e,a){if(!1===e.stock&&0===e.bookable);else{n.push(e),!1===e.checked&&(s=!1);var c=n.every((function(t){return!0===t.checked}));s=!!c}e.checked&&(i=t.isPlus&&e.plusPrice?parseFloat(i)+parseFloat(e.plusPrice)*(e.num||1):parseFloat(i)+parseFloat(e.price)*(e.num||1),o=parseFloat(o)+(e.num||1))})),e.parentDatas.moreChoicesCheckedAll=s,e.parentDatas.priceTotal=i,e.parentDatas.countTotal=o,e.$emit("allPrice",{priceTotal:i,countTotal:o})},amountCalculation:function(){},moreChoices:function(t,e,a,i){var o=this,s=o.parentDatas.active,n=o.parentDatas.resData.plans;o.parentDatas.moreChoicesCheckedIndex=e;var c="",r=!1,l=!1;n[s].groups.map((function(e,a){c=r?c:"",e.products.map((function(e,a){e.productId===t&&(l=!0),r||(c=c+e.productId.toString()+",")})),r=l}));var d=c.replace(t+",","");o.parentDatas.productsIds=d,o.$emit("fatherMethod",{type:"moreChoices",id:t,stock:a,bookable:i,deleteProductsIds:d})},moreChoicesDialogHide:function(){var t=this;t.parentDatas.moreChoicesDialog=!1},moreChoicesChecked:function(t){var e=this;if(!1!==t.stock||0!==t.bookable){e.parentDatas.moreChoicesList.map((function(e){e.checked=!1,e.id===t.id&&(e.checked=!0)}));var a=e.parentDatas.moreChoicesCheckedIndex;t.moreSelectList=e.parentDatas.resList[a].moreSelectList,e.parentDatas.resList[a]=t,e.moreChoicesDialogHide(),e.checkedChange()}}}},P=B,E=(a("c0a4"),Object(k["a"])(P,w,_,!1,null,"6ee19934",null)),F=E.exports,V=a("d3c8"),O=a("a73f");function A(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?A(Object(a),!0).forEach((function(e){j(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function j(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var M=function(){return a.e("chunk-16040466").then(a.bind(null,"f034"))},U=function(){return a.e("chunk-65fab7c0").then(a.bind(null,"93e0"))},W=new c["a"];W.initDeviceReady();var N={temporaryAddress:{},plansAll:[],getScrollTop:"",firstShow:!0},q={name:"itSoluteDetail",mixins:[u["a"]],components:{Header:s["a"],detail:C,coupon:U,list:F,skeleton:O["a"],liveTag:r["a"],lazyAddrList:M},data:function(){return{isSkeletonLoading:!0,shareShow:this.$util.isHaierApp()||this.$util.isSgRn(),navShowFlag:!1,isShowLive:!1,hotLiveInfo:[],data:{resData:{couponList:[],urlTabs:[]}},active:0,tablist:[],countTotal:0,priceTotal:0,showLocationModal:!1,getScrollTop:"",storeId:"",addrLoad:!1,showToTopFlag:!1,isPlus:!1}},computed:H(H(H({},Object(n["d"])(["mId"])),Object(n["d"])({location:"getlocationInfo"})),{},{getShareId:function(){return sessionStorage.getItem("shareUserId")||""}}),beforeRouteEnter:function(t,e,a){console.log(this,"=======beforeRouteEnter======"),a()},mounted:function(){this.init()},activated:function(){},methods:H(H({},Object(n["e"])("orderRight",["setOrderRightInfos","setOrderProInfo","setSelectedRights","setGiveupStatus"])),{},{init:function(){var t=this,e=t.$route.query;t.data.id=e.id,t.storeId=e.storeId||"",this.$util.isHaierApp()&&this.doShowUplusLive(),t.data.provinceId=t.$store.state.locationInfo.provinceId||16,t.data.cityId=t.$store.state.locationInfo.cityId||173,t.data.regionId=t.$store.state.locationInfo.districtId||2450,t.data.streetId=t.$store.state.locationInfo.townshipId||12036596,this.$toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:0}),this.getDetail(),this.$store.dispatch("WeChatSecondShare",{title:"",desc:"",thumImage:""})},addEventScrollFn:function(t){var e=t.target.scrollTop;this.showToTopFlag=e>200,N.getScrollTop=e,this.getScrollTop=e,this.navShowFlag=e>50},openAddr:function(){var t=this;this.addrLoad?this.$refs.addrList.openAddr():M().then((function(){t.addrLoad=!0,t.$nextTick((function(){t.$refs.addrList.openAddr()}))}))},goBacks:function(){this.data.resData=null,this.tablist.forEach((function(t,e){t.data.resList=[]})),this.countTotal=0,this.priceTotal=0},chooseLocation:function(){this.showLocationModal=!0},hideLocationModal:function(){this.showLocationModal=!1,this.$refs.geoLocation.load()},programLiveInfo:function(t){var e=this;V["a"].getProgramLivesInfo([t]).then((function(a){console.log(a,"+++++++++++");var i=a.data;e.hotLiveInfo=i[t]||[]}))},doOpenLive:function(t){var e=this;if(console.log(t,"info"),this.$util.isHaierApp()){var a=this.$route.query.show_live;a?W.initDeviceReady().then((function(){W.upLiveModule.closeFloatWindow(),W.upVdnModule.goToPage({url:e.$util.isIos()?t.appIosUrl:t.appAndroidUrl})})):W.initDeviceReady().then((function(){W.upVdnModule.goToPage({url:e.$util.isIos()?t.appIosUrl:t.appAndroidUrl})}))}else Object(l["a"])({redirectUri:t.h5Url,target:d["a"].LiveTarget,targetTest:d["a"].LiveTarget_test,redirectUriTest:t.h5Url}).then((function(t){var a=t.data;a.success?location.href=a.data:e.$toast(a.message)}))},getDetail:function(){var t=this,e=this,a={id:e.data.id};V["a"].getSolutionDetails(a).then((function(a){var i=a;i.success?function(){t.programLiveInfo(i.data.id);var a=i.data.plans;e.$set(e.data,"resData",i.data||{});var o={},s=function(t){var e="",i="pro"+t;for(var s in o[i]="",a[t].groups)a[t].groups[s].products.map((function(t,a){0===a&&(e=e+t.productId.toString()+",",o[i]=e)}))};for(var n in a)s(n);a.map((function(t,e){Object.keys(o).map((function(a,i){e===i&&(t.productsIds=o[a])}))})),N.plansAll=a}():t.$toast.fail(i.message)})).then((function(t){e.getSequenceProductsAll()}))},onClickTabs:function(t,e){var a=this;this.$nextTick((function(){var e=a.$refs["child".concat(t)][0].parentDatas;a.countTotal=e.countTotal,a.priceTotal=e.priceTotal}))},allPrice:function(t){this.countTotal=t.countTotal,this.priceTotal=t.priceTotal},childscroll:function(){N.getScrollTop=this.$refs.content_boxs.scrollTop},getSequenceProducts:function(t){var e=this,a=this,i="";i=t&&"moreChoices"===t.type?t.deleteProductsIds:N.plansAll[a.active].deleteProductsIds;var o={productsIds:i,streetId:a.data.streetId,cityId:a.data.cityId,provinceId:a.data.provinceId,regionId:a.data.regionId};V["a"].getSequenceProducts(o).then((function(a){var i=a.data;if(e.$toast.clear(),i.success){e.isPlus=i.data.plus;var o=i.data.productDetailVOS||[];t&&"moreChoices"===t.type&&(o.map((function(e){e.checked=!1,t.id===e.id&&(!1!==t.stock||0!==t.bookable&&1!==t.bookable?e.checked=!0:e.checked=!1)})),e.$refs["child".concat(e.active)][0].parentDatas.moreChoicesList=o,e.$refs["child".concat(e.active)][0].parentDatas.moreChoicesDialog=!0)}else e.$toast.fail(i.message)}))},getSequenceProductsAll:function(t){var e=this,a=this,i=[],o=N.plansAll,s=a.data.resData.plans;o.forEach((function(t,o){var n={productsIds:t.productsIds,streetId:a.data.streetId,cityId:a.data.cityId,provinceId:a.data.provinceId,regionId:a.data.regionId,storeId:e.getShareId||e.storeId||""},c={name:"",data:{id:"",storeId:"",provinceId:"",cityId:"",regionId:"",streetId:"",productsIds:"",resData:a.data.resData,moreChoicesList:null,moreChoicesCheckedIndex:null,moreChoicesCheckedAll:!1,moreChoicesDialog:!1,priceTotal:0,countTotal:0,resList:[],active:o}};V["a"].getSequenceProducts(n).then((function(n){var r=n.data;if(e.$toast.clear(),r.success){e.isSkeletonLoading=!1,e.isPlus=r.data.plus;var l=r.data.productDetailVOS||[];l.forEach((function(t){t.checked=!1,t.moreSelectList=!1,s[o].groups.map((function(e,a){e.products.forEach((function(e,i){t.id===e.productId&&(t.moreSelectList=s[o].groups[a].products.length>1)}))}))})),c.name=t.name,c.data.resList=l,c.index=o,i.push(c),i.sort(a.allCompareSore("index")),a.tablist=i}}))}))},allCompareSore:function(t){return function(e,a){var i=e[t],o=a[t];return i-o}},isLogin:function(){var t=this;if(N.getScrollTop=this.$refs.content_boxs.scrollTop,t.$util.isHaierApp())this.$store.getters.getLoginStatus?t.createOrder():this.$store.dispatch("doLogin").then((function(e){400!==e&&t.createOrder()}));else{if(!this.$store.getters.getLoginStatus)return this.$store.dispatch("feedback",this.$route.path),void this.$store.dispatch("doLogin");t.createOrder()}},createOrder:function(){var t=this,e=[],a=t.$refs["child".concat(t.active)][0].parentDatas.resList;console.log("getListCheck",a),a.map((function(t){t.checked&&e.push({num:t.num||1,proId:t.id,name:t.name,visitStore:""})}));var i={ac:1,ch:61,proList:e,street:t.data.streetId,v:2,shareId:this.getShareId||t.storeId||"",isOrderRight:"1"};console.log("下单参数:",i),0!==i.proList.length?this.$router.push({name:"create",query:{_proList:e,storeId:t.storeId||"",ac:"1"}}):this.$toast.fail("请至少选择1种商品")},doShare:function(){this.$util.gioTrackWithVariable("mall_sceneDetail_click_share",{sceneID_var:this.data.id?this.data.id+"":"null"});var t=-1!==location.href.indexOf("?")?location.href+"&shareId="+this.mId:location.href+"?shareId="+this.mId;this.$util.inAppShare({url:t})},handleLocation:function(t){this.showLocationModal=!1,N.temporaryAddress=t;var e=this;e.data.streetId=t.townshipId,e.data.cityId=t.cityId,e.data.provinceId=t.provinceId,e.data.regionId=t.districtId,e.getSequenceProductsAll()},doShowUplusLive:function(){var t=this.$route.query.show_live;+t&&(this.isShowLive=!0,W.initDeviceReady().then((function(){W.upLiveModule.showFloatWindow()})))}})},z=q,R=(a("107f"),a("2e5c"),Object(k["a"])(z,i,o,!1,null,"5c223c22",null));e["default"]=R.exports},"6d76":function(t,e,a){"use strict";a("7539")},"6d84":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"check-box-container",style:{width:t.width,height:t.height},on:{click:function(e){return t.toggleCheck()}}},[a("div",{staticClass:"checkbox-icon"},[t.checked&&!t.disabled?a("img",{key:"select",attrs:{alt:"",src:t.$cdnImageUrl+"/common/checked.svg",width:t.width,height:t.height}}):t._e(),t.checked||t.disabled?t._e():a("img",{key:"unselected",attrs:{alt:"",src:t.$cdnImageUrl+"/cart/icon-unselected.png",width:t.width,height:t.height}}),t.disabled&&!t.defaultSelect?a("img",{key:"unselected",staticClass:"disabled",attrs:{alt:"",src:t.$cdnImageUrl+"/cart/icon-unselected.png",width:t.width,height:t.height}}):t._e(),t.disabled&&t.defaultSelect?a("img",{key:"defaultSelected",staticClass:"disabled",attrs:{alt:"",src:t.$cdnImageUrl+"/common/checked.svg",width:t.width,height:t.height}}):t._e()]),t._t("default")],2)},o=[],s={name:"CommonCkeckBox",model:{prop:"checked",event:"changeCheck"},props:{checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},defaultSelect:{type:Boolean,default:!1},width:{type:String,default:"16px"},height:{type:String,default:"16px"}},created:function(){console.log("disabled",this.disabled)},data:function(){return{}},methods:{toggleCheck:function(){this.disabled||(this.$emit("changeCheck",!this.checked),this.$emit("toggleCheck"))}},watch:{checked:{handler:function(t,e){this.$emit("onChange")},deep:!0}}},n=s,c=(a("1439"),a("2877")),r=Object(c["a"])(n,i,o,!1,null,"52924c86",null);e["a"]=r.exports},"6ff3":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"small"==t.size?a("div",{staticClass:"tag"},[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/search/living.gif",alt:""}}),t._v(" 直播中 ")]):a("div",{staticClass:"tag-big"},[a("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/search/live_big.gif",alt:""}})])},o=[],s={name:"LiveTag",props:["size"]},n=s,c=(a("6d76"),a("2877")),r=Object(c["a"])(n,i,o,!1,null,"3d20227a",null);e["a"]=r.exports},7539:function(t,e,a){},"7fdc":function(t,e,a){},"80cc":function(t,e,a){"use strict";a("347c")},a73f:function(t,e,a){"use strict";var i=function(t,e){var a=e._c;return e.props.nums>0?a("div",{staticClass:"m-skeleton",style:{"z-index":e.props.zIndex||0}},[a("div",{style:{background:e.props.bgColor,height:e.props.fheight}}),e._l(e.props.nums-1,(function(t){return a("div",{key:t,style:{background:e.props.bgColor,height:e.props.iheight}})}))],2):e._e()},o=[],s=(a("80cc"),a("2877")),n={},c=Object(s["a"])(n,i,o,!0,null,null,null);e["a"]=c.exports},a9d4:function(t,e,a){"use strict";a("f2ee")},c0a4:function(t,e,a){"use strict";a("52cc")},c380:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"count-box",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"sub-btn",on:{click:function(e){return t.subCount()}}},[a("img",{style:{background:t.subBtnDisable||t.disable?"#ccc":"#333"},attrs:{alt:""}})]),a("div",{staticClass:"count-input",style:{color:t.disable?"#ccc":"#333"}},[t._v(" "+t._s(t.number)+" ")]),a("div",{staticClass:"add-btn",on:{click:function(e){return t.addCount()}}},[a("img",{attrs:{src:t.disable||t.addBtnDisable?t.addBtnDisableSrc:t.addBtn,alt:""}})])])},o=[],s={props:{disable:{type:Boolean,default:!1},itemIndex:{type:Number,default:-1},min:{type:Number,default:1},max:{type:Number,default:500},num:{type:Number,default:1},hasLimit:{type:Boolean,default:!1}},data:function(){return{number:1,subBtnDisable:!0,addBtnDisable:!1,addBtn:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/icon/stepperAdd.png",addBtnDisableSrc:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/icon/stepperAddDisable.png",inputContent:""}},watch:{num:{handler:function(t){this.number=t,this.subBtnDisable=t===this.min,this.addBtnDisable=t>=this.max},immediate:!0},number:function(t){this.subBtnDisable=t===this.min,this.addBtnDisable=t>=this.max,this.$emit("update:num",t)}},methods:{addCount:function(){this.disable||this.addBtnDisable||(this.hasLimit?this.upDateStep("add",this.number+1):(this.number++,this.upDateStep("add",this.number)))},subCount:function(){this.disable||this.subBtnDisable||(this.number--,this.upDateStep("sub",this.number))},upDateStep:function(t,e){this.$emit("stepperChange",e,this.itemIndex,t)},change:function(t){this.inputContent=t.data},onBlur:function(t){var e=+this.inputContent;""===e?this.number=this.num:e<this.min?e=this.min:e>this.max&&(e=this.max),this.number=e,this.upDateStep("",this.number)}}},n=s,c=(a("dde7"),a("2877")),r=Object(c["a"])(n,i,o,!1,null,"cf587698",null);e["a"]=r.exports},c63d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("div",{staticClass:"go-top",class:t.classList},[a("div",{staticClass:"top",on:{click:t.toGotop}},[a("img",{attrs:{src:t.$cdnImageUrl+"/common/common-to-top-icon.png"}}),a("span",[t._v("顶部")])]),t.isHaierApp&&t.feedShow?a("div",{staticClass:"divider"}):t._e(),t.isHaierApp&&t.feedShow?a("div",{staticClass:"bottom",on:{click:function(e){return t.toFeedBack()}}},[a("img",{attrs:{src:t.$cdnImageUrl+"/common/common-edit-icon.png"}}),a("span",[t._v("反馈")])]):t._e()]):t._e()},o=[],s={props:{isShow:{type:Boolean,default:function(){return!1}},classList:{type:Object,default:function(){return{}}},feedShow:{type:Boolean,default:function(){return!0}},code:{type:Number,default:function(){return null}}},data:function(){return{isHaierApp:!1,timer:null}},created:function(){this.isHaierApp=this.$util.isUplus()},watch:{isShow:{handler:function(t){var e=this;console.log(t),console.log("this.timer:",this.timer),t?this.timer?(clearTimeout(this.timer),this.timer=null):this.timer=setTimeout((function(){e.hiddenFeedBack()}),4e3):(clearTimeout(this.timer),this.timer=null)}}},methods:{hiddenFeedBack:function(){console.log("hiddenFeedBack"),this.$emit("hiddenFeedBack")},toGotop:function(){this.$emit("toTop")},toFeedBack:function(){if(this.$store.getters.getLoginStatus){var t="https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html";this.code&&(t="https://uplus.haier.com/uplusapp/problemFeedBack/feedback.html?code="+this.code),this.$util.openNewWindow(t,!0,!1,!1)}else this.$store.dispatch("doLogin").then((function(t){400===t&&console.log("请求异常")}))}}},n=s,c=(a("4b7d"),a("2877")),r=Object(c["a"])(n,i,o,!1,null,"7733b653",null);e["default"]=r.exports},dde7:function(t,e,a){"use strict";a("5691")},f2ee:function(t,e,a){},fc3c:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShowMemberPrice&&t.memberPrice?a("div",{staticClass:"member-price",style:t.mStyle},[a("span",{staticClass:"symbol"},[t._v("￥")]),a("span",{staticClass:"member-price-int",style:{"font-size":t.isBig?".36rem":".28rem",top:t.isBig?".02rem":"0"}},[t._v(" "+t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.memberPrice)))+" ")]),a("span",{staticClass:"member-price-float"},[t._v(" "+t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.memberPrice)))+t._s(t.hasMinPrice?"起":"")+" ")]),a("img",{attrs:{src:"//cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/plus.png"}})]):t._e()},o=[],s={props:["memberPrice","mStyle","isBig","hasMinPrice"],data:function(){return{isShowMemberPrice:this.$util.isShowMemberPrice()}}},n=s,c=(a("a9d4"),a("2877")),r=Object(c["a"])(n,i,o,!1,null,"0499ae71",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-4cefcdb0.d0ef2ad1.js.map