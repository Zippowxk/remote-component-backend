{"version":3,"sources":["webpack:///./src/views/banner/bannerSubject.vue?ee21","webpack:///src/views/banner/bannerSubject.vue","webpack:///./src/views/banner/bannerSubject.vue?9f18","webpack:///./src/views/banner/bannerSubject.vue","webpack:///./src/components/top-feedBack/mixins_inpage_scroll.js","webpack:///./src/views/banner/bannerSubject.vue?7dd3","webpack:///./src/http/service/banner.js","webpack:///./src/components/skeleton/index.vue?62cb","webpack:///./src/components/skeleton/index.vue?3508","webpack:///./src/components/skeleton/index.vue?db06"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ref","on","handleScroll","$route","query","browerFirstIn","_e","goBack","$globalIcon","whiteBackIcon","isUplus","isFromRN","isFromIhaier","doShare","whiteShareIcon","_l","item","index","key","$event","imgClick","style","getImgUrl","_f","imageUrl","replace","$webpSurpport","showToTopFlag","hiddenFeedBack","fnScrollToTop","staticRenderFns","instance","initDeviceReady","activityInfo","isHost","storeId","scrollTop","name","mixins","components","Skeleton","data","isSkeletonLoading","$util","isHaierApp","isSgRn","isIhaierApp","dataList","scrollTarget","userInfo","beforeRouteEnter","utils","window","postMessage","next","mounted","gioTrackWithVariable","activity_id","id","activity_type","isWdHost","doShowUplusLive","console","log","taskCode","$store","dispatch","then","res","activated","$nextTick","computed","methods","option","$refs","contentContainer","_scrollTop","isShowLive","sessionStorage","getItem","upLiveModule","showFloatWindow","title","content","pic","url","inAppShare","desc","thumImage","banner","success","localData","storeMemberId","err","getActivityPage","bannerId","backUrl","setTimeout","cb","imgUrl","type","Number","activityUrlType","params","activityUrl","elementId","shareHandler","info","text","clipboard","component","topFeedBack","debouncedAction","throttle","ev","toTop","scrollSmoothTo","position","requestAnimationFrame","callback","_target","document","querySelector","step","distance","Math","abs","scrollTo","getCustomPage","axios","get","Url","GET_CUSTOM_PAGE","GET_ACTIVITY_PAGE","getCouponDetail","GET_COUPON_DETAIL","setCouponRemind","REMIND_COUPONS_LIST","getCoupon","receiveCoupon","props","nums","zIndex","bgColor","height","fheight","iheight","script"],"mappings":"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","file":"js/bannerSubject.7762acb5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.isSkeletonLoading)?_c('skeleton',{attrs:{\"nums\":4,\"iheight\":'.4rem'}}):_c('div',[_c('div',{ref:\"contentContainer\",staticClass:\"content-container\",on:{\"scroll\":_vm.handleScroll}},[(!_vm.$route.query.browerFirstIn)?_c('div',{staticClass:\"icon-back\",on:{\"click\":_vm.goBack}},[_c('img',{attrs:{\"src\":_vm.$globalIcon.whiteBackIcon}})]):_vm._e(),(_vm.isUplus || _vm.isFromRN || _vm.isFromIhaier)?_c('div',{staticClass:\"share-btn\",on:{\"click\":_vm.doShare}},[_c('img',{attrs:{\"alt\":\"\",\"src\":_vm.$globalIcon.whiteShareIcon}})]):_vm._e(),_c('van-grid',{attrs:{\"border\":false,\"column-num\":2}},_vm._l((_vm.dataList),function(item,index){return _c('van-grid-item',{key:index,attrs:{\"id\":(\"banner\" + (item.id))},on:{\"click\":function($event){return _vm.imgClick(item)}}},[_c('div',{staticClass:\"van-grid-item__content\",style:({\n              'background-image': _vm.getImgUrl(item),\n              'background-size': '100%',\n            })},[_c('van-image',{attrs:{\"lazy-load\":\"\",\"width\":\"100%\",\"src\":_vm._f(\"imageToWebp\")(item.imageUrl.replace('http:', 'https:'),_vm.$webpSurpport)}})],1)])}),1)],1)]),_c('top-feedBack',{attrs:{\"isShow\":_vm.showToTopFlag},on:{\"hiddenFeedBack\":_vm.hiddenFeedBack,\"toTop\":_vm.fnScrollToTop}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <skeleton :nums=\"4\" :iheight=\"'.4rem'\" v-if=\"isSkeletonLoading\" />\n    <div v-else>\n      <div ref=\"contentContainer\" class=\"content-container\" @scroll=\"handleScroll\">\n        <div class=\"icon-back\" @click=\"goBack\" v-if=\"!$route.query.browerFirstIn\">\n          <img :src=\"$globalIcon.whiteBackIcon\"/>\n        </div>\n        <div v-if=\"isUplus || isFromRN || isFromIhaier\" @click=\"doShare\" class=\"share-btn\">\n          <img alt :src=\"$globalIcon.whiteShareIcon\" />\n        </div>\n        <van-grid :border=\"false\" :column-num=\"2\">\n          <van-grid-item v-for=\"(item, index) in dataList\" @click=\"imgClick(item)\" :id=\"`banner${item.id}`\" :key=\"index\">\n            <div\n              class=\"van-grid-item__content\"\n              :style=\"{\n                'background-image': getImgUrl(item),\n                'background-size': '100%',\n              }\"\n            >\n              <van-image lazy-load width='100%' :src=\"item.imageUrl.replace('http:', 'https:') | imageToWebp($webpSurpport)\" />\n            </div>\n          </van-grid-item>\n        </van-grid>\n      </div>\n    </div>\n    <!-- 返回顶部 -->\n    <top-feedBack :isShow=\"showToTopFlag\" @hiddenFeedBack=\"hiddenFeedBack\"  @toTop=\"fnScrollToTop\"></top-feedBack>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport bannerService from '@/http/service/banner';\nimport Skeleton from '@/components/skeleton/index.vue';\nimport utils from '@/utils/utils';\nimport { imageToWebp } from '@/utils/filters'\nimport UplusApi from '@uplus/uplus-api'\nimport ClipboardJS from 'clipboard'; // 复制插件\nimport mixins from '@/components/top-feedBack/mixins_inpage_scroll.js'\n\n// import { myManageinfo } from '@/http/service/mine'\nconst instance = new UplusApi()\ninstance.initDeviceReady()\n\nconst localData = {\n  activityInfo: {},\n  isHost: 0,\n  storeId: '',\n  scrollTop: 0, // 记录滚动位置\n};\nexport default {\n  name: 'bannerSubject',\n  mixins: [mixins],\n  components: {\n    Skeleton,\n  },\n  data () {\n    return {\n      isSkeletonLoading: true,\n      isUplus: this.$util.isHaierApp(),\n      isFromRN: this.$util.isSgRn(),\n      isFromIhaier: this.$util.isIhaierApp(),\n      dataList: [],\n      scrollTarget: '.content-container', // 页面滚动元素\n      userInfo: null // 用户信息\n    };\n  },\n  beforeRouteEnter (to, from, next) {\n    if (utils.isSgRn()) {\n      const bannerThemeId = to.query.id;\n      const storeId = to.query.storeId;\n      window.postMessage(\n        JSON.stringify({\n          type: 'goBannerTheme',\n          data: {\n            bannerThemeId,\n            storeId,\n          },\n        })\n      )\n      next(false)\n    } else {\n      next();\n    }\n  },\n  // 关闭直播\n  // beforeRouteLeave(to, from, next) {\n  //   if (utils.isUplus()) {\n  //     let isShowLive = from.query.show_live\n  //     console.log('bannerSubject beforeRouteLeave', to.name, isShowLive);\n  //     if (+isShowLive && to.name !== 'detail') {\n  //       instance.initDeviceReady().then(() => {\n  //         instance.upLiveModule.closeFloatWindow().then(result => {\n  //           next()\n  //         }).catch(() => {\n  //           next()\n  //         })\n  //       }).catch(() => {\n  //         next()\n  //       })\n  //     } else {\n  //       next()\n  //     }\n  //   } else {\n  //     next()\n  //   }\n  // },\n  mounted () {\n    this.$util.gioTrackWithVariable('mall_activity_view', {\n      activity_id: this.$route.query.id,\n      activity_type: '主题活动'\n    })\n    this.isWdHost();\n    if (utils.isUplus()) {\n      this.doShowUplusLive()\n      console.log(this.$route.query, 'just in url')\n      if (this.$route.query.taskCode) {\n        this.$store.dispatch('doReviewTime', this.$route.query).then(res => {\n          res && this.$toast('已达成浏览时长')\n        })\n      }\n    }\n  },\n  activated () {\n    this.$nextTick(() => {\n      if (this.$refs.contentContainer) {\n        this.$refs.contentContainer.scrollTo(0, localData.scrollTop || 0);\n      }\n    })\n  },\n  computed: {\n    ...mapGetters(['mId']),\n    ...mapGetters({\n      accessToken: 'accessToken',\n    }),\n  },\n  methods: {\n    getImgUrl(item) {\n      return `url(${imageToWebp(item.imageUrl.replace('http:', 'https:'), this.$webpSurpport)})`\n    },\n    option() {\n      if (!this.$refs.contentContainer) return\n      let _scrollTop = this.$refs.contentContainer.scrollTop\n      this.showToTopFlag = _scrollTop > 200\n    },\n    // 调用直播\n    doShowUplusLive () {\n      let isShowLive = this.$route.query.show_live\n      if (+isShowLive && !sessionStorage.getItem('showlive')) {\n        instance.initDeviceReady().then(() => {\n          instance.upLiveModule.showFloatWindow()\n        })\n      }\n    },\n    doShare () {\n      this.$util.gioTrackWithVariable('mall_activity_click_share', {\n        activity_id: this.$route.query.id + '',\n        activity_type: '主题活动'\n      })\n      const title = localData.activityInfo.title; // 分享标题\n      const content = localData.activityInfo.content || '海尔智家商城'; // 分享内容\n      const pic = localData.activityInfo.imgUrl; // 分享图片，写绝对路径\n      const id = this.$route.query.id;\n      let url = this.mId\n        ? `${location.origin}${location.pathname}?id=${id}&shareId=${this.mId}`\n        : `${location.origin}${location.pathname}?id=${id}`\n\n      if (this.isFromRN) {\n        window.postMessage('custPageShare|' + title + '|' + content + '|' + pic + '|' + url);\n      } else if (this.$util.isHaierApp() || this.$util.isIhaierApp()) {\n        this.$util.inAppShare({\n          title,\n          url,\n          desc: content,\n          thumImage: pic,\n        }).then(res => console.log(res))\n      }\n    },\n    goBack () {\n      this.$store.dispatch('doHistoryBack');\n      // this.dataList = [];\n    },\n    isWdHost (cb) {\n      bannerService.isWdHost().then(res => {\n        console.log('isWdHost:', res.data);\n        if (res.data.success) {\n          localData.isHost = res.data.data.isHost;\n          localData.storeId = res.data.data.storeMemberId;\n          this.getActivityPage(cb);\n        }\n      }).catch(err => {\n        console.log(err);\n        localData.isHost = 0;\n        localData.storeId = 0;\n        this.getActivityPage();\n      });\n    },\n    getActivityPage (cb) {\n      let id = this.$route.query.id;\n      bannerService.getActivityPage({\n        bannerId: id,\n        storeId: localData.storeId,\n        isHost: localData.isHost,\n        backUrl: ''\n      }).then(res => {\n        console.log(res.data);\n        if (res.data.success) {\n          this.isSkeletonLoading = false;\n          localData.activityInfo = res.data.data\n          this.dataList = res.data.data.productList;\n          setTimeout(() => {\n            this.$refs.contentContainer.scrollTo(0, localData.scrollTop || 0);\n          }, 500);\n        }\n        cb && cb()\n        // 二次分享\n        this.$store.dispatch('WeChatSecondShare', {\n          title: localData.activityInfo.title,\n          desc: localData.activityInfo.content,\n          thumImage: localData.activityInfo.imgUrl,\n        })\n      });\n    },\n    imgClick (item) {\n      localData.scrollTop = this.$refs.contentContainer.scrollTop;\n      this.$store.dispatch('goPageByType', {\n        type: Number(item.activityUrlType),\n        params: item.activityUrl,\n        elementId: item.id\n      })\n    },\n    // 分享通用逻辑\n    shareHandler (info) {\n      if (this.$util.isHaierApp()) {\n        this.$util.inAppShare({\n          title: info.title || '海尔智家商城',\n          desc: info.desc || '海尔智家商城',\n          url: info.url\n        })\n      } else {\n        const clipboard = new ClipboardJS(`#banner${info.id}`, {\n          text: function (trigger) {\n            return info.url;\n          }\n        });\n        clipboard.on('success', () => {\n          this.$toast('活动链接复制成功！');\n        });\n        clipboard.on('error', () => {\n          this.$toast('复制失败');\n        });\n      }\n    },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.warp {\n  height: 100%;\n  overflow: hidden;\n  overflow-y: auto;\n}\n\n.van-grid ::v-deep .van-grid-item__content {\n  padding: 0;\n  margin: 0;\n}\n.container {\n  position: relative;\n  background-color: white;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.content-container {\n  position: relative;\n  background-color: white;\n  height: 100vh;\n  display: flex;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  flex-direction: column;\n}\n.icon-back,\n.share-btn {\n  position: fixed;\n  width: 0.64rem;\n  height: 0.64rem;\n  top: 0.32rem;\n  z-index: 10;\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 50%;\n  box-sizing: border-box;\n  padding: 0.14rem;\n  img {\n    -webkit-touch-callout: none;\n    pointer-events: none;\n  }\n}\n.icon-back {\n  left: 50%;\n  width: 0.62rem;\n  transform: translateX(-3.6rem);\n  img {\n    width: 59%;\n  }\n}\n.share-btn {\n  right: 0.24rem;\n  img {\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bannerSubject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bannerSubject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bannerSubject.vue?vue&type=template&id=0609c9d0&scoped=true&\"\nimport script from \"./bannerSubject.vue?vue&type=script&lang=js&\"\nexport * from \"./bannerSubject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bannerSubject.vue?vue&type=style&index=0&id=0609c9d0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0609c9d0\",\n  null\n  \n)\n\nexport default component.exports","// import topFeedBack from '@/components/top-feedBack/index'\nconst topFeedBack = () => import('@/components/top-feedBack/index')\n\nexport default {\n  components: {\n    topFeedBack\n  },\n  data() {\n    return {\n      showToTopFlag: false,\n      scrollTarget: '' // 页面滚动元素\n    }\n  },\n  mounted() {\n    this.debouncedAction = this.$util.throttle(this.option, 100)\n  },\n  methods: {\n    handleScroll(ev) {\n      this.debouncedAction()\n    },\n    option() {\n      let _scrollTop = this.$refs.toTop.scrollTop\n      this.showToTopFlag = _scrollTop > 200\n    },\n    /**\n     * 隐藏 FeedBack\n    */\n    hiddenFeedBack() {\n      this.showToTopFlag = false\n    },\n    /**\n     * 返回顶部\n    */\n    fnScrollToTop() {\n      // this.$refs.toTop.scrollIntoView({\n      //   block: 'start',\n      //   behavior: 'smooth', // 平滑过渡\n      // }) // 回到顶部\n      this.scrollSmoothTo(0)\n    },\n    /**\n     * 模拟动画滚动\n    */\n    scrollSmoothTo(position) {\n      if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = function(callback) {\n          return setTimeout(callback, 17);\n        };\n      }\n      // debugger\n      let _target = document.querySelector(this.scrollTarget)\n      // 当前滚动高度\n      let scrollTop = _target.scrollTop;\n\n      // 滚动step方法\n      let step = function () {\n        // 距离目标滚动距离\n        var distance = position - scrollTop;\n        // 目标滚动位置\n        scrollTop = scrollTop + distance / 10;\n        if (Math.abs(distance) < 1) {\n          _target.scrollTo(0, position);\n        } else {\n          _target.scrollTo(0, scrollTop);\n          requestAnimationFrame(step);\n        }\n      };\n      step();\n    },\n  },\n}\n","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bannerSubject.vue?vue&type=style&index=0&id=0609c9d0&lang=scss&scoped=true&\"","/**\n * banner页相关\n */\nimport Url from '../url.js';\n// import HOST from '@/config';\nimport axios from '../http';\n\n/**\n * 获取动态活动页详情\n */\nexport const getCustomPage = params => axios.get(Url.GET_CUSTOM_PAGE, { params });\n\n/**\n * 获取主题活动详情\n */\nexport const getActivityPage = params => axios.get(Url.GET_ACTIVITY_PAGE, { params });\n\n/**\n * 获取优惠券详情 couponId=40189\n */\nexport const getCouponDetail = params => axios.get(Url.GET_COUPON_DETAIL, { params });\n\n/**\n * 设置领取优惠券提醒\n */\nexport const setCouponRemind = params => axios.get(Url.REMIND_COUPONS_LIST, { params });\n\n/**\n * 领取优惠券\n */\nexport const getCoupon = params => axios.get(Url.receiveCoupon, { params });\n\n/**\n * 是否为微店主接口\n */\nexport const isWdHost = (params) => axios.get(Url.isWdHost, { params });\n\nexport default {\n  getCustomPage,\n  getActivityPage,\n  getCouponDetail,\n  setCouponRemind,\n  getCoupon,\n  isWdHost,\n};\n","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function (_h,_vm) {var _c=_vm._c;return (_vm.props.nums > 0)?_c('div',{staticClass:\"m-skeleton\",style:({'z-index': _vm.props.zIndex || 0})},[_c('div',{style:({'background': _vm.props.bgColor, height: _vm.props.fheight})}),_vm._l((_vm.props.nums - 1),function(item){return _c('div',{key:item,style:({'background': _vm.props.bgColor, 'height': _vm.props.iheight})})})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a0d47b2e&functional=true&\"\nvar script = {}\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}