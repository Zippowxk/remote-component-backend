{"version":3,"sources":["webpack:///./src/components/skeleton/index.vue?62cb","webpack:///./src/components/skeleton/index.vue?3508","webpack:///./src/components/skeleton/index.vue?db06","webpack:///./src/views/channel/fc.vue?24af","webpack:///src/views/channel/fc.vue","webpack:///./src/views/channel/fc.vue?4392","webpack:///./src/views/channel/fc.vue"],"names":["render","_h","_vm","_c","props","nums","staticClass","style","zIndex","bgColor","height","fheight","_l","item","key","iheight","_e","staticRenderFns","script","component","this","$createElement","_self","attrs","utils","ua","components","skeleton","data","skeletonLoading","fc","baseInfo","computed","getShareId","sessionStorage","getItem","sceneUrl","created","$route","query","activated","$store","dispatch","exchangeFkUrl","mounted","addListener","methods","console","log","$util","isHaierApp","instance","initDeviceReady","then","addResumeEventListener","fcSceneCode","streetId","location","townshipId","shareId","res","success","includes","type","jumpType","params"],"mappings":"2IAAA,W,kCCAA,IAAIA,EAAS,SAAUC,EAAGC,GAAM,IAAIC,EAAGD,EAAIC,GAAG,OAAQD,EAAIE,MAAMC,KAAO,EAAGF,EAAG,MAAM,CAACG,YAAY,aAAaC,MAAM,CAAE,UAAWL,EAAIE,MAAMI,QAAU,IAAK,CAACL,EAAG,MAAM,CAACI,MAAM,CAAE,WAAcL,EAAIE,MAAMK,QAASC,OAAQR,EAAIE,MAAMO,WAAYT,EAAIU,GAAIV,EAAIE,MAAMC,KAAO,GAAG,SAASQ,GAAM,OAAOV,EAAG,MAAM,CAACW,IAAID,EAAKN,MAAM,CAAE,WAAcL,EAAIE,MAAMK,QAAS,OAAUP,EAAIE,MAAMW,eAAe,GAAGb,EAAIc,MAC/XC,EAAkB,G,wBCAlBC,EAAS,GAMTC,EAAY,eACdD,EACAlB,EACAiB,GACA,EACA,KACA,KACA,MAIa,OAAAE,E,kDClBf,IAAInB,EAAS,WAAa,IAAIE,EAAIkB,KAASnB,EAAGC,EAAImB,eAAmBlB,EAAGD,EAAIoB,MAAMnB,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,KAAKiB,MAAM,CAAC,GAAK,OAAO,CAAErB,EAAmB,gBAAEC,EAAG,WAAW,CAACoB,MAAM,CAAC,KAAO,KAAKrB,EAAIc,MAAM,IAC7MC,EAAkB,G,mvBCUtB,iBACA,OACIO,EAAJ,gBACEC,EAAK,UACP,sBACEA,EAAK,UAEP,OACE,GAAM,IACN,OAAU,IACV,QAAW,IACb,GACA,GACEC,WAAY,CACVC,SAAJ,QAEEC,KAJF,WAKI,MAAO,CACLC,iBAAiB,EACjBC,GAAI,GACJC,SAAU,OAGdC,SAAU,EAAZ,KACA,gBACI,SAAJ,qBAFA,IAIIC,WAJJ,WAKM,OAAOC,eAAeC,QAAQ,gBAAkB,MAElDC,SAPJ,WAQM,OAAOhB,KAAKW,SAAS,QAA3B,oBAGEM,QAtBF,WAuBIjB,KAAKU,GAAKV,KAAKkB,OAAOC,MAAMT,IAE9BU,UAzBF,WA0BI,GAAIpB,KAAKW,SAEPX,KAAKqB,OAAOC,SAAS,qBAC3B,CACM,IAAKtB,KAAKU,GAAI,OACdV,KAAKuB,kBAGTC,QAlCF,WAmCIxB,KAAKyB,eAOPC,QAAS,CACPD,YADJ,WACA,WACME,QAAQC,IAAI,8BACR5B,KAAK6B,MAAMC,cACbC,EAASC,kBAAkBC,MAAK,WAC9BF,EAASG,wBAAuB,WAC9BP,QAAQC,IAAI,uCACR,EAAhB,UAEc,EAAd,mCAEA,oBAOIL,cAlBJ,WAkBA,WACA,GACQY,YAAanC,KAAKU,GAClB0B,SAAUpC,KAAKqC,SAASC,WACxBC,QAASvC,KAAKa,YAEhB,EAAN,4CAEQ,GADAc,QAAQC,IAAI,iBAAkBY,GAC1BA,EAAIC,QAAS,CACf,EAAV,gBACUd,QAAQC,IAAI,EAAtB,UACU,IAAV,aACU,IAAKZ,EAIH,OAFA,EAAZ,sBACY,EAAZ,iCAGeA,EAAS0B,SAAS,KAGrB1B,GAAY,IAFZA,GAAY,IAIdA,GAAY,UAAtB,mHACU,IAAV,wEACA,IACqB,WAAPX,IACF,EAAZ,4BAGU,EAAV,gCACYsC,KAAMC,EACNC,OAAQ,WCnHuU,I,YCOvV9C,EAAY,eACd,EACAnB,EACAiB,GACA,EACA,KACA,KACA,MAIa,aAAAE,E","file":"js/chunk-56ee3316.eb8678ca.js","sourcesContent":["export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function (_h,_vm) {var _c=_vm._c;return (_vm.props.nums > 0)?_c('div',{staticClass:\"m-skeleton\",style:({'z-index': _vm.props.zIndex || 0})},[_c('div',{style:({'background': _vm.props.bgColor, height: _vm.props.fheight})}),_vm._l((_vm.props.nums - 1),function(item){return _c('div',{key:item,style:({'background': _vm.props.bgColor, 'height': _vm.props.iheight})})})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a0d47b2e&functional=true&\"\nvar script = {}\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fc\",attrs:{\"id\":\"fc\"}},[(_vm.skeletonLoading)?_c('skeleton',{attrs:{\"nums\":4}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"fc\" id=\"fc\">\n    <skeleton v-if=\"skeletonLoading\" :nums=\"4\"></skeleton>\n  </div>\n</template>\n<script>\nimport skeleton from '@/components/skeleton'\nimport personalApi from '@/http/service/index'\nimport { mapGetters } from 'vuex'\nimport utils from '@/utils/utils'\nimport UplusApi from '@uplus/uplus-api';\nconst instance = new UplusApi()\nlet ua = 'H5' // ua决定跳转链接与跳转方式\nif (utils.isSyBird()) {\n  ua = 'Flutter'\n} else if (utils.isSyBirdMP()) {\n  ua = 'WeChat'\n}\nconst jumpType = {\n  'H5': 101,\n  'WeChat': 102,\n  'Flutter': 16\n}[ua]\nexport default {\n  components: {\n    skeleton,\n  },\n  data() {\n    return {\n      skeletonLoading: true,\n      fc: '', // 场景fc\n      baseInfo: null\n    }\n  },\n  computed: {\n    ...mapGetters({\n      location: 'getlocationInfo',\n    }),\n    getShareId() {\n      return sessionStorage.getItem('shareUserId') || null;\n    },\n    sceneUrl() {\n      return this.baseInfo[`scene${ua}Url`]\n    }\n  },\n  created() {\n    this.fc = this.$route.query.fc\n  },\n  activated() {\n    if (this.baseInfo) {\n      // 逆向返回fc页面自动向后返回一层\n      this.$store.dispatch('doHistoryBack')\n    } else {\n      if (!this.fc) return\n      this.exchangeFkUrl()\n    }\n  },\n  mounted() {\n    this.addListener()\n  },\n  //   watch: {\n  //     '$route' (to, from) {\n  //       this.$router.go(0);\n  //     }\n  //   },\n  methods: {\n    addListener() {\n      console.log('addListener==============>')\n      if (this.$util.isHaierApp()) {\n        instance.initDeviceReady().then(() => {\n          instance.addResumeEventListener(() => {\n            console.log('app resume  doHistoryBack=======> 0')\n            if (this.baseInfo) {\n              // 逆向返回fc页面自动向后返回一层\n              this.$store.dispatch('doHistoryBack')\n            }\n          }, 'onresume_key');\n        });\n      }\n    },\n    /**\n     * @description fc交换fk地址\n    */\n    exchangeFkUrl() {\n      let param = {\n        fcSceneCode: this.fc,\n        streetId: this.location.townshipId,\n        shareId: this.getShareId\n      }\n      personalApi.getSceneDetailUrl(param).then(res => {\n        console.log('exchangeFkUrl:', res)\n        if (res.success) {\n          this.baseInfo = res.data\n          console.log(this.baseInfo)\n          let sceneUrl = this.sceneUrl\n          if (!sceneUrl) {\n            // 跳转地址\n            this.$toast('地址获取失败')\n            this.$store.dispatch('doHistoryBack')\n            return\n          }\n          if (!sceneUrl.includes('?')) {\n            sceneUrl += '?'\n          } else {\n            sceneUrl += '&'\n          }\n          sceneUrl += `userId=${this.$store.state.ucId ? this.$store.state.ucId : ''}&userAccessToken=${this.$store.getters.getUserCenterToken}`\n          let url = this.$util.injectISOAddressCodeToURL(sceneUrl, this.$store.getters.getlocationInfo)\n          let param = url\n          if (ua === 'WeChat') {\n            param = `{ \"wx\": \"${url}\"}`\n          }\n          // console.log(param, jumpType)\n          this.$store.dispatch('goPageByType', {\n            type: jumpType,\n            params: param,\n          })\n        }\n      })\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fc.vue?vue&type=template&id=c6326d12&\"\nimport script from \"./fc.vue?vue&type=script&lang=js&\"\nexport * from \"./fc.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}