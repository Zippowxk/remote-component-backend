(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4306023d"],{"09e8":function(e,t,a){"use strict";a("1a03")},"1a03":function(e,t,a){},"22da":function(e,t,a){"use strict";a("eff8")},"85a9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bank-list"},[a("van-list",{attrs:{finished:""}},e._l(e.lists,(function(t){return a("van-cell",{key:t.code,on:{click:function(a){return e.selectedFn(t)}}},[a("img",{staticClass:"bank-logo",attrs:{slot:"icon",src:e.imgBaseUrl+t.img+".png",alt:""},slot:"icon"}),a("div",{staticClass:"bank-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])})),1)],1)},i=[],r=a("2f62");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l={name:"bankslist",data:function(){return{imgBaseUrl:"//cdn09.ehaier.com/shunguang/H5/www/img/",lists:[]}},computed:s({},Object(r["d"])("bankcard",["getBankStyleInfo"])),mounted:function(){for(var e in this.getBankStyleInfo){var t={};t.code=e,t.img=this.getBankStyleInfo[e].img,t.name=this.getBankStyleInfo[e].name,this.lists.push(t)}},methods:{selectedFn:function(e){this.$emit("selected",e)}}},d=l,u=(a("09e8"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,"4f4a3f5b",null);t["a"]=p.exports},a8c15:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bind-card"},[a("h5",[e._v("请填写您的银行卡信息，本平台暂只支持储蓄卡认证和提现。")]),a("div",{staticClass:"bind-card-input"},[a("div",{staticClass:"input-item"},[a("div",{staticClass:"input-label"},[e._v("姓名")]),a("div",{staticClass:"input-flex"},[1===e.identifyFlag||"1"===e.identifyFlag?[a("input",{directives:[{name:"model",rawName:"v-model",value:e.realName,expression:"realName"}],staticClass:"omit",attrs:{type:"text",placeholder:"请输入法人姓名",maxlength:"50"},domProps:{value:e.realName},on:{input:function(t){t.target.composing||(e.realName=t.target.value)}}})]:[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",disabled:2!=e.userAccount},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]],2),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.identifyFlag&&e.realName.length,expression:"identifyFlag === 1 && realName.length"}],staticClass:"input-clear",on:{click:function(t){return e.clearFn("name")}}})]),a("div",{staticClass:"input-item"},[a("div",{staticClass:"input-label"},[e._v("身份证号")]),a("div",{staticClass:"input-flex"},[1===e.identifyFlag||"1"===e.identifyFlag?[a("input",{directives:[{name:"model",rawName:"v-model",value:e.realidcard,expression:"realidcard"}],attrs:{type:"text",placeholder:"请输入法人身份证号",maxlength:"18"},domProps:{value:e.realidcard},on:{input:function(t){t.target.composing||(e.realidcard=t.target.value)}}})]:[a("input",{directives:[{name:"model",rawName:"v-model",value:e.idcard,expression:"idcard"}],attrs:{type:"text",disabled:2!=e.userAccount},domProps:{value:e.idcard},on:{input:function(t){t.target.composing||(e.idcard=t.target.value)}}})]],2),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.identifyFlag&&e.realidcard.length,expression:"identifyFlag === 1 && realidcard.length"}],staticClass:"input-clear",on:{click:function(t){return e.clearFn("idcard")}}})]),a("div",{staticClass:"input-item"},[a("div",{staticClass:"input-label"},[e._v("银行卡号")]),a("div",{staticClass:"input-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.bankcard,expression:"bankcard"}],attrs:{type:"text",placeholder:"请输入银行卡号",maxlength:"24"},domProps:{value:e.bankcard},on:{input:[function(t){t.target.composing||(e.bankcard=t.target.value)},e.cardInputFn]}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bankcard.length,expression:"bankcard.length"}],staticClass:"input-clear",on:{click:function(t){return e.clearFn("bankcard")}}})]),a("div",[a("div",{staticClass:"input-item"},[a("div",{staticClass:"input-label"},[e._v("卡类型")]),a("div",{staticClass:"input-flex",on:{click:e.changeCardType}},[a("p",[e._v(e._s(e.cardName))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCardValild,expression:"!isCardValild"}],staticClass:"input-more"},[a("van-icon",{attrs:{name:"arrow",color:"#aaa"}})],1)]),a("div",{staticClass:"input-item",class:{"input-item-noborder":e.bankcard.length}},[a("div",{staticClass:"input-label"},[e._v("手机号")]),a("div",{staticClass:"input-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"tel",placeholder:"请输入银行预留手机号",maxlength:"11"},domProps:{value:e.phone},on:{input:[function(t){t.target.composing||(e.phone=t.target.value)},e.phoneInputFn]}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.phone.length,expression:"phone.length"}],staticClass:"input-clear",on:{click:function(t){return e.clearFn("phone")}}}),a("div",{staticClass:"input-notice",on:{click:e.noticeFn}})])])]),a("div",{staticClass:"bind-card-protocol"},[a("van-checkbox",{attrs:{"icon-size":".3rem"},on:{change:e.agreeChange},model:{value:e.isAgree,callback:function(t){e.isAgree=t},expression:"isAgree"}}),a("router-link",{attrs:{to:"/documentInfo?id=915&title=%E5%AE%9E%E5%90%8D%E8%AE%A4%E8%AF%81%E6%9C%8D%E5%8A%A1%E5%8D%8F%E8%AE%AE"}},[e._v("同意智家商城支付相关协议")])],1),a("div",{staticClass:"bind-card-btn"},[a("a",{class:{active:e.checkCanNext},attrs:{href:"javascript:;"},on:{click:e.doNext}},[e._v("下一步")]),a("p",[e._v("本服务由海尔海融易服务")])]),a("van-popup",{style:{height:"90%"},attrs:{closeable:"","close-icon-position":"top-right",position:"bottom"},model:{value:e.cardMore,callback:function(t){e.cardMore=t},expression:"cardMore"}},[a("div",{staticClass:"pop-box"},[a("h6",[e._v("选择所属银行")]),a("div",[a("banksList",{on:{selected:e.bankSelectFn}})],1)])])],1)},i=[],r=a("bbc2"),c=a("fa7d"),s=a("85a9"),o=a("2f62");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p={name:"bindcard",data:function(){return{name:"",realName:"",idcard:"",realidcard:"",bankcard:"",bankPhone:"",cardtype:"",bankCode:"",cardName:"请选择卡类型",isCardValild:!1,phone:"",cardMore:!1,isAgree:!0,canNext:!1,identifyFlag:"",userAccount:"",destination:void 0}},components:{banksList:s["a"]},mounted:function(){this.identifyFlag=this.$route.query.identifyFlag,this.destination=this.$route.query?this.$route.query.destination:void 0},computed:{checkCanNext:function(){return this.realName&&18===this.realidcard.length&&this.bankcard&&this.cardtype&&c["a"].isPhone(this.phone)&&this.isAgree}},watch:{identifyFlag:function(e){""!==e&&this.fetchInit()}},methods:d(d({},Object(o["e"])("bankcard",["setBankRegInfo"])),{},{doNext:function(){var e=this;if(!this.checkCanNext)return!1;var t="".concat(r["a"].POST_CHECKS,"?ownerName=").concat(this.realName,"&identityNo=").concat(this.realidcard,"&cardNo=").concat(this.bankcard.replace(/\s/g,""),"&mobile=").concat(this.phone);this.$http.post(t).then((function(t){var a=t.data.data;a.isThrough?e.sendCode():e.$toast(t.data.message)}))},sendCode:function(){var e=this;this.$http.get(r["a"].GET_CODEID+"?mobile="+this.phone).then((function(t){var a=t.data;a.success&&(e.setBankRegInfo({bankPhone:e.bankPhone,bankCode:e.bankCode,phone:e.phone,name:e.realName,cardNo:e.bankcard.replace(/\s/g,""),identityNo:e.realidcard}),e.destination?e.$router.replace("/verificationcode?destination=".concat(e.destination)):window.location&&-1!==window.location.href.indexOf("sg_rn_app")?e.$router.replace("/verificationcode?sg_rn_app"):e.$router.replace("/verificationcode"))}))},phoneInputFn:function(){},cardInputFn:function(e){var t=e.target.value;this.bankcard=t.replace(/(\d{4})(?=\d)/g,"$1 "),7===this.bankcard.length&&this.getBankName()},getBankName:function(){var e=this,t=this.bankcard.replace(/\s/g,"");this.$http.get(r["a"].GET_BANKNAME+"?cardNo="+t).then((function(t){var a=t.data.data;a.bankNames?(e.cardtype=a.bankNames.bankNo,e.cardName=a.bankNames.bankName,e.bankCode=a.bankNames.bankCode,e.bankPhone=a.bankPhone,e.isCardValild=!0):(e.cardtype="",e.cardName="请选择卡类型",e.isCardValild=!1)}))},changeCardType:function(){this.isCardValild||(this.cardMore=!0)},clearFn:function(e){switch(e){case"name":this.realName="";break;case"idcard":this.realidcard="";break;case"phone":this.phone="";break;case"bankcard":this.bankcard="";break;default:break}},fetchInit:function(){var e=this;this.$http.get(r["a"].TRUE_REALNAMEAUTH).then((function(t){var a=t.data.data;a.isAuth?e.fetchData():1!==e.identifyFlag&&"1"!==e.identifyFlag&&e.$dialog.confirm({title:"您还未进行实名认证，请先去认证"}).then((function(){window.location&&-1!==window.location.href.indexOf("sg_rn_app")?e.$router.replace("/trueAuthentication?sg_rn_app"):e.$router.replace("/trueAuthentication")}))["catch"]((function(){e.$store.dispatch("doHistoryBack")}))}))},fetchData:function(){var e=this;this.$http.get(r["a"].GET_BANK_CARD_INFO).then((function(t){if(t.data.success){var a=t.data.data;e.realName=a.realName,e.realidcard=a.identityNo,e.idcard=a.identityNo,e.name=a.realName,e.userAccount=a.accountStatus,3===+e.userAccount&&(e.idcard=a.identityNo.replace(/(\d{6})(\d+)(\d{2})/,(function(e,t,a,n){var i="";while(i.length<a.length)i+="*";return t+i+n})),e.name=a.realName.replace(/.{1}/,"*"))}else e.$toast(t.data.message)}))},bankSelectFn:function(e){this.cardMore=!1,this.cardtype=e.code,this.cardName=e.name},agreeChange:function(){},noticeFn:function(){this.$dialog.alert({message:'<p>银行预留手机号是您在办理该银行卡时所填写的手机号。如忘记、停用或无预留手机号，请拨打银行客服电话 <a href="tel:'+this.bankPhone+'" style="color: #1989fa">'+this.bankPhone+"</a> 更新处理!</p>"}).then((function(){}))}})},h=p,m=(a("22da"),a("2877")),f=Object(m["a"])(h,n,i,!1,null,"4b965838",null);t["default"]=f.exports},eff8:function(e,t,a){}}]);
//# sourceMappingURL=chunk-4306023d.7d6d968c.js.map