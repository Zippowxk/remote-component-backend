{"version":3,"sources":["webpack:///./src/views/freepwdPay/freeapply.vue?8a19","webpack:///src/views/freepwdPay/freeapply.vue","webpack:///./src/views/freepwdPay/freeapply.vue?7ce3","webpack:///./src/views/freepwdPay/freeapply.vue","webpack:///./node_modules/exif-js/exif.js","webpack:///./src/views/freepwdPay/freeapply.vue?8298"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","goback","on","$event","goToPage","slot","_v","inputCheckFn","model","value","callback","$$v","name","expression","idNo","cardType","cardText","changeSheet","formatter","cardNo","doCanmer","fileChange","cardTime","cardTimeText","selectTime","_e","cvv2","phoneDisable","phone","checked","stopPropagation","preventDefault","class","canNext","doNext","cardAction","onSelect","sheetShow","style","height","timeShow","minDate","maxDate","timeFormatter","timeConfirm","timeCancel","curDate","staticRenderFns","instance","initDeviceReady","components","Header","data","isUplus","$util","isHaierApp","fromFlag","ucid","Date","base64str","mounted","$route","query","addcard","getBankRegInfo","holder_name","id_no","card_type","card_text","card_expired_date","card_exdate_text","card_no","card_cvv2","mobile_no","isNext","computed","methods","length","$toast","isIdCard","isBankCard","replace","isPhone","$http","get","result","success","id_type","uc_user_id","setBankRegInfo","$store","dispatch","checkIsEmpty","item","type","val","year","month","$router","push","path","doReadImg","post","caseId","suffix","base64","split","console","log","then","upImageModule","openCamera","retData","base64Data","err","file","reader","readAsDataURL","onload","img","src","Orientation","_this","rotateImg","canvas","compressBase64","res","Promise","w","maxSize","width","h","multiple","Math","max","resizeW","resizeH","resolve","document","createElement","ctx","getContext","drawImage","_base64","minStep","maxStep","canvasWidth","maxWidth","canvasHeight","floor","base","step","direction","times","degree","PI","fillStyle","fillRect","rotate","imgData","getImageData","i","putImageData","toDataURL","component","debug","EXIF","obj","EXIFwrapped","module","exports","ExifTags","Tags","TiffTags","GPSTags","0","IFD1Tags","StringValues","ExposureProgram","1","2","3","4","5","6","7","8","MeteringMode","255","LightSource","9","10","11","12","13","14","15","17","18","19","20","21","22","23","24","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","Components","imageHasData","base64ToArrayBuffer","contentType","match","binary","atob","len","buffer","ArrayBuffer","view","Uint8Array","charCodeAt","objectURLToBlob","url","http","XMLHttpRequest","open","responseType","e","status","response","send","handleBinaryFile","binFile","findEXIFinJPEG","exifdata","iptcdata","findIPTCinJPEG","isXmpEnabled","xmpdata","findXMPinJPEG","call","test","arrayBuffer","fileReader","FileReader","target","blob","readAsArrayBuffer","self","Blob","File","byteLength","dataView","DataView","getUint8","marker","offset","readEXIFData","getUint16","isFieldSegmentStart","nameHeaderLength","startOffset","sectionLength","readIPTCData","IptcFieldMap","fieldValue","fieldName","dataSize","segmentType","segmentStartPos","getInt16","getStringFromDB","hasOwnProperty","Array","readTags","tiffStart","dirStart","strings","bigEnd","entryOffset","tag","entries","tags","readTagValue","vals","n","numerator","denominator","numValues","getUint32","valueOffset","Number","getInt32","getNextIFDOffset","readThumbnailImage","firstIFDOffset","IFD1OffsetPointer","thumbTags","JpegIFOffset","JpegIFByteCount","tOffset","tLength","start","outstr","String","fromCharCode","exifData","gpsData","tiffOffset","ExifIFDPointer","GPSInfoIFDPointer","dom","DOMParser","xmpString","xmpEndIndex","indexOf","substring","indexOfXmp","slice","domDocument","parseFromString","xml2Object","xml2json","xml","json","nodeType","attributes","j","attribute","nodeName","nodeValue","hasChildNodes","childNodes","child","old","children","idx","itemAtt","dataKey","dataValue","undefined","textContent","message","enableXmp","disableXmp","getData","Image","HTMLImageElement","complete","getTag","getIptcTag","getAllTags","a","getAllIptcTags","pretty","strPretty","readFromBinaryFile"],"mappings":"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","file":"js/chunk-952908f6.b061216f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"free-apply-warp\"},[_c('Header',{attrs:{\"text\":_vm.title,\"leftClick\":_vm.goback}},[_c('a',{attrs:{\"slot\":\"right\",\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.goToPage('/freebanklist')}},slot:\"right\"},[_vm._v(\"支持银行\")])]),_c('div',{staticClass:\"free-apply\"},[_c('van-field',{attrs:{\"label\":\"姓名\",\"placeholder\":\"请输入姓名\"},on:{\"input\":_vm.inputCheckFn},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('van-field',{attrs:{\"type\":\"text\",\"label\":\"身份证号\",\"maxlength\":\"18\",\"placeholder\":\"请输入身份证号\"},on:{\"input\":_vm.inputCheckFn},model:{value:(_vm.idNo),callback:function ($$v) {_vm.idNo=$$v},expression:\"idNo\"}}),_c('van-cell',{attrs:{\"title-class\":\"cell-title\",\"value-class\":{'sel-item': true, 'active': _vm.cardType},\"title\":\"银行卡类型\",\"is-link\":\"\",\"value\":_vm.cardText},on:{\"click\":_vm.changeSheet}}),_c('div',{staticClass:\"canmer-box\"},[_c('van-field',{attrs:{\"type\":\"number\",\"label\":\"银行卡号\",\"placeholder\":\"请输入银行卡号\",\"formatter\":_vm.formatter,\"maxlength\":\"25\"},on:{\"input\":_vm.inputCheckFn},model:{value:(_vm.cardNo),callback:function ($$v) {_vm.cardNo=$$v},expression:\"cardNo\"}}),_c('div',{staticClass:\"upload-btn\"},[(_vm.isUplus)?_c('div',{staticClass:\"icon-canmer\",on:{\"click\":_vm.doCanmer}},[_c('img',{attrs:{\"src\":\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/canmer.png\",\"alt\":\"\"}})]):_c('div',{staticClass:\"icon-canmer\"},[_c('img',{attrs:{\"src\":\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/canmer.png\",\"alt\":\"\"}}),_c('input',{attrs:{\"id\":\"file-img\",\"type\":\"file\",\"accept\":\"image/*\",\"capture\":\"camera\"},on:{\"change\":_vm.fileChange}})]),_c('p',[_vm._v(\"拍照添加\")])])],1),(_vm.cardType==2)?_c('van-cell',{attrs:{\"title-class\":\"cell-title\",\"value-class\":{'sel-item': true, 'active': _vm.cardTime},\"title\":\"信用卡有效期\",\"is-link\":\"\",\"value\":_vm.cardTimeText},on:{\"click\":_vm.selectTime}}):_vm._e(),(_vm.cardType==2)?_c('van-field',{attrs:{\"type\":\"text\",\"label\":\"CVV2\",\"placeholder\":\"请输入信用卡背面后三位号码\"},on:{\"input\":_vm.inputCheckFn},model:{value:(_vm.cvv2),callback:function ($$v) {_vm.cvv2=$$v},expression:\"cvv2\"}}):_vm._e(),_c('van-field',{attrs:{\"type\":\"tel\",\"label\":\"预留手机号\",\"disabled\":_vm.phoneDisable,\"placeholder\":\"请输入银行预留手机号\",\"maxlength\":\"11\"},on:{\"input\":_vm.inputCheckFn},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_c('div',{staticClass:\"free-agree\"},[_c('van-checkbox',{attrs:{\"icon-size\":\".32rem\"},on:{\"change\":_vm.inputCheckFn},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_c('span',[_vm._v(\"同意 \"),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.goToPage('/applyagree')}}},[_vm._v(\"《中国工商银行无卡支付客户服务协议》\")])])])],1),_c('div',{staticClass:\"free-btn\"},[_c('a',{class:{'active': _vm.canNext},attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.doNext}},[_vm._v(\"下一步\")]),_c('p',[_vm._v(\"本服务由中国工商银行服务\")]),_c('p',{staticClass:\"tips\"},[_vm._v(\"目前支持银行：工商银行、农业银行、建设银行、中国银行、交通银行、中信银行、招商银行、兴业银行、平安银行、光大银行、恒丰银行、华夏银行、民生银行（借记卡）、邮政储蓄银行、广发银行（信用卡）、浦发银行（信用卡）、北京银行（借记卡）\")])]),_c('van-action-sheet',{attrs:{\"actions\":_vm.cardAction,\"cancel-text\":\"取消\"},on:{\"select\":_vm.onSelect},model:{value:(_vm.sheetShow),callback:function ($$v) {_vm.sheetShow=$$v},expression:\"sheetShow\"}}),_c('van-popup',{style:({ height: '6rem' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.timeShow),callback:function ($$v) {_vm.timeShow=$$v},expression:\"timeShow\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"year-month\",\"title\":\"选择年月\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate,\"formatter\":_vm.timeFormatter},on:{\"confirm\":_vm.timeConfirm,\"cancel\":_vm.timeCancel},model:{value:(_vm.curDate),callback:function ($$v) {_vm.curDate=$$v},expression:\"curDate\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"free-apply-warp\">\n    <Header :text=\"title\" :leftClick=\"goback\">\n      <a href=\"javascript:;\" @click=\"goToPage('/freebanklist')\" slot=\"right\">支持银行</a>\n    </Header>\n    <div class=\"free-apply\">\n      <van-field v-model=\"name\" label=\"姓名\" placeholder=\"请输入姓名\" @input=\"inputCheckFn\"/>\n      <van-field v-model=\"idNo\" type=\"text\" label=\"身份证号\" maxlength=\"18\" placeholder=\"请输入身份证号\" @input=\"inputCheckFn\"/>\n      <van-cell title-class=\"cell-title\" :value-class=\"{'sel-item': true, 'active': cardType}\" title=\"银行卡类型\" is-link :value=\"cardText\" @click=\"changeSheet\"/>\n      <div class=\"canmer-box\">\n        <van-field v-model=\"cardNo\" type=\"number\" label=\"银行卡号\" placeholder=\"请输入银行卡号\" @input=\"inputCheckFn\" :formatter=\"formatter\" maxlength=\"25\"></van-field>\n        <div class=\"upload-btn\">\n          <div v-if=\"isUplus\" class=\"icon-canmer\" @click=\"doCanmer\"><img src=\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/canmer.png\" alt=\"\"></div>\n          <div v-else class=\"icon-canmer\"><img src=\"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/canmer.png\" alt=\"\"><input id=\"file-img\" type=\"file\" accept=\"image/*\" capture=\"camera\" @change=\"fileChange\"/></div>\n          <p>拍照添加</p>\n        </div>\n      </div>\n      <van-cell v-if=\"cardType==2\" title-class=\"cell-title\" :value-class=\"{'sel-item': true, 'active': cardTime}\" title=\"信用卡有效期\" is-link :value=\"cardTimeText\" @click=\"selectTime\"/>\n      <van-field v-if=\"cardType==2\" v-model=\"cvv2\" type=\"text\" label=\"CVV2\" placeholder=\"请输入信用卡背面后三位号码\" @input=\"inputCheckFn\"/>\n      <van-field v-model=\"phone\" type=\"tel\" label=\"预留手机号\" :disabled=\"phoneDisable\" placeholder=\"请输入银行预留手机号\" @input=\"inputCheckFn\" maxlength=\"11\"/>\n    </div>\n    <div class=\"free-agree\">\n      <van-checkbox v-model=\"checked\" icon-size=\".32rem\" @change=\"inputCheckFn\">\n        <span>同意 <a href=\"javascript:;\" @click.stop.prevent=\"goToPage('/applyagree')\">《中国工商银行无卡支付客户服务协议》</a></span>\n      </van-checkbox>\n    </div>\n    <div class=\"free-btn\">\n      <a href=\"javascript:;\" :class=\"{'active': canNext}\" @click=\"doNext\">下一步</a>\n      <p>本服务由中国工商银行服务</p>\n      <p class=\"tips\">目前支持银行：工商银行、农业银行、建设银行、中国银行、交通银行、中信银行、招商银行、兴业银行、平安银行、光大银行、恒丰银行、华夏银行、民生银行（借记卡）、邮政储蓄银行、广发银行（信用卡）、浦发银行（信用卡）、北京银行（借记卡）</p>\n    </div>\n\n    <van-action-sheet v-model=\"sheetShow\" :actions=\"cardAction\" @select=\"onSelect\" cancel-text=\"取消\"/>\n    <van-popup v-model=\"timeShow\" position=\"bottom\" :style=\"{ height: '6rem' }\">\n      <van-datetime-picker\n        v-model=\"curDate\"\n        type=\"year-month\"\n        title=\"选择年月\"\n        :min-date=\"minDate\"\n        :max-date=\"maxDate\"\n        :formatter=\"timeFormatter\"\n        @confirm=\"timeConfirm\"\n        @cancel=\"timeCancel\"\n      />\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/header'\nimport URL from '@/http/url'\nimport UplusApi from '@uplus/uplus-api';\nimport { mapMutations, mapGetters } from 'vuex'\nimport EXIF from 'exif-js'\n\nconst instance = new UplusApi()\ninstance.initDeviceReady()\n\nexport default {\n  name: 'freeapply',\n  components: {\n    Header\n  },\n  data() {\n    return {\n      isUplus: this.$util.isHaierApp(),\n\n      title: '物联支付签约',\n      fromFlag: '', // 来源标识  收银台绑卡 or 免密签约\n\n      ucid: '',\n\n      name: '',\n      idNo: '',\n      cardNo: '',\n      cvv2: '',\n      phone: '',\n      cardType: 1,\n      cardText: '借记卡',\n      cardTime: '',\n      cardTimeText: '请选择信用卡有效期',\n      checked: false,\n\n      sheetShow: false,\n      timeShow: false,\n      curDate: '',\n      minDate: new Date(),\n      maxDate: new Date(2050, 11, 31),\n\n      cardAction: [\n        { name: '借记卡', type: 1 },\n        { name: '信用卡', type: 2 },\n      ],\n\n      canNext: false,\n\n      phoneDisable: false,\n\n      base64str: '',\n    }\n  },\n  mounted() {\n    this.fromFlag = this.$route.query.addcard\n    if (this.fromFlag) {\n      this.title = '绑定银行卡'\n    }\n\n    this.ucid = this.$route.query.ucid\n    this.name = this.getBankRegInfo.holder_name\n    this.idNo = this.getBankRegInfo.id_no\n    this.cardType = this.getBankRegInfo.card_type || 1;\n    this.cardText = this.getBankRegInfo.card_text || '借记卡'\n    this.cardTime = this.getBankRegInfo.card_expired_date\n    this.cardTimeText = this.getBankRegInfo.card_exdate_text || '请选择信用卡有效期'\n    this.cardNo = this.getBankRegInfo.card_no\n    this.cvv2 = this.getBankRegInfo.card_cvv2\n    this.phone = this.getBankRegInfo.mobile_no\n    this.checked = this.getBankRegInfo.checked\n\n    if (this.getBankRegInfo.isNext) {\n      this.phoneDisable = true\n    }\n  },\n  computed: {\n    ...mapGetters('freebankcard', ['getBankRegInfo'])\n  },\n  methods: {\n    ...mapMutations('freebankcard', ['setBankRegInfo']),\n    doNext() {\n      // if (!this.checked) {\n      //   this.$dialog.alert({\n      //     message: '请阅读并同意《智家商城物联支付相关协议》'\n      //   })\n      // }\n      if (!this.canNext) return\n      if (this.name.length < 2 || this.name.length > 20) {\n        this.$toast('请输入正确的姓名!')\n        return\n      }\n      if (!this.$util.isIdCard(this.idNo)) {\n        this.$toast('身份证号格式有误，请重新填写!')\n        return\n      }\n      if (!this.$util.isBankCard(this.cardNo.replace(/\\s/g, ''))) {\n        this.$toast('请输入正确的银行卡号!')\n        return;\n      }\n      if (!this.$util.isPhone(this.phone)) {\n        this.$toast('请输入正确的手机号!')\n        return\n      }\n\n      let cardNo = this.cardNo.replace(/\\s/g, '');\n\n      this.$http.get(URL.GET_BANKCARD_TYPE + '?cardNo=' + cardNo + '&type=' + this.cardType).then(res => {\n        let result = res.data;\n        if (result.success) {\n          this.setBankRegInfo({\n            holder_name: this.name && this.name.replace(/\\s/g, ''),\n            id_no: this.idNo,\n            card_no: cardNo,\n            id_type: 0,\n            card_type: this.cardType,\n            card_text: this.cardText,\n            card_exdate_text: this.cardTimeText,\n            card_expired_date: this.cardTime,\n            card_cvv2: this.cvv2 && this.cvv2.replace(/\\s/g, ''),\n            mobile_no: this.phone,\n            // verify_code_no: result.data,\n            uc_user_id: this.ucid,\n            checked: this.checked,\n            isNext: true,\n          })\n          this.$router.push(this.fromFlag ? '/freesubmit?addcard=' + this.fromFlag : '/freesubmit')\n        } else {\n          this.$toast(result.message)\n        }\n      })\n    },\n\n    goback() {\n      this.setBankRegInfo({\n        isNext: false\n      })\n      this.$store.dispatch('doHistoryBack')\n    },\n\n    inputCheckFn() {\n      if (!this.checkIsEmpty()) {\n        this.canNext = true\n      } else {\n        this.canNext = false\n      }\n    },\n\n    checkIsEmpty() {\n      if (this.cardType === 1) {\n        return !this.name || !this.idNo || !this.cardNo || !this.phone || !this.checked\n      } else if (this.cardType === 2) {\n        return !this.name || !this.idNo || !this.cardNo || !this.phone || !this.cardTime || !this.cvv2 || !this.checked\n      } else {\n        return true\n      }\n    },\n\n    onSelect(item) {\n      this.cardType = item.type\n      this.cardText = item.name\n\n      this.cardTimeText = '请选择信用卡有效期'\n      this.cardTime = ''\n      this.cvv2 = ''\n\n      this.sheetShow = false\n      this.inputCheckFn()\n    },\n    changeSheet() {\n      this.sheetShow = true\n    },\n\n    selectTime() {\n      this.timeShow = true\n    },\n\n    formatter(value) {\n      return value.replace(/\\s/g, '').replace(/(\\d{4})(?=\\d)/g, '$1 ');\n    },\n    timeFormatter(type, val) {\n      if (type === 'year') {\n        return `${val}年`;\n      } else if (type === 'month') {\n        return `${val}月`;\n      }\n      return val;\n    },\n    timeConfirm(value) {\n      let year = new Date(value).getFullYear();\n      let month = new Date(value).getMonth() + 1;\n      this.cardTime = value\n      this.cardTimeText = '' + year + (month > 9 ? month : '0' + month)\n      this.timeShow = false\n    },\n    timeCancel() {\n      this.timeShow = false\n    },\n    goToPage(path) {\n      this.setBankRegInfo({\n        holder_name: this.name,\n        id_no: this.idNo,\n        card_no: this.cardNo && this.cardNo.replace(/\\s/g, ''),\n        id_type: 0,\n        card_type: this.cardType,\n        card_text: this.cardText,\n        card_exdate_text: this.cardTimeText,\n        card_expired_date: this.cardTime,\n        card_cvv2: this.cvv2,\n        mobile_no: this.phone,\n        uc_user_id: this.ucid,\n        checked: this.checked,\n        isNext: this.getBankRegInfo.isNext || false,\n      })\n      this.$router.push(path)\n    },\n    /**\n     * 图片识别接口\n    */\n    doReadImg(base64) {\n      // console.log(base64)\n      let suffix = base64.match(/data:image\\/(.*);base64/)[1]\n      // console.log(suffix)\n      this.$http.post(URL.READ_IMG_CARD_INFO, {\n        caseId: 17,\n        suffix: suffix,\n        base64: base64.split(';base64,')[1],\n      }).then((res) => {\n        let result = res.data;\n        console.log(result, 'ocr 识别卡号')\n        if (result.success) {\n          let cardNo = result.data.cardNo\n          this.cardNo = cardNo\n          console.log(this.cardNo, this.cardText, '++++++')\n          if (result.data.cardType === '借记卡') {\n            this.cardType = 1\n            this.cardText = result.data.cardType\n          }\n          if (result.data.cardType === '信用卡' || result.data.cardType === '准贷记卡' || result.data.cardType === '贷记卡') {\n            this.cardType = 2\n            this.cardText = '信用卡'\n          }\n        } else {\n          this.$toast(result.message)\n        }\n      })\n    },\n    /**\n     * 智家调取相机拍照\n     */\n    doCanmer() {\n      instance.initDeviceReady().then(() => {\n        instance.upImageModule.openCamera({ destinationType: 2 }).then((result) => {\n          console.log('canmer result', result);\n          if (result.retData.base64Data) {\n            this.compressBase64(result.retData.base64Data).then(res => {\n              this.doReadImg(res)\n            })\n          }\n        }, (err) => {\n          console.log(err)\n        })\n      })\n    },\n    /**\n     * h5调取相机\n     */\n    fileChange() {\n      let file = document.getElementById('file-img').files[0]\n      let reader = new FileReader();\n      if (file) {\n        reader.readAsDataURL(file)\n        reader.onload = () => {\n          let img = new Image();\n          img.src = reader.result;\n          img.onload = () => {\n            let Orientation = null\n            let _this = this;\n            let canvas = document.createElement('canvas');\n            EXIF.getData(file, function() {\n              Orientation = EXIF.getTag(this, 'Orientation')\n              switch (Orientation) {\n                case 6: // 需要顺时针（向左）90度旋转\n                  console.log('向左')\n                  _this.base64str = _this.rotateImg(img, 'right', canvas)\n                  break\n                case 8: // 需要逆时针（向右）90度旋转\n                  console.log('向右')\n                  _this.base64str = _this.rotateImg(img, 'left', canvas)\n                  break\n                case 3: // 需要180度旋转\n                  console.log('180')\n                  _this.base64str = _this.rotateImg(img, 'right', canvas, 2)\n                  break\n                default:\n                  console.log('正常')\n                  _this.base64str = _this.rotateImg(img, '', canvas)\n              }\n              console.log(Orientation, '++Orientation++')\n              _this.compressBase64(reader.result).then(res => {\n                _this.doReadImg(res)\n              })\n            })\n          }\n\n          // console.log(reader.result)\n          // this.compressBase64(reader.result).then(res => {\n          //   this.doReadImg(res)\n          // })\n        }\n      }\n    },\n    /**\n    * 压缩base64\n    * @maxSize 最大尺寸限制 超过则压缩\n    * @quality 压缩质量\n     */\n    compressBase64(base64, maxSize = { width: 500, height: 500 }, quality = 0.6) {\n      return new Promise((resolve) => {\n        let img = new Image();\n        img.src = base64;\n        img.onload = function() {\n          let w = this.naturalWidth;\n          let h = this.naturalHeight;\n          let resizeW = 0;\n          let resizeH = 0;\n          // console.log(w, h, 'img width height')\n          if (w > maxSize.width || h > maxSize.height) {\n            var multiple = Math.max(w / maxSize.width, h / maxSize.height);\n            resizeW = w / multiple;\n            resizeH = h / multiple;\n            // console.log('++++++aaa+++++')\n          } else { // 如果图片尺寸小于最大限制，则不压缩直接上传\n            resolve(base64)\n          }\n          var canvas = document.createElement('canvas');\n          var ctx = canvas.getContext('2d');\n          canvas.width = resizeW;\n          canvas.height = resizeH;\n          ctx.drawImage(img, 0, 0, resizeW, resizeH);\n          let _base64 = canvas.toDataURL('image/jpeg', quality);\n          resolve(_base64);\n        }\n      })\n    },\n\n    /**\n     * h5旋转图片\n     */\n    rotateImg(img, direction, canvas, times = 1) {\n      console.log('开始旋转')\n      // 最小与最大旋转方向，图片旋转4次后回到原方向\n      var minStep = 0;\n      var maxStep = 3;\n      if (img == null) return;\n      // img的高度和宽度不能在img元素隐藏后获取，否则会出错\n      var height = img.height;\n      var width = img.width;\n      // debugger\n      let maxWidth = this.maxWidth;\n      let canvasWidth = width; // 图片原始长宽\n      let canvasHeight = height;\n      let base = canvasWidth / canvasHeight;\n      if (canvasWidth > maxWidth) {\n        canvasWidth = maxWidth;\n        canvasHeight = Math.floor(canvasWidth / base);\n      }\n      width = canvasWidth;\n      height = canvasHeight;\n      var step = 0;\n\n      if (step == null) {\n        step = minStep;\n      }\n\n      if (direction === 'right') {\n        step += times;\n        // 旋转到原位置，即超过最大值\n        step > maxStep && (step = minStep);\n      } else if (direction === 'left') {\n        step -= times;\n        step < minStep && (step = maxStep);\n      } else { // 不旋转\n        step = 0;\n      }\n\n      // 旋转角度以弧度值为参数\n      var degree = step * 90 * Math.PI / 180;\n      var ctx = canvas.getContext('2d');\n      // 在canvas绘制前填充白色背景\n      ctx.fillStyle = '#fff';\n      ctx.fillRect(0, 0, this.maxWidth, this.maxWidth);\n\n      console.log(degree)\n      console.log(step)\n      switch (step) {\n        case 1:\n          console.log('右旋转 90度')\n          canvas.width = height;\n          canvas.height = width;\n          ctx.rotate(degree);\n          ctx.drawImage(img, 0, -height, width, height);\n          break;\n        case 2:\n          console.log('旋转 180度')\n          canvas.width = width;\n          canvas.height = height;\n          ctx.rotate(degree);\n          ctx.drawImage(img, -width, -height, width, height);\n          break;\n        case 3:\n          console.log('左旋转 90度')\n          canvas.width = height;\n          canvas.height = width;\n          ctx.rotate(degree);\n          ctx.drawImage(img, -width, 0, width, height);\n          break;\n        default: // 不旋转\n          canvas.width = width;\n          canvas.height = height;\n          console.log({\n            ctx,\n            canvas\n          });\n          ctx.drawImage(img, 0, 0, width, height);\n          break;\n      }\n\n      var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n      var data = imgData.data;\n      for (var i = 0; i < data.length; i += 4) {\n        if (data[i + 3] < 255) {\n          data[i] = 255 - data[i];\n          data[i + 1] = 255 - data[i + 1];\n          data[i + 2] = 255 - data[i + 2];\n          data[i + 3] = 255 - data[i + 3];\n        }\n      }\n      ctx.putImageData(imgData, 0, 0);\n\n      return canvas.toDataURL();\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.free-apply-warp{\n  padding: .24rem;\n  padding-top: 1.14rem;\n  min-height: 100%;\n  box-sizing: border-box;\n  will-change: auto;\n}\n\n.free-apply{\n  border-radius: .16rem;\n  background: #fff;\n  overflow: hidden;\n}\n\n.cell-title{\n  width: 2rem\n}\n\n::v-deep .van-cell__title{\n  flex: none;\n}\n\n.sel-item{\n  width: 4rem;\n  text-align: left;\n  color: #ccc;\n  &.active{\n    color: #333;\n  }\n}\n\n.free-agree{\n  padding: .28rem;\n  font-size: .24rem;\n  a{\n    color: #2283E2;\n  }\n}\n\n.canmer-box{\n  position: relative;\n}\n\n.upload-btn{\n  position: absolute;\n  top: .09rem;\n  right: .24rem;\n  text-align: center;\n  p{\n    margin-top: .05rem;\n    font-size: .2rem;\n    color: #333;\n    text-align: center;\n  }\n}\n\n.icon-canmer{\n  position: relative;\n  display: inline-block;\n  width: .4rem;\n  height: .4rem;\n  vertical-align: middle;\n  img{\n    width: 100%;\n    height: 100%;\n  }\n  input{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 5;\n    opacity: 0;\n  }\n}\n\n.free-btn{\n  margin-top: .24rem;\n  a{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: .88rem;\n    font-size: .32rem;\n    background: #D8D8D8;\n    border-radius: .44rem;\n    color: #fff;\n    opacity: .7;\n    &.active{\n      opacity: 1;\n      background: #2283E2;\n    }\n  }\n  p{\n    padding: .24rem 0;\n    font-size: .24rem;\n    text-align: center;\n    color: #999;\n    &.tips{\n      padding: .18rem;\n      line-height: .34rem;\n      text-align: left;\n      background: #efefef;\n      border: 1px dotted #d8d8d8;\n      border-radius: .16rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./freeapply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./freeapply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./freeapply.vue?vue&type=template&id=57738a8d&scoped=true&\"\nimport script from \"./freeapply.vue?vue&type=script&lang=js&\"\nexport * from \"./freeapply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./freeapply.vue?vue&type=style&index=0&id=57738a8d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57738a8d\",\n  null\n  \n)\n\nexport default component.exports","(function() {\n\n    var debug = false;\n\n    var root = this;\n\n    var EXIF = function(obj) {\n        if (obj instanceof EXIF) return obj;\n        if (!(this instanceof EXIF)) return new EXIF(obj);\n        this.EXIFwrapped = obj;\n    };\n\n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = EXIF;\n        }\n        exports.EXIF = EXIF;\n    } else {\n        root.EXIF = EXIF;\n    }\n\n    var ExifTags = EXIF.Tags = {\n\n        // version tags\n        0x9000 : \"ExifVersion\",             // EXIF version\n        0xA000 : \"FlashpixVersion\",         // Flashpix format version\n\n        // colorspace tags\n        0xA001 : \"ColorSpace\",              // Color space information tag\n\n        // image configuration\n        0xA002 : \"PixelXDimension\",         // Valid width of meaningful image\n        0xA003 : \"PixelYDimension\",         // Valid height of meaningful image\n        0x9101 : \"ComponentsConfiguration\", // Information about channels\n        0x9102 : \"CompressedBitsPerPixel\",  // Compressed bits per pixel\n\n        // user information\n        0x927C : \"MakerNote\",               // Any desired information written by the manufacturer\n        0x9286 : \"UserComment\",             // Comments by user\n\n        // related file\n        0xA004 : \"RelatedSoundFile\",        // Name of related sound file\n\n        // date and time\n        0x9003 : \"DateTimeOriginal\",        // Date and time when the original image was generated\n        0x9004 : \"DateTimeDigitized\",       // Date and time when the image was stored digitally\n        0x9290 : \"SubsecTime\",              // Fractions of seconds for DateTime\n        0x9291 : \"SubsecTimeOriginal\",      // Fractions of seconds for DateTimeOriginal\n        0x9292 : \"SubsecTimeDigitized\",     // Fractions of seconds for DateTimeDigitized\n\n        // picture-taking conditions\n        0x829A : \"ExposureTime\",            // Exposure time (in seconds)\n        0x829D : \"FNumber\",                 // F number\n        0x8822 : \"ExposureProgram\",         // Exposure program\n        0x8824 : \"SpectralSensitivity\",     // Spectral sensitivity\n        0x8827 : \"ISOSpeedRatings\",         // ISO speed rating\n        0x8828 : \"OECF\",                    // Optoelectric conversion factor\n        0x9201 : \"ShutterSpeedValue\",       // Shutter speed\n        0x9202 : \"ApertureValue\",           // Lens aperture\n        0x9203 : \"BrightnessValue\",         // Value of brightness\n        0x9204 : \"ExposureBias\",            // Exposure bias\n        0x9205 : \"MaxApertureValue\",        // Smallest F number of lens\n        0x9206 : \"SubjectDistance\",         // Distance to subject in meters\n        0x9207 : \"MeteringMode\",            // Metering mode\n        0x9208 : \"LightSource\",             // Kind of light source\n        0x9209 : \"Flash\",                   // Flash status\n        0x9214 : \"SubjectArea\",             // Location and area of main subject\n        0x920A : \"FocalLength\",             // Focal length of the lens in mm\n        0xA20B : \"FlashEnergy\",             // Strobe energy in BCPS\n        0xA20C : \"SpatialFrequencyResponse\",    //\n        0xA20E : \"FocalPlaneXResolution\",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n        0xA20F : \"FocalPlaneYResolution\",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n        0xA210 : \"FocalPlaneResolutionUnit\",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n        0xA214 : \"SubjectLocation\",         // Location of subject in image\n        0xA215 : \"ExposureIndex\",           // Exposure index selected on camera\n        0xA217 : \"SensingMethod\",           // Image sensor type\n        0xA300 : \"FileSource\",              // Image source (3 == DSC)\n        0xA301 : \"SceneType\",               // Scene type (1 == directly photographed)\n        0xA302 : \"CFAPattern\",              // Color filter array geometric pattern\n        0xA401 : \"CustomRendered\",          // Special processing\n        0xA402 : \"ExposureMode\",            // Exposure mode\n        0xA403 : \"WhiteBalance\",            // 1 = auto white balance, 2 = manual\n        0xA404 : \"DigitalZoomRation\",       // Digital zoom ratio\n        0xA405 : \"FocalLengthIn35mmFilm\",   // Equivalent foacl length assuming 35mm film camera (in mm)\n        0xA406 : \"SceneCaptureType\",        // Type of scene\n        0xA407 : \"GainControl\",             // Degree of overall image gain adjustment\n        0xA408 : \"Contrast\",                // Direction of contrast processing applied by camera\n        0xA409 : \"Saturation\",              // Direction of saturation processing applied by camera\n        0xA40A : \"Sharpness\",               // Direction of sharpness processing applied by camera\n        0xA40B : \"DeviceSettingDescription\",    //\n        0xA40C : \"SubjectDistanceRange\",    // Distance to subject\n\n        // other tags\n        0xA005 : \"InteroperabilityIFDPointer\",\n        0xA420 : \"ImageUniqueID\"            // Identifier assigned uniquely to each image\n    };\n\n    var TiffTags = EXIF.TiffTags = {\n        0x0100 : \"ImageWidth\",\n        0x0101 : \"ImageHeight\",\n        0x8769 : \"ExifIFDPointer\",\n        0x8825 : \"GPSInfoIFDPointer\",\n        0xA005 : \"InteroperabilityIFDPointer\",\n        0x0102 : \"BitsPerSample\",\n        0x0103 : \"Compression\",\n        0x0106 : \"PhotometricInterpretation\",\n        0x0112 : \"Orientation\",\n        0x0115 : \"SamplesPerPixel\",\n        0x011C : \"PlanarConfiguration\",\n        0x0212 : \"YCbCrSubSampling\",\n        0x0213 : \"YCbCrPositioning\",\n        0x011A : \"XResolution\",\n        0x011B : \"YResolution\",\n        0x0128 : \"ResolutionUnit\",\n        0x0111 : \"StripOffsets\",\n        0x0116 : \"RowsPerStrip\",\n        0x0117 : \"StripByteCounts\",\n        0x0201 : \"JPEGInterchangeFormat\",\n        0x0202 : \"JPEGInterchangeFormatLength\",\n        0x012D : \"TransferFunction\",\n        0x013E : \"WhitePoint\",\n        0x013F : \"PrimaryChromaticities\",\n        0x0211 : \"YCbCrCoefficients\",\n        0x0214 : \"ReferenceBlackWhite\",\n        0x0132 : \"DateTime\",\n        0x010E : \"ImageDescription\",\n        0x010F : \"Make\",\n        0x0110 : \"Model\",\n        0x0131 : \"Software\",\n        0x013B : \"Artist\",\n        0x8298 : \"Copyright\"\n    };\n\n    var GPSTags = EXIF.GPSTags = {\n        0x0000 : \"GPSVersionID\",\n        0x0001 : \"GPSLatitudeRef\",\n        0x0002 : \"GPSLatitude\",\n        0x0003 : \"GPSLongitudeRef\",\n        0x0004 : \"GPSLongitude\",\n        0x0005 : \"GPSAltitudeRef\",\n        0x0006 : \"GPSAltitude\",\n        0x0007 : \"GPSTimeStamp\",\n        0x0008 : \"GPSSatellites\",\n        0x0009 : \"GPSStatus\",\n        0x000A : \"GPSMeasureMode\",\n        0x000B : \"GPSDOP\",\n        0x000C : \"GPSSpeedRef\",\n        0x000D : \"GPSSpeed\",\n        0x000E : \"GPSTrackRef\",\n        0x000F : \"GPSTrack\",\n        0x0010 : \"GPSImgDirectionRef\",\n        0x0011 : \"GPSImgDirection\",\n        0x0012 : \"GPSMapDatum\",\n        0x0013 : \"GPSDestLatitudeRef\",\n        0x0014 : \"GPSDestLatitude\",\n        0x0015 : \"GPSDestLongitudeRef\",\n        0x0016 : \"GPSDestLongitude\",\n        0x0017 : \"GPSDestBearingRef\",\n        0x0018 : \"GPSDestBearing\",\n        0x0019 : \"GPSDestDistanceRef\",\n        0x001A : \"GPSDestDistance\",\n        0x001B : \"GPSProcessingMethod\",\n        0x001C : \"GPSAreaInformation\",\n        0x001D : \"GPSDateStamp\",\n        0x001E : \"GPSDifferential\"\n    };\n\n     // EXIF 2.3 Spec\n    var IFD1Tags = EXIF.IFD1Tags = {\n        0x0100: \"ImageWidth\",\n        0x0101: \"ImageHeight\",\n        0x0102: \"BitsPerSample\",\n        0x0103: \"Compression\",\n        0x0106: \"PhotometricInterpretation\",\n        0x0111: \"StripOffsets\",\n        0x0112: \"Orientation\",\n        0x0115: \"SamplesPerPixel\",\n        0x0116: \"RowsPerStrip\",\n        0x0117: \"StripByteCounts\",\n        0x011A: \"XResolution\",\n        0x011B: \"YResolution\",\n        0x011C: \"PlanarConfiguration\",\n        0x0128: \"ResolutionUnit\",\n        0x0201: \"JpegIFOffset\",    // When image format is JPEG, this value show offset to JPEG data stored.(aka \"ThumbnailOffset\" or \"JPEGInterchangeFormat\")\n        0x0202: \"JpegIFByteCount\", // When image format is JPEG, this value shows data size of JPEG image (aka \"ThumbnailLength\" or \"JPEGInterchangeFormatLength\")\n        0x0211: \"YCbCrCoefficients\",\n        0x0212: \"YCbCrSubSampling\",\n        0x0213: \"YCbCrPositioning\",\n        0x0214: \"ReferenceBlackWhite\"\n    };\n\n    var StringValues = EXIF.StringValues = {\n        ExposureProgram : {\n            0 : \"Not defined\",\n            1 : \"Manual\",\n            2 : \"Normal program\",\n            3 : \"Aperture priority\",\n            4 : \"Shutter priority\",\n            5 : \"Creative program\",\n            6 : \"Action program\",\n            7 : \"Portrait mode\",\n            8 : \"Landscape mode\"\n        },\n        MeteringMode : {\n            0 : \"Unknown\",\n            1 : \"Average\",\n            2 : \"CenterWeightedAverage\",\n            3 : \"Spot\",\n            4 : \"MultiSpot\",\n            5 : \"Pattern\",\n            6 : \"Partial\",\n            255 : \"Other\"\n        },\n        LightSource : {\n            0 : \"Unknown\",\n            1 : \"Daylight\",\n            2 : \"Fluorescent\",\n            3 : \"Tungsten (incandescent light)\",\n            4 : \"Flash\",\n            9 : \"Fine weather\",\n            10 : \"Cloudy weather\",\n            11 : \"Shade\",\n            12 : \"Daylight fluorescent (D 5700 - 7100K)\",\n            13 : \"Day white fluorescent (N 4600 - 5400K)\",\n            14 : \"Cool white fluorescent (W 3900 - 4500K)\",\n            15 : \"White fluorescent (WW 3200 - 3700K)\",\n            17 : \"Standard light A\",\n            18 : \"Standard light B\",\n            19 : \"Standard light C\",\n            20 : \"D55\",\n            21 : \"D65\",\n            22 : \"D75\",\n            23 : \"D50\",\n            24 : \"ISO studio tungsten\",\n            255 : \"Other\"\n        },\n        Flash : {\n            0x0000 : \"Flash did not fire\",\n            0x0001 : \"Flash fired\",\n            0x0005 : \"Strobe return light not detected\",\n            0x0007 : \"Strobe return light detected\",\n            0x0009 : \"Flash fired, compulsory flash mode\",\n            0x000D : \"Flash fired, compulsory flash mode, return light not detected\",\n            0x000F : \"Flash fired, compulsory flash mode, return light detected\",\n            0x0010 : \"Flash did not fire, compulsory flash mode\",\n            0x0018 : \"Flash did not fire, auto mode\",\n            0x0019 : \"Flash fired, auto mode\",\n            0x001D : \"Flash fired, auto mode, return light not detected\",\n            0x001F : \"Flash fired, auto mode, return light detected\",\n            0x0020 : \"No flash function\",\n            0x0041 : \"Flash fired, red-eye reduction mode\",\n            0x0045 : \"Flash fired, red-eye reduction mode, return light not detected\",\n            0x0047 : \"Flash fired, red-eye reduction mode, return light detected\",\n            0x0049 : \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n            0x004D : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n            0x004F : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n            0x0059 : \"Flash fired, auto mode, red-eye reduction mode\",\n            0x005D : \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n            0x005F : \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n        },\n        SensingMethod : {\n            1 : \"Not defined\",\n            2 : \"One-chip color area sensor\",\n            3 : \"Two-chip color area sensor\",\n            4 : \"Three-chip color area sensor\",\n            5 : \"Color sequential area sensor\",\n            7 : \"Trilinear sensor\",\n            8 : \"Color sequential linear sensor\"\n        },\n        SceneCaptureType : {\n            0 : \"Standard\",\n            1 : \"Landscape\",\n            2 : \"Portrait\",\n            3 : \"Night scene\"\n        },\n        SceneType : {\n            1 : \"Directly photographed\"\n        },\n        CustomRendered : {\n            0 : \"Normal process\",\n            1 : \"Custom process\"\n        },\n        WhiteBalance : {\n            0 : \"Auto white balance\",\n            1 : \"Manual white balance\"\n        },\n        GainControl : {\n            0 : \"None\",\n            1 : \"Low gain up\",\n            2 : \"High gain up\",\n            3 : \"Low gain down\",\n            4 : \"High gain down\"\n        },\n        Contrast : {\n            0 : \"Normal\",\n            1 : \"Soft\",\n            2 : \"Hard\"\n        },\n        Saturation : {\n            0 : \"Normal\",\n            1 : \"Low saturation\",\n            2 : \"High saturation\"\n        },\n        Sharpness : {\n            0 : \"Normal\",\n            1 : \"Soft\",\n            2 : \"Hard\"\n        },\n        SubjectDistanceRange : {\n            0 : \"Unknown\",\n            1 : \"Macro\",\n            2 : \"Close view\",\n            3 : \"Distant view\"\n        },\n        FileSource : {\n            3 : \"DSC\"\n        },\n\n        Components : {\n            0 : \"\",\n            1 : \"Y\",\n            2 : \"Cb\",\n            3 : \"Cr\",\n            4 : \"R\",\n            5 : \"G\",\n            6 : \"B\"\n        }\n    };\n\n    function addEvent(element, event, handler) {\n        if (element.addEventListener) {\n            element.addEventListener(event, handler, false);\n        } else if (element.attachEvent) {\n            element.attachEvent(\"on\" + event, handler);\n        }\n    }\n\n    function imageHasData(img) {\n        return !!(img.exifdata);\n    }\n\n\n    function base64ToArrayBuffer(base64, contentType) {\n        contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n        base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n        var binary = atob(base64);\n        var len = binary.length;\n        var buffer = new ArrayBuffer(len);\n        var view = new Uint8Array(buffer);\n        for (var i = 0; i < len; i++) {\n            view[i] = binary.charCodeAt(i);\n        }\n        return buffer;\n    }\n\n    function objectURLToBlob(url, callback) {\n        var http = new XMLHttpRequest();\n        http.open(\"GET\", url, true);\n        http.responseType = \"blob\";\n        http.onload = function(e) {\n            if (this.status == 200 || this.status === 0) {\n                callback(this.response);\n            }\n        };\n        http.send();\n    }\n\n    function getImageData(img, callback) {\n        function handleBinaryFile(binFile) {\n            var data = findEXIFinJPEG(binFile);\n            img.exifdata = data || {};\n            var iptcdata = findIPTCinJPEG(binFile);\n            img.iptcdata = iptcdata || {};\n            if (EXIF.isXmpEnabled) {\n               var xmpdata= findXMPinJPEG(binFile);\n               img.xmpdata = xmpdata || {};               \n            }\n            if (callback) {\n                callback.call(img);\n            }\n        }\n\n        if (img.src) {\n            if (/^data\\:/i.test(img.src)) { // Data URI\n                var arrayBuffer = base64ToArrayBuffer(img.src);\n                handleBinaryFile(arrayBuffer);\n\n            } else if (/^blob\\:/i.test(img.src)) { // Object URL\n                var fileReader = new FileReader();\n                fileReader.onload = function(e) {\n                    handleBinaryFile(e.target.result);\n                };\n                objectURLToBlob(img.src, function (blob) {\n                    fileReader.readAsArrayBuffer(blob);\n                });\n            } else {\n                var http = new XMLHttpRequest();\n                http.onload = function() {\n                    if (this.status == 200 || this.status === 0) {\n                        handleBinaryFile(http.response);\n                    } else {\n                        throw \"Could not load image\";\n                    }\n                    http = null;\n                };\n                http.open(\"GET\", img.src, true);\n                http.responseType = \"arraybuffer\";\n                http.send(null);\n            }\n        } else if (self.FileReader && (img instanceof self.Blob || img instanceof self.File)) {\n            var fileReader = new FileReader();\n            fileReader.onload = function(e) {\n                if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n                handleBinaryFile(e.target.result);\n            };\n\n            fileReader.readAsArrayBuffer(img);\n        }\n    }\n\n    function findEXIFinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength,\n            marker;\n\n        while (offset < length) {\n            if (dataView.getUint8(offset) != 0xFF) {\n                if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n                return false; // not a valid marker, something is wrong\n            }\n\n            marker = dataView.getUint8(offset + 1);\n            if (debug) console.log(marker);\n\n            // we could implement handling for other markers here,\n            // but we're only looking for 0xFFE1 for EXIF data\n\n            if (marker == 225) {\n                if (debug) console.log(\"Found 0xFFE1 marker\");\n\n                return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\n                // offset += 2 + file.getShortAt(offset+2, true);\n\n            } else {\n                offset += 2 + dataView.getUint16(offset+2);\n            }\n\n        }\n\n    }\n\n    function findIPTCinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength;\n\n\n        var isFieldSegmentStart = function(dataView, offset){\n            return (\n                dataView.getUint8(offset) === 0x38 &&\n                dataView.getUint8(offset+1) === 0x42 &&\n                dataView.getUint8(offset+2) === 0x49 &&\n                dataView.getUint8(offset+3) === 0x4D &&\n                dataView.getUint8(offset+4) === 0x04 &&\n                dataView.getUint8(offset+5) === 0x04\n            );\n        };\n\n        while (offset < length) {\n\n            if ( isFieldSegmentStart(dataView, offset )){\n\n                // Get the length of the name header (which is padded to an even number of bytes)\n                var nameHeaderLength = dataView.getUint8(offset+7);\n                if(nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n                // Check for pre photoshop 6 format\n                if(nameHeaderLength === 0) {\n                    // Always 4\n                    nameHeaderLength = 4;\n                }\n\n                var startOffset = offset + 8 + nameHeaderLength;\n                var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\n                return readIPTCData(file, startOffset, sectionLength);\n\n                break;\n\n            }\n\n\n            // Not the marker, continue searching\n            offset++;\n\n        }\n\n    }\n    var IptcFieldMap = {\n        0x78 : 'caption',\n        0x6E : 'credit',\n        0x19 : 'keywords',\n        0x37 : 'dateCreated',\n        0x50 : 'byline',\n        0x55 : 'bylineTitle',\n        0x7A : 'captionWriter',\n        0x69 : 'headline',\n        0x74 : 'copyright',\n        0x0F : 'category'\n    };\n    function readIPTCData(file, startOffset, sectionLength){\n        var dataView = new DataView(file);\n        var data = {};\n        var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n        var segmentStartPos = startOffset;\n        while(segmentStartPos < startOffset+sectionLength) {\n            if(dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos+1) === 0x02){\n                segmentType = dataView.getUint8(segmentStartPos+2);\n                if(segmentType in IptcFieldMap) {\n                    dataSize = dataView.getInt16(segmentStartPos+3);\n                    segmentSize = dataSize + 5;\n                    fieldName = IptcFieldMap[segmentType];\n                    fieldValue = getStringFromDB(dataView, segmentStartPos+5, dataSize);\n                    // Check if we already stored a value with this name\n                    if(data.hasOwnProperty(fieldName)) {\n                        // Value already stored with this name, create multivalue field\n                        if(data[fieldName] instanceof Array) {\n                            data[fieldName].push(fieldValue);\n                        }\n                        else {\n                            data[fieldName] = [data[fieldName], fieldValue];\n                        }\n                    }\n                    else {\n                        data[fieldName] = fieldValue;\n                    }\n                }\n\n            }\n            segmentStartPos++;\n        }\n        return data;\n    }\n\n\n\n    function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n        var entries = file.getUint16(dirStart, !bigEnd),\n            tags = {},\n            entryOffset, tag,\n            i;\n\n        for (i=0;i<entries;i++) {\n            entryOffset = dirStart + i*12 + 2;\n            tag = strings[file.getUint16(entryOffset, !bigEnd)];\n            if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n            tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n        }\n        return tags;\n    }\n\n\n    function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n        var type = file.getUint16(entryOffset+2, !bigEnd),\n            numValues = file.getUint32(entryOffset+4, !bigEnd),\n            valueOffset = file.getUint32(entryOffset+8, !bigEnd) + tiffStart,\n            offset,\n            vals, val, n,\n            numerator, denominator;\n\n        switch (type) {\n            case 1: // byte, 8-bit unsigned int\n            case 7: // undefined, 8-bit byte, value depending on field\n                if (numValues == 1) {\n                    return file.getUint8(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint8(offset + n);\n                    }\n                    return vals;\n                }\n\n            case 2: // ascii, 8-bit byte\n                offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                return getStringFromDB(file, offset, numValues-1);\n\n            case 3: // short, 16 bit int\n                if (numValues == 1) {\n                    return file.getUint16(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint16(offset + 2*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 4: // long, 32 bit int\n                if (numValues == 1) {\n                    return file.getUint32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 5:    // rational = two long values, first is numerator, second is denominator\n                if (numValues == 1) {\n                    numerator = file.getUint32(valueOffset, !bigEnd);\n                    denominator = file.getUint32(valueOffset+4, !bigEnd);\n                    val = new Number(numerator / denominator);\n                    val.numerator = numerator;\n                    val.denominator = denominator;\n                    return val;\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        numerator = file.getUint32(valueOffset + 8*n, !bigEnd);\n                        denominator = file.getUint32(valueOffset+4 + 8*n, !bigEnd);\n                        vals[n] = new Number(numerator / denominator);\n                        vals[n].numerator = numerator;\n                        vals[n].denominator = denominator;\n                    }\n                    return vals;\n                }\n\n            case 9: // slong, 32 bit signed int\n                if (numValues == 1) {\n                    return file.getInt32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 10: // signed rational, two slongs, first is numerator, second is denominator\n                if (numValues == 1) {\n                    return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset+4, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 8*n, !bigEnd) / file.getInt32(valueOffset+4 + 8*n, !bigEnd);\n                    }\n                    return vals;\n                }\n        }\n    }\n\n    /**\n    * Given an IFD (Image File Directory) start offset\n    * returns an offset to next IFD or 0 if it's the last IFD.\n    */\n    function getNextIFDOffset(dataView, dirStart, bigEnd){\n        //the first 2bytes means the number of directory entries contains in this IFD\n        var entries = dataView.getUint16(dirStart, !bigEnd);\n\n        // After last directory entry, there is a 4bytes of data,\n        // it means an offset to next IFD.\n        // If its value is '0x00000000', it means this is the last IFD and there is no linked IFD.\n\n        return dataView.getUint32(dirStart + 2 + entries * 12, !bigEnd); // each entry is 12 bytes long\n    }\n\n    function readThumbnailImage(dataView, tiffStart, firstIFDOffset, bigEnd){\n        // get the IFD1 offset\n        var IFD1OffsetPointer = getNextIFDOffset(dataView, tiffStart+firstIFDOffset, bigEnd);\n\n        if (!IFD1OffsetPointer) {\n            // console.log('******** IFD1Offset is empty, image thumb not found ********');\n            return {};\n        }\n        else if (IFD1OffsetPointer > dataView.byteLength) { // this should not happen\n            // console.log('******** IFD1Offset is outside the bounds of the DataView ********');\n            return {};\n        }\n        // console.log('*******  thumbnail IFD offset (IFD1) is: %s', IFD1OffsetPointer);\n\n        var thumbTags = readTags(dataView, tiffStart, tiffStart + IFD1OffsetPointer, IFD1Tags, bigEnd)\n\n        // EXIF 2.3 specification for JPEG format thumbnail\n\n        // If the value of Compression(0x0103) Tag in IFD1 is '6', thumbnail image format is JPEG.\n        // Most of Exif image uses JPEG format for thumbnail. In that case, you can get offset of thumbnail\n        // by JpegIFOffset(0x0201) Tag in IFD1, size of thumbnail by JpegIFByteCount(0x0202) Tag.\n        // Data format is ordinary JPEG format, starts from 0xFFD8 and ends by 0xFFD9. It seems that\n        // JPEG format and 160x120pixels of size are recommended thumbnail format for Exif2.1 or later.\n\n        if (thumbTags['Compression']) {\n            // console.log('Thumbnail image found!');\n\n            switch (thumbTags['Compression']) {\n                case 6:\n                    // console.log('Thumbnail image format is JPEG');\n                    if (thumbTags.JpegIFOffset && thumbTags.JpegIFByteCount) {\n                    // extract the thumbnail\n                        var tOffset = tiffStart + thumbTags.JpegIFOffset;\n                        var tLength = thumbTags.JpegIFByteCount;\n                        thumbTags['blob'] = new Blob([new Uint8Array(dataView.buffer, tOffset, tLength)], {\n                            type: 'image/jpeg'\n                        });\n                    }\n                break;\n\n            case 1:\n                console.log(\"Thumbnail image format is TIFF, which is not implemented.\");\n                break;\n            default:\n                console.log(\"Unknown thumbnail image format '%s'\", thumbTags['Compression']);\n            }\n        }\n        else if (thumbTags['PhotometricInterpretation'] == 2) {\n            console.log(\"Thumbnail image format is RGB, which is not implemented.\");\n        }\n        return thumbTags;\n    }\n\n    function getStringFromDB(buffer, start, length) {\n        var outstr = \"\";\n        for (n = start; n < start+length; n++) {\n            outstr += String.fromCharCode(buffer.getUint8(n));\n        }\n        return outstr;\n    }\n\n    function readEXIFData(file, start) {\n        if (getStringFromDB(file, start, 4) != \"Exif\") {\n            if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n            return false;\n        }\n\n        var bigEnd,\n            tags, tag,\n            exifData, gpsData,\n            tiffOffset = start + 6;\n\n        // test for TIFF validity and endianness\n        if (file.getUint16(tiffOffset) == 0x4949) {\n            bigEnd = false;\n        } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n            bigEnd = true;\n        } else {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n            return false;\n        }\n\n        if (file.getUint16(tiffOffset+2, !bigEnd) != 0x002A) {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n            return false;\n        }\n\n        var firstIFDOffset = file.getUint32(tiffOffset+4, !bigEnd);\n\n        if (firstIFDOffset < 0x00000008) {\n            if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset+4, !bigEnd));\n            return false;\n        }\n\n        tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\n        if (tags.ExifIFDPointer) {\n            exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n            for (tag in exifData) {\n                switch (tag) {\n                    case \"LightSource\" :\n                    case \"Flash\" :\n                    case \"MeteringMode\" :\n                    case \"ExposureProgram\" :\n                    case \"SensingMethod\" :\n                    case \"SceneCaptureType\" :\n                    case \"SceneType\" :\n                    case \"CustomRendered\" :\n                    case \"WhiteBalance\" :\n                    case \"GainControl\" :\n                    case \"Contrast\" :\n                    case \"Saturation\" :\n                    case \"Sharpness\" :\n                    case \"SubjectDistanceRange\" :\n                    case \"FileSource\" :\n                        exifData[tag] = StringValues[tag][exifData[tag]];\n                        break;\n\n                    case \"ExifVersion\" :\n                    case \"FlashpixVersion\" :\n                        exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n                        break;\n\n                    case \"ComponentsConfiguration\" :\n                        exifData[tag] =\n                            StringValues.Components[exifData[tag][0]] +\n                            StringValues.Components[exifData[tag][1]] +\n                            StringValues.Components[exifData[tag][2]] +\n                            StringValues.Components[exifData[tag][3]];\n                        break;\n                }\n                tags[tag] = exifData[tag];\n            }\n        }\n\n        if (tags.GPSInfoIFDPointer) {\n            gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n            for (tag in gpsData) {\n                switch (tag) {\n                    case \"GPSVersionID\" :\n                        gpsData[tag] = gpsData[tag][0] +\n                            \".\" + gpsData[tag][1] +\n                            \".\" + gpsData[tag][2] +\n                            \".\" + gpsData[tag][3];\n                        break;\n                }\n                tags[tag] = gpsData[tag];\n            }\n        }\n\n        // extract thumbnail\n        tags['thumbnail'] = readThumbnailImage(file, tiffOffset, firstIFDOffset, bigEnd);\n\n        return tags;\n    }\n\n   function findXMPinJPEG(file) {\n\n        if (!('DOMParser' in self)) {\n            // console.warn('XML parsing not supported without DOMParser');\n            return;\n        }\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n           if (debug) console.log(\"Not a valid JPEG\");\n           return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength,\n            dom = new DOMParser();\n\n        while (offset < (length-4)) {\n            if (getStringFromDB(dataView, offset, 4) == \"http\") {\n                var startOffset = offset - 1;\n                var sectionLength = dataView.getUint16(offset - 2) - 1;\n                var xmpString = getStringFromDB(dataView, startOffset, sectionLength)\n                var xmpEndIndex = xmpString.indexOf('xmpmeta>') + 8;\n                xmpString = xmpString.substring( xmpString.indexOf( '<x:xmpmeta' ), xmpEndIndex );\n\n                var indexOfXmp = xmpString.indexOf('x:xmpmeta') + 10\n                //Many custom written programs embed xmp/xml without any namespace. Following are some of them.\n                //Without these namespaces, XML is thought to be invalid by parsers\n                xmpString = xmpString.slice(0, indexOfXmp)\n                            + 'xmlns:Iptc4xmpCore=\"http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/\" '\n                            + 'xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" '\n                            + 'xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" '\n                            + 'xmlns:plus=\"http://schemas.android.com/apk/lib/com.google.android.gms.plus\" '\n                            + 'xmlns:ext=\"http://www.gettyimages.com/xsltExtension/1.0\" '\n                            + 'xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" '\n                            + 'xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" '\n                            + 'xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\" '\n                            + 'xmlns:crs=\"http://ns.adobe.com/camera-raw-settings/1.0/\" '\n                            + 'xmlns:xapGImg=\"http://ns.adobe.com/xap/1.0/g/img/\" '\n                            + 'xmlns:Iptc4xmpExt=\"http://iptc.org/std/Iptc4xmpExt/2008-02-29/\" '\n                            + xmpString.slice(indexOfXmp)\n\n                var domDocument = dom.parseFromString( xmpString, 'text/xml' );\n                return xml2Object(domDocument);\n            } else{\n             offset++;\n            }\n        }\n    }\n\n    function xml2json(xml) {\n        var json = {};\n      \n        if (xml.nodeType == 1) { // element node\n          if (xml.attributes.length > 0) {\n            json['@attributes'] = {};\n            for (var j = 0; j < xml.attributes.length; j++) {\n              var attribute = xml.attributes.item(j);\n              json['@attributes'][attribute.nodeName] = attribute.nodeValue;\n            }\n          }\n        } else if (xml.nodeType == 3) { // text node\n          return xml.nodeValue;\n        }\n      \n        // deal with children\n        if (xml.hasChildNodes()) {\n          for(var i = 0; i < xml.childNodes.length; i++) {\n            var child = xml.childNodes.item(i);\n            var nodeName = child.nodeName;\n            if (json[nodeName] == null) {\n              json[nodeName] = xml2json(child);\n            } else {\n              if (json[nodeName].push == null) {\n                var old = json[nodeName];\n                json[nodeName] = [];\n                json[nodeName].push(old);\n              }\n              json[nodeName].push(xml2json(child));\n            }\n          }\n        }\n        \n        return json;\n    }\n\n    function xml2Object(xml) {\n        try {\n            var obj = {};\n            if (xml.children.length > 0) {\n              for (var i = 0; i < xml.children.length; i++) {\n                var item = xml.children.item(i);\n                var attributes = item.attributes;\n                for(var idx in attributes) {\n                    var itemAtt = attributes[idx];\n                    var dataKey = itemAtt.nodeName;\n                    var dataValue = itemAtt.nodeValue;\n\n                    if(dataKey !== undefined) {\n                        obj[dataKey] = dataValue;\n                    }\n                }\n                var nodeName = item.nodeName;\n\n                if (typeof (obj[nodeName]) == \"undefined\") {\n                  obj[nodeName] = xml2json(item);\n                } else {\n                  if (typeof (obj[nodeName].push) == \"undefined\") {\n                    var old = obj[nodeName];\n\n                    obj[nodeName] = [];\n                    obj[nodeName].push(old);\n                  }\n                  obj[nodeName].push(xml2json(item));\n                }\n              }\n            } else {\n              obj = xml.textContent;\n            }\n            return obj;\n          } catch (e) {\n              console.log(e.message);\n          }\n    }\n\n    EXIF.enableXmp = function() {\n        EXIF.isXmpEnabled = true;\n    }\n\n    EXIF.disableXmp = function() {\n        EXIF.isXmpEnabled = false;\n    }\n\n    EXIF.getData = function(img, callback) {\n        if (((self.Image && img instanceof self.Image)\n            || (self.HTMLImageElement && img instanceof self.HTMLImageElement))\n            && !img.complete)\n            return false;\n\n        if (!imageHasData(img)) {\n            getImageData(img, callback);\n        } else {\n            if (callback) {\n                callback.call(img);\n            }\n        }\n        return true;\n    }\n\n    EXIF.getTag = function(img, tag) {\n        if (!imageHasData(img)) return;\n        return img.exifdata[tag];\n    }\n    \n    EXIF.getIptcTag = function(img, tag) {\n        if (!imageHasData(img)) return;\n        return img.iptcdata[tag];\n    }\n\n    EXIF.getAllTags = function(img) {\n        if (!imageHasData(img)) return {};\n        var a,\n            data = img.exifdata,\n            tags = {};\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                tags[a] = data[a];\n            }\n        }\n        return tags;\n    }\n    \n    EXIF.getAllIptcTags = function(img) {\n        if (!imageHasData(img)) return {};\n        var a,\n            data = img.iptcdata,\n            tags = {};\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                tags[a] = data[a];\n            }\n        }\n        return tags;\n    }\n\n    EXIF.pretty = function(img) {\n        if (!imageHasData(img)) return \"\";\n        var a,\n            data = img.exifdata,\n            strPretty = \"\";\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                if (typeof data[a] == \"object\") {\n                    if (data[a] instanceof Number) {\n                        strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n                    } else {\n                        strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n                    }\n                } else {\n                    strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n                }\n            }\n        }\n        return strPretty;\n    }\n\n    EXIF.readFromBinaryFile = function(file) {\n        return findEXIFinJPEG(file);\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        define('exif-js', [], function() {\n            return EXIF;\n        });\n    }\n}.call(this));\n\n","export * from \"-!../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./freeapply.vue?vue&type=style&index=0&id=57738a8d&lang=scss&scoped=true&\""],"sourceRoot":""}