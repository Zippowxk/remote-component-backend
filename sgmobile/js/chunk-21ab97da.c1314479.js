(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21ab97da"],{"347c":function(t,e,n){},"497d":function(t,e,n){},"4c2b":function(t,e,n){"use strict";n("7daa")},5457:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{clear:"both"}},[t.storeSign.o2oStoreName||t.shopInfo.storeName?n("div",{staticClass:"shop-header"},[n("div",{staticClass:"flex-row flex-align-center",staticStyle:{"margin-top":".34rem"}},[t.storeSign.showLogo?n("img",{staticClass:"store-icon",attrs:{src:t.storeSign.logoUrl||"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/uplus_logo.png"},on:{click:t.logoClick}}):t._e(),n("div",{staticClass:"flex-column",staticStyle:{position:"relative",flex:"1"},on:{click:t.goShopInfo}},[n("div",{staticClass:"flex-row flex-align-center",staticStyle:{"margin-bottom":".1rem"}},[n("div",{staticClass:"store-name"},[t._v(" "+t._s(t.storeSign.o2oStoreName||t.storeSign.storeName)+" ")]),n("span",{staticClass:"right-arrow"})]),n("div",{staticClass:"flex-row flex-align-center"},[t._m(0),6===t.storeSign.storeType||"12"===t.storeSign.shopStoreCategory?n("img",{staticClass:"star",attrs:{src:t.$cdnImageUrl+"/shop/icon_shop_star.png"}}):t._e(),n("div",{staticClass:"fans"},[t._v(" 粉丝数"+t._s(t.formatNumber(t.shopInfo.collectors))+" ")])])]),n("div",{staticClass:"collection flex-row flex-align-center",on:{click:t.changeCollection}},[t.shopInfo.isCollection?t._e():n("img",{attrs:{src:t.$cdnImageUrl+"/shop/icon_shop_collection_new.png"}}),n("span",[t._v(t._s(t.shopInfo.isCollection?"已关注":"关注"))])])]),t.showAddress?n("div",{staticClass:"location flex-row flex-align-center",on:{click:t.tooglePopup}},[n("div"),n("span",[t._v(t._s(t.storeSign.storeAddress))]),n("img",{attrs:{src:t.showAddressPopup?"http://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/shop/icon_shop_more_address.png":"http://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/shop/icon_shop_navigation_new.png"}})]):t._e(),n("div",{staticClass:"quality"})]):t._e()])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"store-tag"},[n("span",[t._v("官方")])])}],i=n("c3f5"),s=n("85e4"),a=n("fa7d"),c={props:{shopInfo:{type:Object,default:function(){}},storeSign:{type:Object,default:function(){}},isPreView:{type:Boolean,default:!1},hasSubStore:{type:Boolean,default:!0},taskId:{type:String,default:""},stageId:{type:String,default:""}},data:function(){return{isCollection:!1,isUplus:a["a"].isUplus(),isSgRn:a["a"].isSgRn(),subStoreList:[]}},watch:{"shopInfo.isCollection":{handler:function(t){t&&this.notifyWashingMachine()},immediate:!0}},methods:{notifyWashingMachine:function(){this.taskId&&this.stageId&&Object(s["nb"])({taskId:this.taskId,stageId:this.stageId}).then((function(t){t.success?t.data&&console.log("success"):console.log(t.message)}))},changeCollection:function(){var t=this;this.isPreView||(this.$store.getters.getLoginStatus?Object(i["collectStore"])({collectId:this.shopInfo.storeId,type:1}).then((function(e){e.success?e.data&&(t.isCollection=1===e.totalCount,t.$util.gioTrackWithVariable("mall_store_click_follow",{actionType:t.shopInfo.isCollection?"取关":"关注"}),t.$emit("updateShopInfo")):t.$toast(e.message)})):this.$store.dispatch("doLogin"))},goShopInfo:function(){this.$util.gioTrackWithVariable("mall_store_click_storeInfo",{storeId:this.shopInfo.storeId+""}),this.$router.push("/shopInfo?storeId=".concat(this.shopInfo.storeId))},logoClick:function(){this.$util.gioTrackWithVariable("mall_store_click_storeInfo",{storeId:this.shopInfo.storeId+""})},tooglePopup:function(){this.showAddressPopup?this.$emit("toogleModal",!0):this.goAddress(this.storeSign)},formatNumber:function(t){return t?t>=1e4?"".concat((t/1e4).toFixed(2),"万"):t:0},goAddress:function(t){var e=this;if(!t.latitude||!t.longitude)return"";var n=t.latitude,o=t.longitude,r=encodeURI("".concat(o,",").concat(n)),i=t.o2oStoreName||t.storeName;if(this.$util.isSgRn()){var s=-1!==(n+"").indexOf(".")?n:n.toFixed(6),a=-1!==(o+"").indexOf(".")?o:o.toFixed(6);window.postMessage(JSON.stringify({type:"goNewWebview",data:{newUrl:"https://uri.amap.com/marker?position=".concat(encodeURI("".concat(a,",").concat(s)),"&name=").concat(i)}}))}else this.$util.isIos()||this.$util.isAndroid()?setTimeout((function(){e.$util.openNewWindow("https://uri.amap.com/marker?position=".concat(r,"&name=").concat(i),!0)}),500):this.$util.openNewWindow(this.getAmapURL(t),!0)},getAmapURL:function(t){if(!t)return"";var e=t.latitude,n=t.longitude;if(!this.$util.isIos()&&!this.$util.isAndroid()){var o=encodeURI("".concat(n,",").concat(e)),r=encodeURI(t.storeName);return this.$util.openNewWindow("https://uri.amap.com/marker?position=".concat(o,"&name=").concat(r),!0)}var i=this.$util.isIos()?"iosamap://path":this.$util.isAndroid?"amapuri://route/plan":"",s=i+"?t=0&dlat="+e+"&dlon="+n+"&dname="+encodeURI(t.storeName);return s}},computed:{showAddress:function(){var t=this.storeSign;return t.storeAddress&&(["01","11","12","13"].includes(t.shopStoreCategory)||6===t.storeType||1===t.storeType)},showAddressPopup:function(){var t=this.storeSign;return(["11","13"].includes(t.shopStoreCategory)||1===t.storeType)&&this.hasSubStore}}},u=c,l=(n("4c2b"),n("2877")),d=Object(l["a"])(u,o,r,!1,null,"780c63f4",null);e["a"]=d.exports},"7daa":function(t,e,n){},"80cc":function(t,e,n){"use strict";n("347c")},"815f":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-recommend"},[n("van-sticky",{attrs:{"offset-top":"1.1rem"},on:{scroll:t.onTabScroll}},[n("van-tabs",{ref:"tabs",attrs:{"line-height":".06rem","line-width":".48rem",sticky:!1,animated:!1,swipeable:!1,"title-active-color":"white","title-inactive-color":"white","swipe-threshold":6,background:"transparent","before-change":t.beforeTabChange,color:"white"},model:{value:t.activeTabIndex,callback:function(e){t.activeTabIndex=e},expression:"activeTabIndex"}},t._l(t.barList,(function(t,e){return n("van-tab",{key:e,attrs:{title:t}})})),1)],1),n("keep-alive",["精选"===t.barList[t.activeTabIndex]?n("bar-selected",{class:{"tab-recommend-background":t.isTabFixed},attrs:{storeId:t.storeId,shareId:t.shareId,storeSign:t.storeSign,storeSceneData:t.storeSceneData,modelList:t.modelList,modelFetchend:t.modelFetchend},on:{changeBar:t.onChangeBar}}):t._e(),"商品"===t.barList[t.activeTabIndex]?n("bar-product",{attrs:{storeId:t.storeId,shareId:t.shareId,offsetTop:"1.62rem"}}):t._e(),"活动"===t.barList[t.activeTabIndex]?n("bar-activity",{attrs:{storeId:t.storeId,storeSign:t.storeSign}}):t._e(),"上新"===t.barList[t.activeTabIndex]?n("bar-update",{attrs:{storeId:t.storeId}}):t._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixed,expression:"isTabFixed"}],staticClass:"pic-top-bg-cover",style:{background:t.storeSign.storeBgImg?"url("+t.storeSign.storeBgImg+") 0% 0% / 100% 5.96rem no-repeat":"white"}},[n("div",{staticClass:"top-bg-masking",staticStyle:{height:"1.66rem"}})])],1)},r=[],i=n("c3f5");function s(t){return l(t)||u(t)||c(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function l(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var f=function(){return n.e("chunk-3946a450").then(n.bind(null,"4b00"))},h=function(){return n.e("chunk-9d5cd2d6").then(n.bind(null,"7442"))},g=function(){return Promise.all([n.e("chunk-3aea2a64"),n.e("chunk-3bda9849")]).then(n.bind(null,"8331"))},b=function(){return Promise.all([n.e("chunk-3aea2a64"),n.e("chunk-3b13e8fb")]).then(n.bind(null,"64e1"))},p={props:{storeSceneData:{type:Object,default:function(){}},storeId:{type:String,default:""},shareId:{type:String,default:""},storeSign:{type:Object,default:function(){}},isPreview:{type:Boolean,default:!1}},components:{barSelected:f,barActivity:h,barProduct:g,barUpdate:b},data:function(){return{activeTabIndex:0,isTabFixed:!1,modelList:[],modelFetchend:!1}},mounted:function(){},watch:{},computed:{barList:function(){var t,e=["精选","商品","活动"];return!this.storeSign.chosenTab&&e.includes("精选")?e=e.slice(1,e.length):this.storeId&&!this.modelList.length&&this.getModels(),this.storeSign.newTab&&!e.includes("上新")&&e.push("上新"),this.storeSign.sceneTab&&"9"!==this.storeSign.synStoreType&&null!==(t=this.storeSceneData)&&void 0!==t&&t.storeSenceUrl&&!e.includes("场景")&&e.push("场景"),e},location:function(){return this.$store.getters["getlocationInfo"]}},methods:{beforeTabChange:function(t){var e;return this.$util.gioTrackWithVariable("MB15616",{store_topTab_name:this.barList[t]||"null"}),"场景"!==this.barList[t]||(null!==(e=this.storeSceneData)&&void 0!==e&&e.storeSenceUrl&&this.$store.dispatch("goPageByType",{type:this.storeSceneData.jumpType,params:this.$util.injectISOAddressCodeToURL(this.storeSceneData.storeSenceUrl,this.$store.getters.getlocationInfo)}),!1)},onTabScroll:function(t){this.isTabFixed!==t.isFixed&&(this.isTabFixed=t.isFixed,console.log("onTabScroll-isFixed：",t)),this.$emit("scroll",t)},onChangeBar:function(t){console.log("切换跳转：",t),this.activeTabIndex=t},getModels:function(){var t=this;console.log("是否预览：",this.isPreview);var e={storeId:this.storeId,streetId:this.location.townshipId,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,modelStatus:this.isPreview?0:1};Object(i["getSelectedModel"])(e).then((function(e){console.log("精选模块：",e),e.success?e.data&&e.data.length&&(e.data.sort((function(t,e){return t.modelSort-e.modelSort})),t.modelList=s(e.data)):t.$toast(e.message||"获取数据失败，请稍后重试"),t.modelFetchend=!0}))},getPreViewModels:function(){var t=this,e={storeCode:this.storeSign.storeCode};Object(i["getShopPreview"])(e).then((function(e){e.success?(t.shopStoreId=e.data.controlViews.storeId,e.data.controlViews&&e.data.controlViews.length&&(e.data.controlViews.sort((function(t,e){return t.modelSort-e.modelSort})),t.modelList=e.data.controlViews,t.modelList.map((function(t){t.images=t.storeModelImgs})))):t.$toast(e.message||"获取数据失败，请稍后重试")}))}}},m=p,S=(n("d82a"),n("2877")),v=Object(S["a"])(m,o,r,!1,null,"50ea7720",null);e["a"]=v.exports},a73f:function(t,e,n){"use strict";var o=function(t,e){var n=e._c;return e.props.nums>0?n("div",{staticClass:"m-skeleton",style:{"z-index":e.props.zIndex||0}},[n("div",{style:{background:e.props.bgColor,height:e.props.fheight}}),e._l(e.props.nums-1,(function(t){return n("div",{key:t,style:{background:e.props.bgColor,height:e.props.iheight}})}))],2):e._e()},r=[],i=(n("80cc"),n("2877")),s={},a=Object(i["a"])(s,o,r,!0,null,null,null);e["a"]=a.exports},ae59:function(t,e,n){"use strict";n("497d")},c3f5:function(t,e,n){"use strict";n.r(e),n.d(e,"manage",(function(){return s})),n.d(e,"collectStore",(function(){return a})),n.d(e,"enterprise",(function(){return c})),n.d(e,"getNavigations",(function(){return u})),n.d(e,"getImgCaptcha",(function(){return l})),n.d(e,"getViewCouponCate",(function(){return d})),n.d(e,"getCouponsCenter",(function(){return f})),n.d(e,"receiveCoupon",(function(){return h})),n.d(e,"commonLoadItemNew",(function(){return g})),n.d(e,"getPriceByProductList",(function(){return b})),n.d(e,"wdMarketFiltrate",(function(){return p})),n.d(e,"getNearbyList",(function(){return m})),n.d(e,"getBusinessCustomer",(function(){return S})),n.d(e,"GET_BANNER",(function(){return v})),n.d(e,"getLiveByStoreId",(function(){return I})),n.d(e,"getStoreFlashSale",(function(){return w})),n.d(e,"getCate",(function(){return y})),n.d(e,"getStoreSign",(function(){return O})),n.d(e,"getSelectedModel",(function(){return C})),n.d(e,"getCustomPageModel",(function(){return T})),n.d(e,"getUserCases",(function(){return _})),n.d(e,"getRecommendList",(function(){return j})),n.d(e,"getVRPreviews",(function(){return k})),n.d(e,"getPreSales",(function(){return L})),n.d(e,"getStoreSceneTabs",(function(){return x})),n.d(e,"getStoreScene",(function(){return P})),n.d(e,"getStoreSceneNew",(function(){return $})),n.d(e,"getSubStoreList",(function(){return U})),n.d(e,"getShopPreview",(function(){return N})),n.d(e,"getCustomPagePreview",(function(){return R})),n.d(e,"getStoreSignPreview",(function(){return A})),n.d(e,"getStoreNewProducts",(function(){return F})),n.d(e,"checkPrivateDomain",(function(){return B})),n.d(e,"getSuitList",(function(){return D})),n.d(e,"getSuitImage",(function(){return E})),n.d(e,"getSuitDetail",(function(){return M})),n.d(e,"validateTabOrSpace",(function(){return V})),n.d(e,"checkIdentity",(function(){return H})),n.d(e,"getFindGoods",(function(){return W}));var o=n("bbc2"),r=n("1c03"),i=n("f121"),s=function(t){return Object(r["b"])(o["a"].manage,t)},a=function(t){return Object(r["b"])(o["a"].collectStore,t)},c=function(t){return Object(r["b"])(o["a"].enterprise,t)},u=function(t){return Object(r["b"])(o["a"].getNavigations,t)},l=function(t){return Object(r["b"])(o["a"].getImgCaptcha,t)},d=function(t){return Object(r["b"])(o["a"].getViewCouponCate,t)},f=function(t){return Object(r["b"])(o["a"].getCouponsCenter,t,{},!0)},h=function(t){return Object(r["b"])(o["a"].receiveCoupon,t)},g=function(t){return Object(r["b"])(o["a"].commonLoadItemNew,t,{baseURL:i["a"].SHOST},!0)},b=function(t){return Object(r["b"])(o["a"].getPriceByProductList,t,{baseURL:i["a"].SHOST},!0)},p=function(t){return Object(r["b"])(o["a"].wdMarketFiltrate,t,{baseURL:i["a"].SHOST})},m=function(t){return Object(r["b"])(o["a"].nearbyList,t,{})},S=function(t){return Object(r["b"])(o["a"].getBusinessCustomer,t,{baseURL:i["a"].HOST4})},v=function(t){return Object(r["b"])(o["a"].GET_BANNER,t)},I=function(t){return Object(r["b"])(o["a"].getLiveByStoreId,t)},w=function(t){return Object(r["b"])(o["a"].getStoreFlashSale,t)},y=function(t){return Object(r["b"])(o["a"].getCate,t)},O=function(t){return Object(r["b"])(o["a"].storeSign,t)},C=function(t){return Object(r["b"])(o["a"].storeSelectedModel,t)},T=function(t){return Object(r["b"])(o["a"].getCustomPage,t)},_=function(t){return Object(r["b"])(o["a"].GET_STORE_SCENE,t)},j=function(t){return Object(r["b"])(o["a"].recommendProducts,t)},k=function(t){return Object(r["b"])(o["a"].storeVRPreviewList,t)},L=function(t,e){return e?Object(r["b"])(o["a"].platformPreSale,t):Object(r["c"])("".concat(o["a"].preSaleList,"?storeId=").concat(t.storeId))},x=function(t){return Object(r["b"])(o["a"].sceneTabList,t)},P=function(t){return Object(r["c"])(o["a"].sceneList,t)},$=function(t){return Object(r["b"])(o["a"].sceneListNew,t,{baseURL:i["a"].DHOST})},U=function(t){return Object(r["b"])(o["a"].subStoreList,t)},N=function(t){return Object(r["c"])(o["a"].shopPreview,t,{baseURL:i["a"].STOREHOST})},R=function(t){return Object(r["c"])(o["a"].customPagePreview,t,{baseURL:i["a"].STOREHOST})},A=function(t){return Object(r["b"])(o["a"].storeSignPreview,t,{baseURL:i["a"].STOREHOST})},F=function(t){return Object(r["b"])(o["a"].storeNewProducts,t)},B=function(t){return Object(r["b"])(o["a"].checkPrivateDomain,t,{cancelRepeat:!0})},D=function(t){return Object(r["b"])(o["a"].getShopSuitList,t)},E=function(t){return Object(r["b"])(o["a"].getShopSuitImage,t)},M=function(t){return Object(r["c"])(o["a"].getShopSuitDetail,t,{cancelRepeat:!0})},V=function(t){return Object(r["c"])(o["a"].validateTabOrSpace,t)},H=function(t){return Object(r["b"])(o["a"].checkIdentity,t)},W=function(t){return Object(r["b"])(o["a"].storeFindGoods,t)}},c9b2:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-bar"},t._l(t.tabs,(function(e,o){return n("div",{key:e.type,staticClass:"flex-row",on:{click:function(n){return t.onChangeTab(e.type)}}},[n("div",{staticClass:"tab",class:{active:e.type===t.currentTab}},[t._v(" "+t._s(e.name)+" ")]),o!==t.tabs.length-1?n("div",{staticClass:"line"}):t._e()])})),0)},r=[],i=[{name:"店铺首页",type:"tab-home"},{name:"全部商品",type:"tab-product"},{name:"商品分类",type:"tab-category"}],s={name:"bottomBar",props:{currentTab:{type:String,default:"tab-home"},storeId:{type:String,default:""},storeCode:{type:String,default:""},showSceneTab:{type:Boolean,default:!1},storeSceneData:{type:Object,default:function(){}}},computed:{tabs:function(){var t,e=[].concat(i);return this.showSceneTab&&null!==(t=this.storeSceneData)&&void 0!==t&&t.storeSenceUrl&&e.push({name:"场景",type:"tab-scene"}),e}},methods:{onChangeTab:function(t){"tab-signUp"===t?this.$util.isUplus()?this.$util.openNewWindow("mpaas://homedesign?needAuthLogin=1&originShopCode=".concat(this.storeCode),!0,!0):this.$dialog.alert({message:"请下载海尔智家APP进行操作"}):"tab-scene"===t?this.$store.dispatch("goPageByType",{type:this.storeSceneData.jumpType,params:this.storeSceneData.storeSenceUrl}):this.$emit("changeTab",t)}}},a=s,c=(n("ae59"),n("2877")),u=Object(c["a"])(a,o,r,!1,null,"c38822ca",null);e["a"]=u.exports},d82a:function(t,e,n){"use strict";n("fe81")},fe81:function(t,e,n){}}]);
//# sourceMappingURL=chunk-21ab97da.c1314479.js.map