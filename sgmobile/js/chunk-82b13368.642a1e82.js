(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-82b13368"],{"27b1":function(t,o,i){},ad71:function(t,o,i){"use strict";i("27b1")},d118:function(t,o,i){"use strict";i.r(o);var e=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"box"},[i("div",{staticClass:"top",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"top-bar"},[i("div",{staticClass:"title"},[t._v("配送地址 "),i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAx0lEQVRYR83XMQ5CIQzG8ZbrOHIKFydnr+ZJHJ2A6R3FCxiGl5gYH7T9WmQm+f+AgZRp8eLFfUIBUs751FrbpAdCAHr8TkTXlNKllPKQIKyAPX4johczn2utzyiAOd6h2huAxLUAWFwDgMalAHhcAnCJzwLc4jMA1/gI4B4/AoTEfwHC4n8L6LCwWzj6C0IQo8/IHTECuD/HDMAVMQtwQ0gALggpAI7QAKAILQCGsAAgCCvgE7FkMNlnkKWjmWQQ+tqLeAIT4A2X4aIh0K6d/wAAAABJRU5ErkJggg==",alt:""},on:{click:t.closeModal}})])]),t.location?i("div",{staticClass:"nowAddress location",on:{click:t.chooseCurrent}},[i("img",{attrs:{src:t.$cdnImageUrl+"/location/icon_addr_bule.png"}}),i("span",[t._v("定位地址("+t._s(t.location.district)+"/"+t._s(t.location.township)+")")])]):i("div",{staticClass:"nowAddress location",on:{click:t.chooseCurrent}},[i("img",{attrs:{src:t.$cdnImageUrl+"/common/location-icon-blue.svg"}}),i("span",[t._v("点击自动定位")])]),i("div",{staticClass:"addr-content"},[i("div",{staticClass:"addr-list"},[t._l(t.addrList,(function(o,e){return i("div",{key:e,class:{info:!0},on:{click:function(o){return t.selectDefaultAddr(e)}}},[i("span",{class:{"location-icon":o.canUse,"location-icon-disabled":!o.canUse}}),i("span",{class:{region:!0,disabled:!o.canUse}},[t._v(t._s(o.rn)+" "+t._s(o.ar))])])})),i("div",{staticClass:"divider"})],2)]),i("div",{staticClass:"addr-bottom"},[i("div",{staticClass:"addr-bottom-btn",on:{click:function(o){return o.stopPropagation(),t.otherLocation.apply(null,arguments)}}},[t._v(" 点击选择其他地址 ")])])])])},n=[],a=i("2f62");function s(t,o){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.push.apply(i,e)}return i}function c(t){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?s(Object(i),!0).forEach((function(o){l(t,o,i[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))}))}return t}function l(t,o,i){return o in t?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i,t}var r={props:["onlyread","showAddr","addrList"],data:function(){return{showLoading:!1,location:null,show:!0,windowHeight:""}},created:function(){var t=this;this.$util.isSgRn()&&setTimeout((function(){window.receiveMessage=function(o){console.log("掌柜定位信息",o),o.longitude?t.$store.dispatch("doLocationInfo",{latitude:o.latitude,longitude:o.longitude,force:!0}).then((function(o){t.location=o,t.closeModal()})):t.$toast("定位失败，请自行选择位置信息")}}))},methods:c(c(c({},Object(a["e"])(["setLocationInfo","setLoaction"])),Object(a["c"])(["getLatLongByLocationInfo"])),{},{chooseCurrent:function(){this.location?(this.onlyread||(localStorage.setItem("latitude",this.location.latitude),localStorage.setItem("longitude",this.location.longitude),localStorage.setItem("provinceId",this.location.provinceId),localStorage.setItem("cityId",this.location.cityId),localStorage.setItem("districtId",this.location.districtId),localStorage.setItem("townshipId",this.location.townshipId),localStorage.setItem("aId",""),this.setLocationInfo(this.location),this.setLoaction({latitude:this.location.latitude,longitude:this.location.longitude}),this.$util.isSgRn()&&window.postMessage(JSON.stringify({type:"setLocation",data:{location:this.location}}))),this.closeModal()):(console.log("手动定位"),this.getLocation())},closeModal:function(){this.$emit("handleLocation",this.location),this.$emit("onHide")},getLocation:function(){var t=this;this.$util.isSgRn()?window.postMessage(JSON.stringify({type:"doLocation"})):this.$store.dispatch("doLocation",!0).then((function(o){400===o?t.$toast("定位失败，请自行选择位置信息"):t.$store.dispatch("doLocationInfo",{latitude:o.latitude,longitude:o.longitude,force:!0}).then((function(o){t.location=o,t.closeModal()}))}))},otherLocation:function(){this.$emit("otherLocation")},selectDefaultAddr:function(t){var o=this,i=this.addrList[t];if(i.canUse){var e={region:i.rn,provinceId:i.pi,province:i.pt,cityId:i.ci,city:i.ct,districtId:i.ri,district:i.rt,townshipId:i.si,township:i.st,latitude:"",longitude:""};this.getLatLongByLocationInfo(e).then((function(t){400===t?o.$toast("根据位置信息获取经纬度失败"):(e.latitude=t.latitude,e.longitude=t.longitude,o.onlyread||(localStorage.setItem("latitude",t.latitude),localStorage.setItem("longitude",t.longitude),localStorage.setItem("provinceId",e.provinceId),localStorage.setItem("cityId",e.cityId),localStorage.setItem("districtId",e.districtId),localStorage.setItem("townshipId",e.townshipId),localStorage.setItem("aId",i.id),o.setLocationInfo(e),o.setLoaction(t),o.$util.isSgRn()&&window.postMessage(JSON.stringify({type:"setLocation",data:{location:e}}))),o.closeModal())}))}}}),mounted:function(){this.showLoading=!0},beforeDestroy:function(){}},d=r,u=(i("ad71"),i("2877")),g=Object(u["a"])(d,e,n,!1,null,"2e9fe8d8",null);o["default"]=g.exports}}]);
//# sourceMappingURL=chunk-82b13368.642a1e82.js.map