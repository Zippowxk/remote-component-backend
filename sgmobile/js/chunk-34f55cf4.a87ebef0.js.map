{"version":3,"sources":["webpack:///./src/views/order/invoice/invoiceApply/batchDeleteInvoice/index.vue?2418","webpack:///./src/views/order/invoice/invoiceApply/batchDeleteInvoice/index.vue?f20a","webpack:///src/views/order/invoice/invoiceApply/batchDeleteInvoice/index.vue","webpack:///./src/views/order/invoice/invoiceApply/batchDeleteInvoice/index.vue?1c9d","webpack:///./src/views/order/invoice/invoiceApply/batchDeleteInvoice/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","$cdnImageUrl","_v","on","toggleAll","_s","allCheck","voiceList","length","staticStyle","_l","item","key","id","$event","toggleCheck","has","style","invoiceTitle","taxPayerNumber","deleteInvoice","staticRenderFns","components","Header","data","tigger","created","memberInvoice","methods","res","success","checkIds","clear","console","log","add","forEach","size","$dialog","confirm","showCancelButton","message","confirmButtonText","cancelButtonText","ids","result","$toast","fail","computed","component"],"mappings":"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","file":"js/chunk-34f55cf4.a87ebef0.js","sourcesContent":["export * from \"-!../../../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=12a64b74&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"background\"},[_c('Header',[_c('div',{staticClass:\"backIcon\",attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('img',{attrs:{\"src\":(_vm.$cdnImageUrl + \"/common/back_white.png\")}})]),_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"批量删除增票信息\")]),_c('div',{attrs:{\"slot\":\"right\"},on:{\"click\":_vm.toggleAll},slot:\"right\"},[_vm._v(_vm._s(_vm.allCheck && _vm.voiceList.length ? '取消全选' : '全选'))])]),_c('div',{staticClass:\"addressContent\",staticStyle:{\"padding-bottom\":\"100px\"}},_vm._l((_vm.voiceList),function(item){return _c('div',{key:item.id,staticClass:\"flex-common\",staticStyle:{\"padding\":\"0 16px\",\"background\":\"#ffffff\",\"margin\":\"8px 0 0 0\",\"min-height\":\"90px\",\"justify-content\":\"flex-start\"},on:{\"click\":function($event){return _vm.toggleCheck(item.id)}}},[_c('div',{staticClass:\"flex-common\",staticStyle:{\"width\":\"48px !important\"}},[_c('img',{staticStyle:{\"width\":\"16px\",\"height\":\"16px\"},attrs:{\"src\":(\"\" + _vm.$cdnImageUrl + (_vm.has(item.id) ? '/common/checked.svg' : '/cart/icon-unselected.png'))}})]),_c('div',[_c('div',{staticClass:\"flex-common\",staticStyle:{\"height\":\"44px\",\"font-size\":\"14px\",\"color\":\"#000\"}},[_c('span',{style:({'color': '#333'})},[_vm._v(\" \"+_vm._s(item.invoiceTitle))])]),_c('div',[_c('span',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#000\"}},[_vm._v(_vm._s(item.taxPayerNumber))])])])])}),0),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"90px\",\"position\":\"fixed\",\"bottom\":\"0px\",\"background\":\"#f4f4f4\",\"max-width\":\"7.5rem\"}},[_c('div',{staticStyle:{\"width\":\"91%\",\"height\":\"44px\",\"margin\":\"23px auto\",\"background\":\"#2979FF\",\"border-radius\":\"50px\",\"line-height\":\"44px\",\"text-align\":\"center\",\"color\":\"#ffffff\",\"font-size\":\"17px\"},on:{\"click\":_vm.deleteInvoice}},[_vm._v(\"删除\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"background\">\n  <!--标题-->\n  <Header>\n    <div slot=\"left\" class=\"backIcon\"><img :src=\"`${$cdnImageUrl}/common/back_white.png`\"></div>\n    <div slot=\"title\">批量删除增票信息</div>\n    <div slot=\"right\" @click=\"toggleAll\">{{ allCheck && voiceList.length ? '取消全选' : '全选' }}</div>\n  </Header>\n<div class=\"addressContent\" style=\"padding-bottom: 100px\">\n    <div @click=\"toggleCheck(item.id)\" v-for=\"item in voiceList\" :key=\"item.id\" class=\"flex-common\" style=\"padding: 0 16px;background:#ffffff;margin:8px 0 0 0;min-height:90px;justify-content: flex-start\">\n        <div class=\"flex-common\" style=\"width:48px !important;\">\n            <img :src=\"`${$cdnImageUrl}${ has(item.id) ? '/common/checked.svg' : '/cart/icon-unselected.png'}`\" style=\"width:16px;height:16px;\">\n        </div>\n        <div>\n            <div class=\"flex-common\" style=\"height:44px;font-size: 14px;color:#000;\">\n                <span :style=\"{'color': '#333'}\"> {{ item.invoiceTitle }}</span>\n            </div>\n            <div>\n                <span style=\"font-size: 12px;color:#000;\">{{ item.taxPayerNumber }}</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div style=\"width:100%;height:90px;position: fixed;bottom:0px;background: #f4f4f4;max-width: 7.5rem\">\n    <div @click=\"deleteInvoice\" style=\"width:91%;height:44px;margin:23px auto;background: #2979FF;border-radius: 50px;line-height:44px;text-align: center;color: #ffffff;font-size: 17px;\">删除</div>\n</div>\n</div>\n</template>\n\n<script>\nimport Header from '@/components/header'\nimport { memberInvoice, deleteBatchInvoice } from '@/http/service/goods'\n\nlet checkIds = new Set() // 当前选中的id集合\n\nexport default {\n  components: {\n    Header\n  },\n  data() {\n    return {\n      voiceList: [],\n\n      tigger: 0, // 当check状态变化时，tigger改变，利用它的响应式间接把checkIds变成响应式的变量\n    }\n  },\n  created() {\n    this.memberInvoice()\n  },\n  methods: {\n    memberInvoice() {\n      memberInvoice().then(res => {\n        if (res.success) {\n          this.voiceList = res.data\n          checkIds.clear()\n        }\n      })\n    },\n\n    has(id) {\n      console.log(this.tigger) // 不可删除，tigger变量在此处收集依赖，当checkIds改动的时候重新执行此函数\n      return checkIds.has(id)\n    },\n    toggleCheck(id) {\n      if (checkIds.has(id)) {\n        checkIds.delete(id)\n      } else {\n        checkIds.add(id)\n      }\n      this.tigger++\n    },\n    toggleAll() {\n      if (this.allCheck) {\n        checkIds.clear()\n      } else {\n        this.voiceList.forEach(v => checkIds.add(v.id))\n      }\n      this.tigger++\n    },\n\n    deleteInvoice() {\n      if (!checkIds.size) {\n        this.$toast.fail('请选择要删除的增票');\n        return;\n      }\n      this.$dialog.confirm({\n        showCancelButton: true,\n        message: '您确认要删除吗?',\n        confirmButtonText: '是',\n        cancelButtonText: '否'\n      }).then(res => {\n        if (res === 'confirm') {\n          deleteBatchInvoice({\n            ids: [...checkIds].join(',')\n          }).then(result => {\n            if (result.success) {\n              checkIds.clear()\n              this.tigger++\n              this.memberInvoice()\n            } else {\n              this.$toast.fail(result.message)\n            }\n          })\n        }\n      })\n    },\n  },\n  computed: {\n    allCheck() {\n      console.log(this.tigger) // 不可删除，tigger变量在此处收集依赖，当checkIds改动的时候重新执行此函数\n      return this.voiceList.length === checkIds.size\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.backIcon{\n  img{\n    width: .4rem;\n    height: .4rem;\n  }\n}\n::v-deep .van-nav-bar__left{\n  padding: 0 0.24rem;\n}\n::v-deep .van-nav-bar{\n  background: transparent;\n}\n::v-deep .van-nav-bar__title{\n  display: none;\n}\n::v-deep [class*=van-hairline]::after{\n  border: none;\n}\n::v-deep .van-popup{\n  left: 0;\n  right: 0;\n  @include max-width;\n}\n.flex-common {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .icon-edit {\n    margin-right: .1rem;\n    display: block;\n    width: 0.32rem;\n    height: 0.32rem;\n    background-size: contain;\n    background-position: center;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACM0lEQVRYR83XMW/TQBQH8P/FsehQIYZIgGDkCyCxdWIIElTqmI2pqZLYDGQIC0uGfgG83CmpFAnBCAtIjHRADKXwCUCiE8rUSgRyEvE9ZGSjyHWcc3KXxlMi3737+d3z3ZlhzS62Zh5YAwVBcNN13XcATqWUO+12+0zn4a2AYsx7ALdixCcp5T0dlHFQCnMM4EoM00IZBaUw/wCO42y6rptkay7KGCgLk0xR+t5oNLrb6XR+ZdWUEVAeJhlUCLFLRAfRf6XUlu/7H62AdDC9Xu9+GIavAWwAeNZqtR7PeuOWypBpTIRcGGQDszBIByOEeEBEr3SmaXr6CmfIJqZwhmxjCoFWgdEGrQqjBSqAidaZS/PWmXk7fm5RrxqTm6GLwMwEXRQmE9Tv969OJpMPeWeYeNEzUjPpmjpXQ5zzpwD2GWPH4/G4mj7l2cRkZohz3gOwVyqVGo1GI/r9/7KNyQQJId4S0bZSasf3/TdT55lob7IyTbl7Gef8C4DbRHTH87zPg8FgQ0q5DeCliXWm8DrEOf8B4BqAIwDXAdwAUIoD5R6u5g2mcz+rqH8C2Jzq/AfAdyJ67nnevk7QZdqcAwkhqoyx6HvqWxiGXyuVykmtVguXGaRI38LnoSLBF2m7/qAgCC6Xy+Utx3GSQl7kQbX6KKXGw+HwsNvtqqRDVg0dENGuVkQDjRhjD5vN5os8UJWIHk296gaGnRnit+u6T+r1+slMkM3RdWKvf1HrPIXNNn8BhMioNGmkRlMAAAAASUVORK5CYII=');\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=12a64b74&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=12a64b74&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12a64b74\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}