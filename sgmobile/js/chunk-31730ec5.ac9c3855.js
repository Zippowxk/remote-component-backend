(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31730ec5"],{8212:function(t,i,e){"use strict";e("d1fa")},"8ddd":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"financial-station"},[e("Header",{attrs:{text:"我的营收"}},[t.showFee?e("a",{attrs:{slot:"right",href:"javascript:;"},on:{click:function(i){return t.jumpToBill({fundType:"4",fundState:""})}},slot:"right"},[t._v("手续费")]):t._e()]),t.show?e("div",{staticClass:"warp-box"},[e("div",{staticClass:"tab-list"},t._l(t.permissionList,(function(i,n){return e("div",{key:n,staticClass:"tab-item",on:{click:function(i){return t.changeTab(n)}}},[e("div",{staticClass:"icon",style:{background:"url("+t.$cdnImageUrl+"/mine/sales/"+i.icon+") center center / cover no-repeat"}}),e("div",{staticClass:"title",class:t.activeIndex===n?"active":""},[t._v(t._s(i.title))])])})),0),e("div",{staticClass:"content-warp"},[t._l(t.detailList,(function(i,n){return[!1===i.hide?e("div",{key:n,staticClass:"financial-detail"},[e("div",{staticClass:"title"},[e("span"),e("span",[t._v(t._s(i.title))])]),e("div",{staticClass:"num"},[e("span",[t._v("￥")]),e("span",[t._v(t._s(i.num))])]),6===t.permissionList[t.activeIndex].type||5===t.permissionList[t.activeIndex].type&&0!==n?t._e():e("div",{staticClass:"check-bill",on:{click:function(e){return t.jumpToBill({fundState:i.type})}}},[t._v("查看账单")])]):t._e()]}))],2),e("div",{staticClass:"footer"},[t.bindCard?e("div",{staticClass:"unbind-card",on:{click:t.jumpToUnbindCard}},[t._v("解绑银行卡")]):e("div",{staticClass:"bind-card"},[t._v("您还没有绑定银行卡 ，点击这里"),e("i",{on:{click:t.jumpToBindCard}},[t._v("去绑卡>>")])]),e("div",{staticClass:"rules",on:{click:t.jumpToRules}},[e("i"),e("span",[t._v("规则说明 ")])])])]):t._e(),t.showLoading?e("van-loading",{staticClass:"cover-loading",attrs:{type:"spinner",color:"#1989fa"}}):t._e()],1)},a=[],s=e("e725"),r=e("d354"),o={2:{title:"佣金",type:2,billType:2,icon:"yongjin.png"},1:{title:"货款",type:1,billType:1,icon:"huokuan.png"},5:{title:"奖励",type:5,billType:5,icon:"jiangli.png"},6:{title:"服务费",type:6,billType:6,icon:"service-icon.png"},7:{title:"设计师奖励",type:7,billType:13,icon:"reward.png"}},c={components:{Header:s["a"]},data:function(){return{show:!1,identifyFlag:"",showLoading:!0,showFee:!1,bindCard:!1,activeIndex:0,permissionList:[],detailList:[{title:"预计收益",num:"--",type:1,hide:!1},{title:"提现中",num:"--",type:2,hide:!1},{title:"已提现",num:"--",type:3,hide:!1}]}},created:function(){var t=this;this.showLoading=!0,Promise.all([Object(r["a"])({type:"bank"}),Object(r["b"])({accountType:2}),Object(r["g"])()]).then((function(i){t.showLoading=!1;var e=i.map((function(t){return!!t.data.success&&t.data.data}));if(e[2]){t.identifyFlag=Number(e[2].identifyFlag);var n=t.permissionFliter(Number(e[2].occupation));if(!n.length)return void t.$router.replace("/financialStationLocked");t.permissionList=n.map((function(t){return o[t]}))}t.bindCard=e[0],t.formData(e[1]),t.show=!0}))},methods:{permissionFliter:function(t){var i=[];return 99100===t?(i=[2,5],this.$util.isSyBird()&&i.push(6)):[21,22,31].includes(this.identifyFlag)?i=[2,5]:this.identifyFlag>=10&&this.identifyFlag<=20&&(this.showFee=!0,i=[2,1,5]),i.push(7),i},formData:function(t){t&&(this.detailList[0].num=Number(t.balance).toFixed(2),this.detailList[1].num=Number(t.withdrawingBalance).toFixed(2),this.detailList[2].num=Number(t.withdrawedBalance).toFixed(2))},fetchSumInfo:function(){var t=this;this.showLoading=!0,Object(r["b"])({accountType:this.permissionList[this.activeIndex].type}).then((function(i){t.showLoading=!1;var e=i&&i.data;e.success&&t.formData(e.data)}))},fetchServiceCharge:function(){var t=this;this.showLoading=!0,Object(r["e"])().then((function(i){t.showLoading=!1;var e=i&&i.data;e.success?(t.detailList[0].num=Number(e.data.expectedEarning).toFixed(2),t.detailList[1].num=0,t.detailList[2].num=Number(e.data.withdrawal).toFixed(2)):(t.detailList[0].num="--",t.detailList[1].num="--",t.detailList[2].num="--")}))},changeTab:function(t){this.activeIndex=t,6===this.permissionList[this.activeIndex].type?(this.detailList[1].hide=!0,this.fetchServiceCharge()):(this.detailList[1].hide=!1,this.fetchSumInfo())},jumpToBindCard:function(){this.$router.push({path:"/bindcard",query:{identifyFlag:this.identifyFlag}})},jumpToUnbindCard:function(){this.$router.push({path:"/bankcard"})},jumpToRules:function(){this.$router.push({path:"documentInfo",query:{id:15,title:"规则说明"}})},jumpToBill:function(t){this.permissionList&&this.permissionList[this.activeIndex]&&1===this.permissionList[this.activeIndex].type&&this.$util.gioTrackWithVariable("mall_income_click_bill"),this.$router.push({path:"/billList",query:{fundType:t.fundType||this.permissionList[this.activeIndex].billType,fundState:t.fundState}})}}},u=c,d=(e("8212"),e("2877")),l=Object(d["a"])(u,n,a,!1,null,"05c34296",null);i["default"]=l.exports},d1fa:function(t,i,e){},d354:function(t,i,e){"use strict";e.d(i,"g",(function(){return s})),e.d(i,"d",(function(){return r})),e.d(i,"f",(function(){return o})),e.d(i,"a",(function(){return c})),e.d(i,"b",(function(){return u})),e.d(i,"c",(function(){return d})),e.d(i,"e",(function(){return l}));var n=e("1c03"),a=e("bbc2"),s=function(t,i){return n["a"].request({url:a["a"].myManage,method:"get",params:{_t:Date.now()},noLogin:i})},r=function(t){return n["a"].request({url:a["a"].getOrderCount,method:"get",params:{chId:60}})},o=function(t){return n["a"].request({url:a["a"].wallet,method:"get",params:{}})},c=function(t){return n["a"].request({url:a["a"].checkBindByType,method:"get",params:t})},u=function(t){return n["a"].request({url:a["a"].getComminsionSumInfo,method:"POST",data:t,headers:{"Content-Type":"application/json"}})},d=function(t){return n["a"].request({url:a["a"].getGoodsAmountList,method:"POST",data:t,headers:{"Content-Type":"application/json"}})},l=function(t){return n["a"].request({url:a["a"].getServiceCharge,method:"get",params:t})}}}]);
//# sourceMappingURL=chunk-31730ec5.ac9c3855.js.map