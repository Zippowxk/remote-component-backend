(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addrSelect"],{"8e8f":function(t,o,i){},"981c":function(t,o,i){"use strict";i.r(o);var e=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"box"},[i("div",{staticClass:"top",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"top-bar"},[i("div",{staticClass:"title"},[t._v("配送地址 "),i("img",{attrs:{src:t.$cdnImageUrl+"/common/back-common.svg"},on:{click:t.closeModal}})])]),t.location?i("div",{staticClass:"nowAddress location",on:{click:t.chooseCurrent}},[i("img",{attrs:{src:t.$cdnImageUrl+"/location/icon_addr_bule.png",alt:""}}),i("span",[t._v("定位地址("+t._s(t.location.district)+"/"+t._s(t.location.township)+")")])]):i("div",{staticClass:"nowAddress location",on:{click:t.chooseCurrent}},[i("img",{attrs:{src:t.$cdnImageUrl+"/common/location-icon-blue.svg",alt:""}}),i("span",[t._v("点击自动定位")])]),i("div",{staticClass:"addr-content"},[i("div",{staticClass:"addr-list"},t._l(t.addrList,(function(o,e){return i("div",{key:e,staticClass:"info",on:{click:function(o){return t.selectDefaultAddr(e)}}},[i("img",{attrs:{src:t.$cdnImageUrl+"/location/addr-black.png",alt:""}}),i("span",[t._v(t._s(o.rn)+" "+t._s(o.ar))])])})),0)]),i("div",{staticClass:"addr-bottom"},[i("div",{staticClass:"addr-bottom-btn",on:{click:function(o){return o.stopPropagation(),t.otherLocation.apply(null,arguments)}}},[t._v(" 点击选择其他地址 ")])])])])},n=[],c=i("2f62");function a(t,o){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.push.apply(i,e)}return i}function s(t){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?a(Object(i),!0).forEach((function(o){r(t,o,i[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))}))}return t}function r(t,o,i){return o in t?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i,t}var l={props:["onlyread","showAddr","addrList"],data:function(){return{showLoading:!1,location:null,show:!0,windowHeight:""}},methods:s(s(s({},Object(c["e"])(["setLocationInfo","setLoaction"])),Object(c["c"])(["getLatLongByLocationInfo"])),{},{chooseCurrent:function(){this.location?(this.onlyread||(localStorage.setItem("latitude",this.location.latitude),localStorage.setItem("longitude",this.location.longitude),localStorage.setItem("provinceId",this.location.provinceId),localStorage.setItem("cityId",this.location.cityId),localStorage.setItem("districtId",this.location.districtId),localStorage.setItem("townshipId",this.location.townshipId),this.setLocationInfo(this.location),this.setLoaction({latitude:this.location.latitude,longitude:this.location.longitude})),this.closeModal()):(console.log("手动定位"),this.getLocation())},closeModal:function(){this.$emit("handleLocation",this.location),this.$emit("onHide")},getLocation:function(){var t=this;this.$store.dispatch("doLocation",!0).then((function(o){400===o?t.$toast("定位失败，请自行选择位置信息"):t.$store.dispatch("doLocationInfo",{latitude:o.latitude,longitude:o.longitude,force:!0}).then((function(o){t.location=o,t.location.aId="",t.closeModal()}))}))},otherLocation:function(){this.$emit("otherLocation")},selectDefaultAddr:function(t){var o=this,i=this.addrList[t],e={region:i.rn,provinceId:i.pi,province:i.pt,cityId:i.ci,city:i.ct,districtId:i.ri,district:i.rt,townshipId:i.si,township:i.st,latitude:"",longitude:""};this.getLatLongByLocationInfo(e).then((function(t){400===t?o.$toast("根据位置信息获取经纬度失败"):(e.latitude=t.latitude,e.longitude=t.longitude,e.aId=i.id,e.district=e.region.split(" ")[2],o.onlyread||(localStorage.setItem("latitude",t.latitude),localStorage.setItem("longitude",t.longitude),localStorage.setItem("provinceId",e.provinceId),localStorage.setItem("cityId",e.cityId),localStorage.setItem("districtId",e.districtId),localStorage.setItem("townshipId",e.townshipId),o.setLocationInfo(e),o.setLoaction(t)),o.closeModal(),o.$emit("handleLocation",e))}))}}),mounted:function(){this.showLoading=!0},beforeDestroy:function(){}},d=l,u=(i("ac4c"),i("2877")),g=Object(u["a"])(d,e,n,!1,null,"69f289b8",null);o["default"]=g.exports},ac4c:function(t,o,i){"use strict";i("8e8f")}}]);
//# sourceMappingURL=addrSelect.7962a1ca.js.map