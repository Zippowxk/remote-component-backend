(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b2150b5"],{"248d":function(t,e,a){},"936c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"scroll"}},[a("Header",{attrs:{leftClick:t.goBack}}),a("product-list",{attrs:{"with-option":!0,info:t.regionId},on:{clickOption:t.handlePopup}}),a("van-popup",{attrs:{position:"left","lazy-render":!1,"get-container":"#app-warp"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[a("Category",{ref:"category",attrs:{info:t.regionId},on:{back:t.handlePopup,clickCateItem:t.clickCateItem}})],1)],1)},c=[],n=a("08a0"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("div",{staticClass:"title"},[a("span",{staticClass:"left",on:{click:function(e){return t.$emit("back")}}}),t._v(" 全部分类 ")]),a("div",{staticClass:"cate-tree"},[a("div",{staticClass:"tree-left"},t._l(t.cates,(function(e){return a("div",{key:e.id,staticClass:"item",class:e.id===t.activedCate?"actived":"",on:{click:function(a){return t.clickCate(e)}}},[t._v(" "+t._s(t._f("clipText")(e.navigationName,4))+" ")])})),0),a("div",{staticClass:"tree-right"},[a("lazy-component",t._l(t.secondCates,(function(e){return a("div",{key:e.id,staticClass:"wrapper"},[a("div",{staticClass:"title"},[t._v(t._s(e.navigationName))]),a("div",{staticClass:"content"},t._l(e._childCate,(function(i,c){return a("div",{key:i.id,staticClass:"content-item",class:c>t.lastIndex(e._childCate.length)?"last":"",on:{click:function(e){return t.$emit("clickCateItem",i)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.imageUrl,expression:"_item.imageUrl"}]}),a("p",[t._v(t._s(i.navigationName))])])})),0)])})),0)],1)])])},s=[],r=a("5adf"),l=a("7f84"),d={mixins:[l["a"]],props:["info"],data:function(){return{cates:[],activedCate:"",secondCates:[]}},methods:{lastIndex:function(t){var e=t%3===0?3:t%3;return t-1-e},clickCate:function(t){this.activedCate=t.id},getCategory:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a={module:2,parentId:e,regionId:this.info};Object(r["b"])(a).then((function(a){if(a.success)if(0===e)t.cates=a.data,t.activedCate=t.cates[0].id;else{var i=[],c=[];a.data.forEach((function(t){t.parentId===e?i.push(t):c.push(t)})),i.forEach((function(t){c.forEach((function(e){e.parentId===t.id&&(t._childCate?t._childCate.push(e):t._childCate=[e])}))})),t.secondCates=i}else t.$toast(a.message)}))}},watch:{activedCate:function(t){this.getCategory(t)}},filters:{},created:function(){}},u=d,p=(a("d54d"),a("2877")),f=Object(p["a"])(u,o,s,!1,null,"da180d08",null),h=f.exports,v=a("e725"),C={props:{},components:{productList:n["a"],Category:h,Header:v["a"]},data:function(){return{regionId:this.$route.query.regionId,showPopup:!1}},beforeRouteLeave:function(t,e,a){if(e.meta.keepAlive){var i=document.querySelector("#scroll"),c=i?i.scrollTop:0;console.log("scrollTop",c),e.meta.scrollTop=c}a()},activated:function(){var t=this.$route.meta.scrollTop;if(t&&0!==t){var e=document.querySelector("#scroll");e&&this.$nextTick((function(){e.scrollTop=t}))}},computed:{},methods:{handlePopup:function(){this.showPopup=!this.showPopup},clickCateItem:function(t){var e=t.url.replace(/productCateId=/g,"");this.$router.push({name:"smartChoiceProvinceThirdCate",params:{cateId:e,title:t.navigationName},query:{regionId:this.regionId}})},goBack:function(){this.$keepAliveDestroy(),this.$store.dispatch("doHistoryBack")}},mounted:function(){this.$refs.category.getCategory()}},m=C,g=(a("c2ec"),Object(p["a"])(m,i,c,!1,null,"4c32ea8b",null));e["default"]=g.exports},c2ec:function(t,e,a){"use strict";a("d72a")},d54d:function(t,e,a){"use strict";a("248d")},d72a:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0b2150b5.1a8684f0.js.map