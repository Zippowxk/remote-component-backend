(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-652fe9d0"],{2090:function(t,e,n){"use strict";n("2904")},2904:function(t,e,n){},"507c":function(t,e,n){"use strict";n("7eb3")},"791f":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 1==t.type?n("div",{staticClass:"empty"},[n("img",{staticClass:"small",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/answer_empty.png",alt:""}}),n("p",[t._v("正在来回答的路上~")])]):n("div",{staticClass:"empty"},[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/tipImg.png",alt:""}}),n("p",[t._v("暂无问答")])])},a=[],i={name:"empty",props:["type"]},o=i,r=(n("507c"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"7ee40ae2",null);e["a"]=c.exports},"7eb3":function(t,e,n){},ec8f:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("Header",[n("a",{staticClass:"publish-btn",class:{active:t.commentContext},attrs:{slot:"right",href:"javascript:;"},on:{click:t.toSubmit},slot:"right"},[t._v("提交")])]),n("div",{staticClass:"page-warp"},[n("div",{staticClass:"answer-title"},[n("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/question.png",alt:""}}),n("h2",[t._v(t._s(t.getQuestionInfo.question))])]),n("div",{staticClass:"answer-detail"},[n("div",{staticClass:"answer-item"},[n("img",{attrs:{src:t.getReplayInfo.headImg||"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/user_default.png",alt:""}}),n("div",{staticClass:"answer-item-body"},[n("div",{staticClass:"answer-user"},[t._v(t._s(t.getReplayInfo.nickName)+" "),n("span",{class:{invite:2==t.getReplayInfo.identity}},[t._v(t._s(t.userIdentity[t.getReplayInfo.identity]))])]),n("div",{staticClass:"answer-content"},[t._v(t._s(t.getReplayInfo.answer))]),n("div",{staticClass:"answer-other"},[n("p",[t._v(t._s(t.getReplayInfo.createTime))]),n("div",{on:{click:t.doLike}},[n("span",{class:{active:t.getReplayInfo.recordId}},[n("i",{staticClass:"icon-zan"}),t._v(t._s(t.getReplayInfo.likeCount))])])])])]),n("div",[t.list.length?n("div",{staticClass:"answer-body"},[n("h5",[t._v("评论回复 ")]),n("van-list",{staticClass:"answer-list",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e){return n("div",{key:e.commentId,staticClass:"answer-item"},[n("img",{attrs:{src:e.headImg||"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/goods/answer/user_default.png",alt:""}}),n("div",{staticClass:"answer-item-body"},[n("div",{staticClass:"answer-user"},[t._v(t._s(e.nickName)),n("span",{class:{invite:2==e.identity}},[t._v(t._s(t.userIdentity[e.identity]))])]),e.parentComment?n("div",{staticClass:"answer-replay"},[n("span",[t._v("@"+t._s(e.parentComment.nickName)+"：")]),t._v(t._s(e.parentComment.comment))]):t._e(),n("div",{staticClass:"answer-content"},[t._v(t._s(e.comment))]),n("div",{staticClass:"answer-other"},[n("p",[t._v(t._s(e.createTime))]),n("div",[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return t.toReplay(e)}}},[t._v("回复")])])])])])})),0)],1):t._e(),!t.list.length&&t.finished?n("AnswerEmpty"):t._e()],1)])]),n("div",{staticClass:"fixed-input"},[n("div",[n("span",[t._v(t._s(t.commentToUser))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.commentContext,expression:"commentContext"}],attrs:{type:"text",placeholder:"请输入您的评论"},domProps:{value:t.commentContext},on:{input:function(e){e.target.composing||(t.commentContext=e.target.value)}}})]),t.commentToUser?n("a",{attrs:{href:"javascript:;"},on:{click:t.cancelToReplay}},[t._v("取消")]):t._e()])],1)},a=[],i=n("e725"),o=n("791f"),r=n("85e4"),c=n("2f62");function l(t){return p(t)||u(t)||d(t)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function p(t){if(Array.isArray(t))return g(t)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y={name:"goodstoreplay",components:{Header:i["a"],AnswerEmpty:o["a"]},data:function(){return{isActive:!1,answerId:"",commentToUserId:"",commentToUser:"",commentContext:"",curPage:1,pageSize:20,questionInfo:{},list:[],loading:!1,finished:!1,userIdentity:{1:"已买",2:"商家",3:"平台"}}},computed:h(h({},Object(c["d"])("answerArea",["getQuestionInfo","getReplayInfo"])),Object(c["d"])(["mId"])),mounted:function(){this.answerId=this.$route.params.id,console.log(this.getReplayInfo),this.getPageProductComment()},methods:h(h({},Object(c["e"])("answerArea",["setReplayInfo"])),{},{init:function(){this.curPage=1,this.list=[],this.getPageProductComment(),this.cancelToReplay(),this.commentContext=""},onLoad:function(){this.getPageProductComment()},getPageProductComment:function(){var t=this;this.loading=!0;var e={start:this.curPage,offset:this.pageSize,answerId:this.answerId};Object(r["U"])(e).then((function(e){var n=e.result,s=e.success;s?(t.questionInfo=t.curPage+=1,t.loading=!1,t.list=[].concat(l(t.list),l(n)),t.finished=n.length<t.pageSize):(t.loading=!1,t.finished=!0)}))},toSubmit:function(){var t=this;if(this.commentContext){var e={answerId:this.answerId,commentUserId:this.mId,comment:this.commentContext,parentId:this.commentToUserId};Object(r["c"])(e).then((function(e){var n=e.success;n?(t.$toast("回复成功"),t.init()):t.$toast("回复失败")}))}else this.$toast("请输入评论内容")},toReplay:function(t){this.commentToUserId=t.commentId,this.commentToUser="回复 ".concat(t.nickName," ")},cancelToReplay:function(){this.commentToUserId="",this.commentToUser=""},doLike:function(){var t=this;Object(r["d"])({answerId:this.answerId}).then((function(e){var n=e.success;n&&(t.getReplayInfo.recordId?(t.getReplayInfo.recordId=!1,t.getReplayInfo.likeCount-=1):(t.getReplayInfo.recordId=!0,t.getReplayInfo.likeCount+=1),t.setReplayInfo(t.getReplayInfo))}))}})},w=y,b=(n("2090"),n("2877")),I=Object(b["a"])(w,s,a,!1,null,"a87c7b14",null);e["default"]=I.exports}}]);
//# sourceMappingURL=chunk-652fe9d0.e7810742.js.map