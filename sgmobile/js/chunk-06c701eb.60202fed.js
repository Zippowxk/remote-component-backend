(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06c701eb","chunk-079cb250"],{"0c14":function(t,e,r){},8261:function(t,e,r){},c563:function(t,e,r){"use strict";r("0c14")},d7a6:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"refresh-load"},[r("div",{staticClass:"spinner"},t._l(t.rectlist,(function(e){return r("div",{key:e,class:"rect"+e,style:{"background-color":t.color}})})),0),t.text?r("div",{staticClass:"spinner-text",style:{color:t.textColor}},[t._v(t._s(t.text))]):t._e()])},i=[],s={name:"refreshLoading",props:["text","color","textColor"],data:function(){return{rectlist:[1,2,3,4,5]}}},a=s,o=(r("ef69"),r("2877")),d=Object(o["a"])(a,n,i,!1,null,"9448457e",null);e["default"]=d.exports},ef69:function(t,e,r){"use strict";r("8261")},f23e:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("van-pull-refresh",{on:{refresh:t.onRefresh},scopedSlots:t._u([{key:"pulling",fn:function(){return[r("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loosing",fn:function(){return[r("refreshLoading",{attrs:{text:"下拉刷新"}})]},proxy:!0},{key:"loading",fn:function(){return[r("refreshLoading",{attrs:{text:"加载中"}})]},proxy:!0},{key:"success",fn:function(){return[r("refreshLoading",{attrs:{text:"加载完成"}})]},proxy:!0}]),model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.orderList.length>0?r("van-list",{attrs:{finished:t.finished,finishedText:"","van-clearfix":"","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._l(t.orderList,(function(e){return r("div",{key:e.id,staticClass:"item-container"},[r("div",{staticClass:"title-row"},[r("span",{staticClass:"title"},[t._v(t._s(e.storeName))]),r("span",{staticClass:"status-text"},[t._v(t._s(t.getOrderStatus(e)))])]),r("div",{staticClass:"order-id"},[t._v(" "+t._s(("N"===e.orderType?" 零售单：":"零售退单：")+e.orderNo)+" ")]),t._l(e.ylhOrderProductsList,(function(e){return r("div",{key:e.id,staticClass:"flex-row prod-item"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImgUrl,expression:"product.mainImgUrl"}],staticClass:"prod-img",attrs:{alt:""}}),r("div",{staticStyle:{width:"4.7rem"}},[r("div",{staticClass:"prod-name"},[t._v(t._s(e.prodName))]),r("div",{staticClass:"prod-num"},[t._v("x"+t._s(e.number))])])])})),r("div",{staticClass:"prod-sum"},[t._v(" 共"+t._s(t.getItemOrderSum(e))+"件商品 合计： "),r("span",{staticClass:"prod-price"},[t._v("￥"),r("span",{staticStyle:{"font-size":".36rem"}},[t._v(t._s(e.payment.toFixed(2).split(".")[0]))]),t._v("."+t._s(e.payment.toFixed(2).split(".")[1]))])]),r("div",{staticClass:"order-date"},[t._v(" 下单时间："+t._s(t._f("formatDate")(e.created))+" ")]),"N"===e.orderType?r("div",{staticClass:"track-btn-container"},[r("div",{staticClass:"track-btn",on:{click:function(r){return t.toTrackDetail(e.orderNo)}}},[t._v(" 查看物流 ")])]):t._e()],2)})),r("div",{staticStyle:{height:".3rem"}})],2):t._e(),t.finished&&0===t.orderList.length?r("div",{staticClass:"no-data"},[r("div",{staticClass:"nodata-icon"}),r("div",{staticClass:"no-bottom"},[t._v("暂无订单")])]):t._e()],1)],1)},i=[],s=r("d7a6"),a=r("fa7d"),o=r("d3c8");function d(t){return f(t)||u(t)||l(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function f(t){if(Array.isArray(t))return g(t)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p={N:["","","","","待发货","部分发货","待出库","部分出库","待收货","部分收货","已完成","已取消"],Y:["","待收货","部分收货","已取消","待入库","部分入库","已完成"]},m={name:"storeOrderList",components:{refreshLoading:s["default"]},data:function(){return{isLoading:!1,loading:!0,finished:!0,pageIndex:0,orderList:[]}},mounted:function(){this.getList()},methods:{onRefresh:function(){var t=this;t.pageIndex=0,t.loading=!1,t.finished=!0,t.isLoading=!0,t.getList()},onLoad:function(){this.pageIndex++,this.getList()},getList:function(){var t=this,e=this,r={pageIndex:e.pageIndex,pageSize:10,orderFlag:0};o["a"].getStoreOrderList(r).then((function(r){console.log("订单：",r),r.success?(0===e.pageIndex?e.orderList=r.data.orders:e.orderList=[].concat(d(e.orderList),d(r.data.orders)),e.finished=!1,e.loading=!1,e.isLoading&&(e.isLoading=!1),r.data.orders.length<10&&(e.finished=!0)):(t.$toast.fail(r.message),e.finished=!0,e.loading=!1),e.isLoading&&(e.isLoading=!1)}))["catch"]((function(){e.finished=!0,e.loading=!1,e.isLoading=!1}))},getOrderStatus:function(t){return p[t.orderType][Number(t.orderStatus)]},getItemOrderSum:function(t){var e=0;return t.ylhOrderProductsList&&t.ylhOrderProductsList.length&&t.ylhOrderProductsList.map((function(t){e+=t.number})),e},toTrackDetail:function(t){this.$router.push({path:"/trackingDetail?soNo=".concat(t)})}},filters:{formatDate:function(t){return a["a"].formatTime(t,"Y-M-D h:m:s")}}},h=m,v=(r("c563"),r("2877")),y=Object(v["a"])(h,n,i,!1,null,"36932c2f",null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-06c701eb.60202fed.js.map