(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65d51bdd"],{2108:function(t,o,s){"use strict";s.d(o,"c",(function(){return e})),s.d(o,"d",(function(){return a})),s.d(o,"a",(function(){return r})),s.d(o,"b",(function(){return c})),s.d(o,"e",(function(){return u}));var i=s("bbc2"),n=s("1c03"),e=function(t){return Object(n["b"])(i["a"].getMainGroupBooking,t)},a=function(t){return Object(n["b"])(i["a"].getShopGroupList,t)},r=function(t){return Object(n["b"])(i["a"].getGoodsGroupList,t)},c=function(t){return Object(n["b"])(i["a"].getGroupBuyByOrderSn,t)},u=function(t){return Object(n["b"])(i["a"].isGroupBuyOrder,t)}},5668:function(t,o,s){"use strict";s.r(o);var i=function(){var t=this,o=t.$createElement,s=t._self._c||o;return t.groupList.length?s("div",{staticClass:"content"},[s("div",{staticClass:"title-row"},[s("img",{attrs:{src:"//cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/groupBooking/icon-title-booking.png"}}),s("span",{staticClass:"title"},[t._v(t._s(t.totalNum)+"人正在拼团")]),t.groupList.length>2?s("div",{staticClass:"more",on:{click:function(o){return t.showListModal(!0)}}},[s("span",[t._v("查看全部")]),s("van-icon",{attrs:{name:"arrow",size:".28rem",color:"#333333"}})],1):t._e()]),t._l(t.groupList.slice(0,2),(function(o,i){return[s("div",{key:i,staticClass:"group-item",style:{borderBottom:0===i?"1px solid #f5f5f5":0},on:{click:function(s){return t.goGroup(o)}}},[o.actorList&&o.actorList.length?[t._l(o.actorList,(function(t,i){return s("img",{key:i,style:{zIndex:o.actorList.length-i,left:-.33*i+"rem"},attrs:{src:t.memberHead}})})),s("div",{staticClass:"name",style:{left:-.33*(o.actorList.length-1)+"rem",width:"2.3rem"}},[t._v(t._s(o.actorList[0].memberName))])]:t._e(),s("div",{staticClass:"detail-row"},[s("span",{staticClass:"top"},[t._v("还差"),s("span",{staticStyle:{color:"#FF5252"}},[t._v(t._s(o.leftNum)+"人")]),t._v("拼成")]),s("span",{staticClass:"bottom"},[t._v("剩余"),s("count-down",{attrs:{time:o.endTime-o.sysTime},on:{finish:t.onTimeDown}})],1)]),t._m(0,!0)],2)]})),s("van-popup",{staticStyle:{"border-radius":".24rem"},attrs:{position:"center","get-container":"#app-warp"},model:{value:t.showModal,callback:function(o){t.showModal=o},expression:"showModal"}},[s("div",{staticClass:"modal-box"},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"title"},[s("span",[t._v("正在拼单")]),s("img",{attrs:{src:t.$cdnImageUrl+"/common/control-close.png",alt:""},on:{click:function(o){return t.showListModal(!1)}}})])]),s("div",{staticClass:"list"},t._l(t.groupList,(function(o,i){return s("div",{key:i,staticClass:"group-item",staticStyle:{border:"0"},on:{click:function(s){return t.goGroup(o)}}},[o.actorList&&o.actorList.length?[s("img",{attrs:{src:o.actorList[0].memberHead}}),s("div",{staticClass:"name"},[t._v(t._s(o.actorList[0].memberName))])]:t._e(),s("div",{staticClass:"detail-row"},[s("span",{staticClass:"top"},[t._v("还差"),s("span",{staticStyle:{color:"#FF5252"}},[t._v(t._s(o.leftNum)+"人")]),t._v("拼成")]),s("span",{staticClass:"bottom"},[t._v("剩余"),s("count-down",{attrs:{time:o.endTime-o.sysTime},on:{finish:t.onTimeDown}})],1)]),s("div",{staticClass:"button"},[s("span",[t._v("去参团")])])],2)})),0)])])],2):t._e()},n=[function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"button"},[s("span",[t._v("去参团")])])}],e=(s("414a"),s("7a82")),a=s("2108"),r={components:{CountDown:e["a"]},props:["productInfo","activityInfo"],data:function(){return{headerList:[1,2,3,4,5],timeDown:5e5,groupList:[],totalNum:0,showModal:!1}},watch:{activityInfo:function(t){this.getBookingList()}},mounted:function(){this.getBookingList()},methods:{onTimeDown:function(t,o){this.getBookingList()},getBookingList:function(){var t=this,o={activityId:this.activityInfo.activityId,productId:this.productInfo.productId,clustersNum:this.activityInfo.clustersNum};Object(a["a"])(o).then((function(o){console.log(o),o.success&&(t.groupList=o.data,t.totalNum=o.totalCount)}))},showListModal:function(t){this.showModal=t},goGroup:function(t){this.showListModal(!1),t.owner?this.$router.push("/groupBookingDetail?orderSn=".concat(t.actorList[0].orderSn)):this.$emit("chooseGroup",t.actorList[0].groupId)}}},c=r,u=(s("949c"),s("2877")),l=Object(u["a"])(c,i,n,!1,null,"1e1280cf",null);o["default"]=l.exports},6619:function(t,o,s){},"949c":function(t,o,s){"use strict";s("6619")}}]);
//# sourceMappingURL=chunk-65d51bdd.4927d3e6.js.map