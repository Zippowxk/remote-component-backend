{"version":3,"sources":["webpack:///./src/views/partners/component/jobs.vue?76b9","webpack:///src/views/partners/component/jobs.vue","webpack:///./src/views/partners/component/jobs.vue?234a","webpack:///./src/views/partners/component/jobs.vue","webpack:///./src/views/partners/component/jobs.vue?11d9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","cancel","_v","onSearch","model","value","callback","$$v","seaerchText","expression","directives","name","rawName","searchResultShow","staticStyle","_l","item","index","key","class","activeIndex","$event","selectCategory","_s","category","confirm","domProps","html","searchResult","length","_e","staticRenderFns","data","jobs","activeCategory","mounted","getJobs","methods","filterArr","indexOf","i","_arr","concat","child","v","forEach","str","splits","join","console","log","$emit","component"],"mappings":"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","file":"js/jobs.2b472253.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"jobs\"},[_c('div',{staticClass:\"jobs-header\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.cancel}})],1),_c('div',{staticClass:\"jobs-title\"},[_vm._v(\"请选择您从事的职业\")]),_c('div',{staticClass:\"jobs-search van-hairline--bottom\"},[_c('van-search',{attrs:{\"shape\":\"round\",\"placeholder\":\"搜索职业名称\"},on:{\"input\":_vm.onSearch},model:{value:(_vm.seaerchText),callback:function ($$v) {_vm.seaerchText=$$v},expression:\"seaerchText\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.searchResultShow),expression:\"!searchResultShow\"}],staticClass:\"jobs-content\"},[_c('div',{staticClass:\"jobs-items van-hairline--right\"},[_c('div',{staticStyle:{\"height\":\"100%\",\"overflow-y\":\"scroll\"}},_vm._l((_vm.category),function(item,index){return _c('div',{key:index,class:{'jobs-items_item':true,'jobs-items_item--active':_vm.activeIndex === index},on:{\"click\":function($event){return _vm.selectCategory(item,index)}}},[_vm._v(\" \"+_vm._s(item.category)+\" \")])}),0)]),_c('div',{staticClass:\"jobs-items_content\"},_vm._l((_vm.activeCategory),function(item,index){return _c('div',{key:index,staticClass:\"jobs-items_content-item van-ellipsis\",on:{\"click\":function($event){return _vm.confirm(item)}}},[_vm._v(_vm._s(item.name))])}),0)]),_c('div',{staticClass:\"jobs-search_result\"},[_vm._l((_vm.searchResult),function(item,index){return _c('div',{key:index,staticClass:\"jobs-search_result_item van-hairline--bottom\",domProps:{\"innerHTML\":_vm._s(item.html)},on:{\"click\":function($event){return _vm.confirm(item.item)}}})}),(_vm.searchResult.length === 0 && _vm.searchResultShow)?_c('div',{staticClass:\"jobs-search_result_empty\"},[_vm._v(\" 暂无匹配数据 \")]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"jobs\">\n    <div class=\"jobs-header\">\n      <van-icon name=\"arrow-left\" @click=\"cancel\" />\n    </div>\n    <div class=\"jobs-title\">请选择您从事的职业</div>\n    <div class=\"jobs-search van-hairline--bottom\">\n      <van-search v-model=\"seaerchText\" shape=\"round\" placeholder=\"搜索职业名称\" @input=\"onSearch\" />\n    </div>\n    <div class=\"jobs-content\" v-show=\"!searchResultShow\">\n      <div class=\"jobs-items van-hairline--right\">\n        <div style=\"height:100%;overflow-y:scroll;\">\n          <div :class=\"{'jobs-items_item':true,'jobs-items_item--active':activeIndex === index}\" v-for=\"(item,index) in category\" :key=\"index\" @click=\"selectCategory(item,index)\">\n            {{item.category}}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"jobs-items_content\">\n        <div class=\"jobs-items_content-item van-ellipsis\" @click=\"confirm(item)\" v-for=\"(item,index) in activeCategory\" :key=\"index\">{{item.name}}</div>\n      </div>\n    </div>\n    <div class=\"jobs-search_result\">\n      <div class=\"jobs-search_result_item van-hairline--bottom\" v-for=\"(item,index) in searchResult\" :key=\"index\" v-html=\"item.html\" @click=\"confirm(item.item)\">\n      </div>\n      <div v-if=\"searchResult.length === 0 && searchResultShow\" class=\"jobs-search_result_empty\">\n        暂无匹配数据\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Vue from 'vue';\nimport { Search } from 'vant';\nimport { getJobs } from '@/http/service/partners'\nVue.use(Search);\nexport default {\n  name: 'jobs',\n  data () {\n    return {\n      searchResultShow: false,\n      jobs: ['家电服务-服务家电', '家电产业-家电', '家电清洁'],\n      searchResult: [],\n      seaerchText: '',\n      // 职业树\n      category: [],\n      // 选中项\n      activeCategory: [],\n      activeIndex: 0\n    }\n  },\n  mounted () {\n    this.getJobs()\n  },\n  methods: {\n    getJobs () {\n      getJobs().then((res) => {\n        this.category = res.data.data || []\n        if (this.$util.isSyBird()) {\n        // 三翼鸟平台限制职业选择\n        // 三翼鸟入驻平台合伙人时，职业默认只能选择“家装行业从业者/地产/物业/房产中介/装修工人”大类的职业\n          let filterArr = ['家装行业从业者', '地产/物业/房产中介', '装修工人']\n          this.category = this.category.filter(i => {\n            return filterArr.indexOf(i.category) !== -1\n          })\n        }\n        let _arr = []\n        if (this.category && this.category.length) {\n          this.selectCategory(this.category[0], 0)\n          this.category.forEach(item => {\n            _arr = _arr.concat(item.child)\n          })\n          this.jobs = _arr\n        }\n      })\n    },\n    // 选中父类\n    selectCategory (item, index) {\n      this.activeCategory = item.child\n      this.activeIndex = index\n    },\n    onSearch (v) {\n      if (v) {\n        this.searchResultShow = true\n        this.searchResult = []\n        this.jobs.forEach(item => {\n          let str = item.name\n          if (str.indexOf(v) > -1) {\n            let splits = str.split(v)\n            this.searchResult.push({\n              item: item,\n              html: splits.join(`<span style=\"color:#2979FF;\">${v}</span>`)\n            })\n          }\n        })\n      } else {\n        this.searchResultShow = false\n        this.searchResult = []\n      }\n    },\n    // 确认\n    confirm (v) {\n      console.log(v)\n      this.$emit('confirm', v)\n      this.seaerchText = ''\n    },\n    cancel () {\n      this.$emit('cancel')\n    }\n  }\n}\n</script>\n<style scoped lang=\"scss\">\n.jobs {\n  height: 100%;\n  background: #fff;\n  position: relative;\n  &-title {\n    font-size: 0.4rem;\n    font-weight: 500;\n    text-align: left;\n    color: #333333;\n    padding-left: 0.24rem;\n    padding-top: 0.32rem;\n  }\n  &-header {\n    padding: 0.24rem 0 0 0.24rem;\n    font-size: 0.4rem;\n    color: #333;\n  }\n  &-search {\n    //padding: 0.28rem 0;\n  }\n  &-content {\n    position: absolute;\n    top: 2.5rem;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: space-between;\n  }\n  &-items {\n    width: 2.48rem;\n    height: 100%;\n  }\n  &-items_item {\n    font-size: 0.28rem;\n    font-weight: 500;\n    text-align: left;\n    color: #333;\n    padding: 0.2rem 0 0.2rem 0.24rem;\n    position: relative;\n    line-height: 0.56rem;\n    &--active::before {\n      position: absolute;\n      content: '';\n      width: 3px;\n      height: 0.36rem;\n      background: #2979ff;\n      top: 50%;\n      left: 0;\n      transform: translateY(-50%);\n    }\n    &--active {\n      color: #2979ff;\n    }\n  }\n  &-items_content {\n    width: 4.7rem;\n    height: 100%;\n    overflow-y: scroll;\n    &-item {\n      width: 2.08rem;\n      height: 0.6rem;\n      background: #f5f5f5;\n      border-radius: 0.06rem;\n      font-weight: 400;\n      text-align: center;\n      color: #333333;\n      line-height: 0.6rem;\n      margin-top: 0.2rem;\n      display: inline-block;\n      margin-right: 0.2rem;\n      font-size: 0.24rem;\n    }\n  }\n  &-search {\n    &_result_item {\n      font-size: 0.28rem;\n      font-weight: 400;\n      text-align: left;\n      color: #333333;\n      padding: 0.24rem;\n    }\n    &_result_empty {\n      color: #888;\n      font-size: 0.28rem;\n      text-align: center;\n      padding-top: 0.24rem;\n      font-weight: 500;\n    }\n  }\n}\n::-webkit-scrollbar {\n  display: none; /* Chrome Safari */\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jobs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jobs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./jobs.vue?vue&type=template&id=7ccf0e61&scoped=true&\"\nimport script from \"./jobs.vue?vue&type=script&lang=js&\"\nexport * from \"./jobs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./jobs.vue?vue&type=style&index=0&id=7ccf0e61&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ccf0e61\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@sg/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jobs.vue?vue&type=style&index=0&id=7ccf0e61&scoped=true&lang=scss&\""],"sourceRoot":""}