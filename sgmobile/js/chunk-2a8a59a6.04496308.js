(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a8a59a6"],{"0d35":function(t,e,o){"use strict";o("290f")},1669:function(t,e,o){"use strict";var n=function(){return o.e("chunk-2b4715e4").then(o.bind(null,"c63d"))};e["a"]={components:{topFeedBack:n},data:function(){return{showToTopFlag:!1,scrollTarget:""}},mounted:function(){this.debouncedAction=this.$util.throttle(this.option,100)},methods:{handleScroll:function(t){this.debouncedAction()},option:function(){var t=this.$refs.toTop.scrollTop;this.showToTopFlag=t>200},hiddenFeedBack:function(){this.showToTopFlag=!1},fnScrollToTop:function(){this.scrollSmoothTo(0)},scrollSmoothTo:function(t){window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)});var e=document.querySelector(this.scrollTarget),o=e.scrollTop,n=function n(){var i=t-o;o+=i/10,Math.abs(i)<1?e.scrollTo(0,t):(e.scrollTo(0,o),requestAnimationFrame(n))};n()}}}},1771:function(t,e,o){"use strict";var n;e["a"]={swipeResize:function(t,e){var o=e,i=t;(function(){var t;function e(){i&&i.$refs&&i.$refs[o]&&i.$refs[o].resize()}n=function(){t||(t=setTimeout((function(){t=null,e()}),1e3))},window.addEventListener("resize",n,!1)})()},removeSwipeResize:function(){window.removeEventListener("resize",n,!1)}}},"290f":function(t,e,o){},"2a1ba":function(t,e,o){},"368e":function(t,e,o){"use strict";o("74e9")},"4eeb":function(t,e,o){"use strict";o("2a1ba")},"74e9":function(t,e,o){},"7e8a":function(t,e,o){"use strict";o("aacb")},9752:function(t,e,o){},aacb:function(t,e,o){},ad76:function(t,e,o){"use strict";o("9752")},d514:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"n-header",class:t.sticky?"fix":""},[o("span",{directives:[{name:"show",rawName:"v-show",value:t.sticky,expression:"sticky"}]},[t._v(t._s(t.pageTitle))]),t.$route.query.browerFirstIn?t._e():o("div",{staticClass:"pannel l",on:{click:t.handleBack}},[o("span",{staticClass:"back"})]),t.$util.isHaierApp()||t.$util.isSgRn()?o("div",{staticClass:"pannel r",on:{click:t.handleShare}},[o("span",{staticClass:"share",style:{backgroundImage:"url("+(t.sticky?t.$globalIcon.blackShareIcon:t.$globalIcon.whiteShareIcon)+")"}})]):t._e()]),o("div",{ref:"toTop",staticClass:"content-wrapper",on:{scroll:t.handleScroll}},[o("div",{ref:"topBanner",staticClass:"top-banner"},[o("img",{attrs:{src:t.topImageUrl}})]),o("div",{staticClass:"bottom"},[o("div",{staticClass:"center"},[o("div",{staticClass:"nav"},[o("ul",t._l(t.cities,(function(e,n){return o("li",{key:e.regionId,class:n!==t.cities.length-1?"mr":"",on:{click:function(o){return t.toCity(e)}}},[t._v(" "+t._s(e.regionName)+" ")])})),0)]),t.topBanners&&t.topBanners.length>0?[o("lazy-component",[o("van-swipe",{ref:"vanSwiper",staticClass:"swipe"},t._l(t.topBanners,(function(e){return o("van-swipe-item",{key:e.picNo,on:{click:function(o){return t.handleBannerClick(e)}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pic,expression:"item.pic"}]})])})),1)],1)]:t._e()],2),o("div",{staticClass:"corner"},[o("all-product",{attrs:{"compo-data":t.recommendProducts},on:{more:t.clickMore}}),o("Recommend",{attrs:{"compo-data":t.recommendations}}),o("Selling",{attrs:{"compo-data":t.hotProducts}}),o("Quality",{attrs:{"compo-data":t.competitiveProducts}})],1)])]),o("top-feedBack",{attrs:{isShow:t.showToTopFlag},on:{hiddenFeedBack:t.hiddenFeedBack,toTop:t.fnScrollToTop}})],1)},i=[],r=o("1771"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.compoData&&t.compoData.length>0?o("div",{staticClass:"all-product"},[o("h3",[t._v(" "+t._s(t.compoData[0].moudleTitle)+" "),o("span",{on:{click:function(e){return t.$emit("more")}}},[t._v("更多")])]),o("div",{staticClass:"product-list"},[o("lazy-component",t._l(t.list,(function(e,n){return o("div",{key:e.id,staticClass:"item",class:n%2===0?"mr":"",on:{click:function(o){return t.$router.push({path:"/goodsDetail",query:{productId:e.id}})}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],staticClass:"p-pic"})])})),0)],1)]):t._e()},s=[],c=o("7f84"),l={mixins:[c["a"]],props:{compoData:{type:Array}},computed:{list:function(){return this.compoData.length>4?this.compoData.slice(-4):this.compoData}},data:function(){return{}}},u=l,p=(o("7e8a"),o("2877")),d=Object(p["a"])(u,a,s,!1,null,"769c5fa8",null),m=d.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.compoData&&t.compoData.length>0?o("div",{staticClass:"drinks"},[o("h3",[t._v(" "+t._s(t.compoData[0][0].moduleTitle)+" ")]),o("lazy-component",[o("van-swipe",{staticClass:"swiper_wrap"},t._l(t.compoData,(function(e,n){return o("van-swipe-item",{key:n},[o("div",{staticClass:"center"},t._l(e,(function(e){return o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pic,expression:"innerItem.pic"}],key:e.picNo,on:{click:function(o){return t.handleBannerClick(e)}}})})),0)])})),1)],1)],1):t._e()},f=[],v={props:{compoData:{type:Array}},methods:{handleBannerClick:function(t){this.$store.dispatch("bannerClick",{hyperLinkType:t.linkType+"",hyperLink:t.link,relationId:t.relationId})}}},g=v,y=(o("4eeb"),Object(p["a"])(g,h,f,!1,null,"0fe796e3",null)),I=y.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.compoData&&t.compoData.length>0?o("div",{staticClass:"selling"},[o("h3",[t._v(" "+t._s(t.compoData[0].moudleTitle)+" ")]),o("div",{staticClass:"wrapper-box"},[o("lazy-component",t._l(t.compoData,(function(e,n){return o("div",{key:e.id,staticClass:"scroll-item",class:n===t.compoData.length-1?"mr":"",on:{click:function(o){return t.$router.push({path:"/goodsDetail",query:{productId:e.id}})}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}]}),o("p",{staticClass:"desc"},[t._v(t._s(t._f("clipText")(e.name,11)))]),o("p",{staticClass:"price"},[t._v("￥"+t._s(e.price))])])})),0)],1)]):t._e()},T=[],k={mixins:[c["a"]],props:{compoData:{type:Array}},data:function(){return{}}},w=k,_=(o("0d35"),Object(p["a"])(w,b,T,!1,null,"5c504895",null)),C=_.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.compoData&&t.compoData.length>0?o("div",{staticClass:"featured"},[o("h3",[t._v(" "+t._s(t.compoData[0].moudleTitle)+" ")]),o("div",{staticClass:"center"},[o("lazy-component",t._l(t.compoData,(function(e){return o("div",{key:e.id,staticClass:"item",on:{click:function(o){return t.$router.push({path:"/goodsDetail",query:{productId:e.id}})}}},[o("div",{staticClass:"top"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}]})]),o("div",{staticClass:"bott"},[o("p",[t._v(t._s(t._f("clipText")(e.title,15)))]),t._v(" "+t._s(t._f("clipText")(e.describe,50))+" ")])])})),0)],1)]):t._e()},$=[],D=o("08a0"),O={mixins:[D["a"]],props:{compoData:{type:Array}},data:function(){return{}}},P=O,z=(o("368e"),Object(p["a"])(P,S,$,!1,null,"02b127b6",null)),E=z.exports,j=o("5adf"),x=o("2f62"),B=o("efb8"),q=o("1669");function F(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function R(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?F(Object(o),!0).forEach((function(e){A(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function A(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var N={mixins:[B["a"],q["a"]],components:{allProduct:m,Recommend:I,Selling:C,Quality:E},data:function(){return{regionId:"",sticky:!1,topImageUrl:"",pageTitle:"",cities:[],topBanners:[],recommendProducts:[],recommendations:[],hotProducts:[],competitiveProducts:[],shareId:"",scrollContentTop:0,RootEM:0,scrollTarget:".content-wrapper"}},mounted:function(){r["a"].swipeResize(this,"vanSwiper")},computed:{location:function(){return this.$store.getters["getlocationInfo"]},userId:function(){return this.$store.getters["mId"]}},methods:R(R({},Object(x["e"])("smartChoice",["storeScrollEleTop"])),{},{getShareId:function(){var t=this.$route.query;t.shareId&&(this.shareId=t.shareId),t.regionId&&(this.regionId=t.regionId,localStorage.setItem("regionId",this.regionId))},prepareShareId:function(){var t="".concat(location.origin+location.pathname,"?regionId=").concat(this.regionId);return this.userId&&(t="".concat(t,"&shareId=").concat(this.userId)),t},handleScroll:function(t){this.scrollContentTop=this.$refs.toTop.scrollTop,this.sticky=this.$refs.toTop.scrollTop>.92*this.RootEM,this.showToTopFlag=this.scrollContentTop>200},handleBack:function(){this.$store.dispatch("doHistoryBack")},handleShare:function(){this.$util.inAppShare({title:this.pageTitle,url:this.prepareShareId()}).then((function(t){console.log(t)}))},toCity:function(t){this.$router.push({name:"smartChoiceCity",query:{title:t.regionName,id:t.regionId}})},clickMore:function(){this.$router.push({name:"smartChoiceProvinceProducts",query:{regionId:this.regionId}})},handleBannerClick:function(t){this.$store.dispatch("bannerClick",{hyperLinkType:t.linkType+"",hyperLink:t.link,relationId:t.relationId})},getProvinceInfo:function(){var t=this,e={regionId:this.regionId,streetId:this.location.townshipId};Object(j["e"])(e).then((function(e){e.success?Object.keys(e.data).forEach((function(o){["topImageUrl","pageTitle","cities","topBanners","recommendProducts","recommendations","hotProducts","competitiveProducts"].includes(o)&&(t[o]=e.data[o])})):t.$toast(e.message)}))},initData:function(){var t=this;this.getShareId(),setTimeout((function(){t.getProvinceInfo()}))}}),created:function(){this.RootEM=this.getREM()},beforeRouteEnter:function(t,e,o){o((function(o){"specialtyStore"===e.name&&(o.regionId=t.query.regionId,localStorage.setItem("regionId",t.query.regionId)),e.name||(o.regionId=localStorage.getItem("regionId")),o.initData()}))},beforeRouteLeave:function(t,e,o){"specialtyStore"!==t.name?this.$store.commit("storeScrollEleTop",this.scrollContentTop):this.$store.commit("storeScrollEleTop",0),o()},activated:function(){this.$refs.toTop.scrollTop=this.$store.state.smartChoice.scrollEleTop}},U=N,M=(o("ad76"),Object(p["a"])(U,n,i,!1,null,"2c8e5864",null));e["default"]=M.exports},efb8:function(t,e,o){"use strict";e["a"]={methods:{getREM:function(){var t=parseInt(window.getComputedStyle(document.documentElement,null).getPropertyValue("font-size"));return t}}}}}]);
//# sourceMappingURL=chunk-2a8a59a6.04496308.js.map