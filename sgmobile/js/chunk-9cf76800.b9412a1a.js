;(function(){document.getElementsByTagName('body')[0].insertAdjacentHTML('beforeend','<div style="width:0;height:0;position: absolute;left:-100%;top:-100%"><?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs/><symbol id="right_tip" viewBox="0 0 18 18"><g transform="translate(.5 1)" fill="none" fill-rule="evenodd"><path d="M10.21 2.816l4.946 8.146A2 2 0 0 1 13.446 14H3.554a2 2 0 0 1-1.71-3.038L6.79 2.816a2 2 0 0 1 3.42 0z" fill="#C47A2D"/><circle fill="#FFF6DF" cx="8.5" cy="6.212" r="1"/><rect fill="#FFF6DF" x="7.75" y="8" width="1.5" height="4.561" rx=".75"/></g></symbol></svg></div>')})();

(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cf76800"],{"04be":function(t,e,s){},"0622":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"coupon-list"},t._l(t.list,(function(e,i){return s("li",{key:i,staticClass:"content-wrapper",on:{click:function(s){return t.fnSelectVoucher(e)}}},[s("div",{staticClass:"value-wrapper"},[s("coupon-value-label",{attrs:{couponValue:e.couponValue,textColor:"#ffffff",couponType:e.couponType}})],1),s("div",{staticClass:"info-wrapper"},[s("div",{staticClass:"info"},[s("p",{staticClass:"info-text"},["PRODUCT"===e.scope?s("span",{staticClass:"singleItem"},[t._v("单品")]):t._e(),"ORDER"===e.scope?s("span",{staticClass:"singleItem"},[t._v("订单")]):t._e(),t._v(" "+t._s(e.description)+" ")]),s("p",{staticClass:"info-text"},[t._v(t._s(e.couponTemplateName))]),e.startTime?s("p",{staticClass:"info-text"},[t._v(t._s(t._f("formatDateEndOfDay")(e.startTime))+" — "+t._s(t._f("formatDateEndOfDay")(e.endTime)))]):s("p",{staticClass:"info-text"},[t._v(t._s(e.validityPeriod))])])]),s("div",{staticClass:"select-wrapper"},[s("img",{staticClass:"select-icon",attrs:{src:t.selectIconSrc(e),alt:""}})]),s("img",{staticClass:"type-icon",attrs:{src:t.iconSrc(e),alt:""}}),s("img",{staticClass:"new-coupon-bg",attrs:{src:t.$cdnImageUrl+"/shop/order-voucher-bg.png"}}),e.isSuperposed?s("img",{staticClass:"superpose-tag",attrs:{src:t.$cdnImageUrl+"/shop/order-coupon-diejia.png"}}):t._e()])})),0)},o=[],n=s("25e9"),a={default:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/icon-coupon-default.png",selected:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/shop/checked-orange.svg"},r={components:{couponValueLabel:n["a"]},props:["list","superposeIds"],data:function(){return{receiveFlag:!1}},computed:{couponIcon:function(){var t={ORDER:"".concat(this.$cdnImageUrl,"/shop/kaquan.png"),SCENE:"".concat(this.$cdnImageUrl,"/mine/mine-voucher-scene.png"),SHOP:"".concat(this.$cdnImageUrl,"/shop/dianpuquan.png")};return t}},mounted:function(){},methods:{isBigVal:function(t){return t.couponValue>1e3},fnSelectVoucher:function(t){this.$emit("fnSelectVoucher",t)},iconSrc:function(t){var e=t.couponUseType;return t.applyType&&(e="SCENE"),this.couponIcon[e]||e},selectIconSrc:function(t){return a[t.isForUse?"selected":"default"]},timeHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(" ")[0]}}},c=r,l=s("2877"),u=Object(l["a"])(c,i,o,!1,null,null,null);e["a"]=u.exports},"0664":function(t,e,s){},1439:function(t,e,s){"use strict";s("3c9b")},1727:function(t,e,s){},"1b4b":function(t,e,s){},"25e9":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{class:{"coupon-value-label":!0,"home-style":t.forHomePage},style:{color:t.textColor}},["FIXED_CASH_COUPON"===t.couponType||"REBATE_COUPON"===t.couponType?s("span",{staticClass:"symbol"},[t._v("￥")]):t._e(),s("span",{staticClass:"integer",style:{fontSize:t.fontSize}},[t._v(t._s(t._f("formatPriceInt")(t.couponDisplayValue)))]),t.withFloat?s("span",{staticClass:"float"},[t._v(t._s(t._f("formatPriceFloat")(t.couponDisplayValue)))]):t._e(),"DISCOUNT_COUPON"===t.couponType?s("span",{staticClass:"sales"},[t._v("折")]):t._e()])])},o=[],n={name:"couponValueLabel",props:{couponValue:{type:String,default:"0"},couponType:{type:String,default:"FIXED_CASH_COUPON"},forHomePage:{type:Boolean,default:!1},maxFontSize:{type:String,default:"0.64"},textColor:{type:String,default:"#ED2856"}},computed:{fontSize:function(){return this.forHomePage?String(this.couponDisplayValue).length<6?"0.40rem":6===String(this.couponDisplayValue).length?"0.38rem":String(this.couponDisplayValue).length>6?"0.32rem":this.maxFontSize+"rem":String(this.couponDisplayValue).length<6?this.maxFontSize+"rem":6===String(this.couponDisplayValue).length?.875*this.maxFontSize+"rem":String(this.couponDisplayValue).length>6?.68*this.maxFontSize+"rem":this.maxFontSize+"rem"},withFloat:function(){var t=this.couponDisplayValue.split(".");return!!(t&&t.length>1&&"00"!==t[1]&&"0"!==t[1])},couponDisplayValue:function(){return"DISCOUNT_COUPON"===this.couponType?String(Number(this.couponValue)/10):this.couponValue}}},a=n,r=(s("4ff6"),s("2877")),c=Object(r["a"])(a,i,o,!1,null,"5a48cfec",null);e["a"]=c.exports},3717:function(t,e,s){"use strict";s("6b2d")},3818:function(t,e,s){},"3c9b":function(t,e,s){},"3eb2":function(t,e,s){},"480b":function(t,e,s){"use strict";s("68ef"),s("9d70"),s("3743"),s("9ee3")},"4ff6":function(t,e,s){"use strict";s("0664")},5468:function(t,e,s){"use strict";s("3eb2")},"58f4":function(t,e,s){},6205:function(t,e,s){},6367:function(t,e,s){},"65d4":function(t,e,s){"use strict";s("f43d")},"65d7":function(t,e,s){"use strict";s("58f4")},"6b2d":function(t,e,s){},"6d84":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"check-box-container",style:{width:t.width,height:t.height},on:{click:function(e){return t.toggleCheck()}}},[s("div",{staticClass:"checkbox-icon"},[t.checked&&!t.disabled?s("img",{key:"select",attrs:{alt:"",src:t.$cdnImageUrl+"/common/checked.svg",width:t.width,height:t.height}}):t._e(),t.checked||t.disabled?t._e():s("img",{key:"unselected",attrs:{alt:"",src:t.$cdnImageUrl+"/cart/icon-unselected.png",width:t.width,height:t.height}}),t.disabled&&!t.defaultSelect?s("img",{key:"unselected",staticClass:"disabled",attrs:{alt:"",src:t.$cdnImageUrl+"/cart/icon-unselected.png",width:t.width,height:t.height}}):t._e(),t.disabled&&t.defaultSelect?s("img",{key:"defaultSelected",staticClass:"disabled",attrs:{alt:"",src:t.$cdnImageUrl+"/common/checked.svg",width:t.width,height:t.height}}):t._e()]),t._t("default")],2)},o=[],n={name:"CommonCkeckBox",model:{prop:"checked",event:"changeCheck"},props:{checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},defaultSelect:{type:Boolean,default:!1},width:{type:String,default:"16px"},height:{type:String,default:"16px"}},created:function(){console.log("disabled",this.disabled)},data:function(){return{}},methods:{toggleCheck:function(){this.disabled||(this.$emit("changeCheck",!this.checked),this.$emit("toggleCheck"))}},watch:{checked:{handler:function(t,e){this.$emit("onChange")},deep:!0}}},a=n,r=(s("1439"),s("2877")),c=Object(r["a"])(a,i,o,!1,null,"52924c86",null);e["a"]=c.exports},"76f1":function(t,e,s){"use strict";s("3818")},"76f6":function(t,e,s){"use strict";s("f213")},"90a0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA2CAYAAACBWxqaAAABqElEQVRoQ+2YPUoEQRBGXyEigofxAApeQSMxNDJTMPAOaqSBV1AwlDUw8gim3sITlKzsyoCzs93zVY8z0JtuV897X/XPMMbEfzZxfqrAf3ewdqB2QEygLiExQLm8dkCOUJygdkAMUC6vHZAjFCeoHRADzCp39w3gGPgys5d58WQ64O6bwBNwuLA+MLP3SQi0wM8dpiGwAv7azK5Gv4TWwY9aIAV+tAKp8KMUyIEfnUAu/B8Bd98GToFPM3vLumXEwX3g2wRugUvAgXMzuxe5ksr7wncJzP8bREKBbxPYAV6BvUV0RSVU+NZN7O6DSETArzyFSktEwXceo6UkFvCPwFFjh/++2yTt+sagzrfRaIlo+KSLLEqiBHySwM95Km7sUvDJAh0SF2Z217VuS8JnCfSRKA2fLZAjMQR8L4EUiaHgewt0SQAPQNg5v+5ekL5KrDidPoDdiEtqHbzUgeXkLRLN5/a+YVPgQwQay2kG7A+V/PI50hJqpuTuW8AZcAI8m9lNaorKuDABBUKprQJKehG1tQMRKSpz1A4o6UXU1g5EpKjMMfkOfAM4qOQ3E4g6NwAAAABJRU5ErkJggg=="},9914:function(t,e,s){},"9ee3":function(t,e,s){},a37c:function(t,e,s){"use strict";var i=s("d282"),o=s("a142"),n=s("4598"),a=s("5fbe"),r=s("ad06"),c=Object(i["a"])("notice-bar"),l=c[0],u=c[1];e["a"]=l({mixins:[Object(a["a"])((function(t){t(window,"pageshow",this.start)}))],inject:{vanPopup:{default:null}},props:{text:String,mode:String,color:String,leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null},delay:{type:[Number,String],default:1},speed:{type:[Number,String],default:60}},data:function(){return{show:!0,offset:0,duration:0,wrapWidth:0,contentWidth:0}},watch:{scrollable:"start",text:{handler:"start",immediate:!0}},created:function(){var t=this;this.vanPopup&&this.vanPopup.onReopen((function(){t.start()}))},activated:function(){this.start()},methods:{onClickIcon:function(t){"closeable"===this.mode&&(this.show=!1,this.$emit("close",t))},onTransitionEnd:function(){var t=this;this.offset=this.wrapWidth,this.duration=0,Object(n["c"])((function(){Object(n["b"])((function(){t.offset=-t.contentWidth,t.duration=(t.contentWidth+t.wrapWidth)/t.speed,t.$emit("replay")}))}))},reset:function(){this.offset=0,this.duration=0,this.wrapWidth=0,this.contentWidth=0},start:function(){var t=this,e=Object(o["c"])(this.delay)?1e3*this.delay:0;this.reset(),clearTimeout(this.startTimer),this.startTimer=setTimeout((function(){var e=t.$refs,s=e.wrap,i=e.content;if(s&&i&&!1!==t.scrollable){var o=s.getBoundingClientRect().width,a=i.getBoundingClientRect().width;(t.scrollable||a>o)&&Object(n["b"])((function(){t.offset=-a,t.duration=a/t.speed,t.wrapWidth=o,t.contentWidth=a}))}}),e)}},render:function(){var t=this,e=arguments[0],s=this.slots,i=this.mode,o=this.leftIcon,n=this.onClickIcon,a={color:this.color,background:this.background},c={transform:this.offset?"translateX("+this.offset+"px)":"",transitionDuration:this.duration+"s"};function l(){var t=s("left-icon");return t||(o?e(r["a"],{class:u("left-icon"),attrs:{name:o}}):void 0)}function d(){var t,o=s("right-icon");return o||("closeable"===i?t="cross":"link"===i&&(t="arrow"),t?e(r["a"],{class:u("right-icon"),attrs:{name:t},on:{click:n}}):void 0)}return e("div",{attrs:{role:"alert"},directives:[{name:"show",value:this.show}],class:u({wrapable:this.wrapable}),style:a,on:{click:function(e){t.$emit("click",e)}}},[l(),e("div",{ref:"wrap",class:u("wrap"),attrs:{role:"marquee"}},[e("div",{ref:"content",class:[u("content"),{"van-ellipsis":!1===this.scrollable&&!this.wrapable}],style:c,on:{transitionend:this.onTransitionEnd}},[this.slots()||this.text])]),d()])}})},ab2f:function(t,e,s){"use strict";s("6367")},af7d:function(t,e,s){},b402:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACDklEQVRoQ+2YPUoEMRSAv1erWHkWQURv4A1s/MFKRCzFRrbX3r9CsBfRC4gg3sET2AgeIBLJwLBMJsnkvV0XdtpJJt+Xl2TeizDjj8w4P3OBaUdwHoF/GwHn3Ag4Am6AYxFxk4J1zi0AD8AmcCgi97Gxo0vIOfcDLIaOXmJ/EhIB/jnA++HfRGR9iMBliEDT11yiA95H3U+cH7vz6YuAf3cF7LZ6mklE4E9E5KJv6faeQs65iUgMhfdiyWPUWqIGPkvAN7KSqIXPFrCQ0IAvEtCU0IIvFtCQ0IQfJFAjoQ0/WGCIhAV8lUCJhBV8tUCOhCW8ikBC4hh4aiVmPrdJpgclWW/yT5z7scjP7gtYCd9Qh1eLQCMZkfgLkvbMN2OqRaAlsQR8tmbev3oH1izqCVWBsGFfgI2OpXcL7GlLqAl0wPtl8wGstmTUJVQEIvAngK/qroEdK4lqgRh8U0mFjW0mUSWQgh87nUwkBgvkwickqmvsQQKl8JYSxQJD4a0kigS0EjPNGjtbQAs+kXYU74ksAW14TYmkgBW8lkTqZs7fErcvWk2yypo90Xc3OhH42kj0CTwCW5bFyHjGGonESETOYoVVn8A3sGxZjHRBdUi8ikhXev7XvU9gGzgA7vru53NLzpJ2QeI81NKnIvJaHIGSAafZNnmMThMuZ+y5QM4sWbaZR8BydnO+PfMR+AU+l3xAJ1Tm/QAAAABJRU5ErkJggg=="},b6df:function(t,e,s){},be42:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.pageInfo.sos?s("div",{staticClass:"content",on:{scroll:t.handleScroll}},[s("div",{staticClass:"content-warp"},[s("Header",{attrs:{leftClick:t.headerBack}},[t.isSyBird?t._e():s("span",{attrs:{slot:"right"},on:{click:function(e){return t.toService()}},slot:"right"},[s("div",{staticClass:"service-container"},[s("span",{staticClass:"kefu-icon"}),s("span",{staticClass:"kefu-text"},[t._v("客服")])])])]),t.rightLoadFail?s("notice-bar",{attrs:{"left-icon":"warn-o"}},[s("div",{staticClass:"svg-icon",attrs:{slot:"left-icon"},slot:"left-icon"},[s("svg-icon",{attrs:{className:"svg-icon","svg-path":"assets/svgs/right_tip.svg",xlink:"right_tip"}})],1),t.rightLoding?[t._v(" 权益加载中...... ")]:[s("span",[t._v("权益加载失败，是否重新加载")]),s("div",{staticClass:"btn-reload",attrs:{slot:"right-icon"},on:{click:function(e){return t.checkOrderRight(!0)}},slot:"right-icon"},[t._v("重新加载")])]],2):t._e(),s("div",{ref:"addrContainer",staticClass:"address",class:{addressHeight:!t.pageInfo.coN},on:{click:t.fnChangeAddress}},[s("div",{staticClass:"address-box"},[t.pageInfo.coN?s("div",{staticClass:"address-top"},["1"==t.pageInfo.ad?s("div",{staticClass:"addDefault"},[t._v(t._s("1"==t.pageInfo.ad?"默认":""))]):t._e(),t.pageInfo.label?s("div",{staticClass:"addCompany"},[t._v(t._s(t.pageInfo.label))]):t._e(),s("div",{staticClass:"addtext"},[t._v(t._s(t.pageInfo.rn))])]):t._e(),s("div",{staticClass:"address-bottom"},[s("div",{staticClass:"address-center van-multi-ellipsis--l2"},[t.pageInfo.coN?s("div",{staticClass:"has-address"},[s("div",[t._v(t._s(t.pageInfo.addr))])]):s("div",{staticClass:"no-address"},[t._v("点击添加收货地址")])])]),t.pageInfo.coN?s("div",{staticClass:"address-name"},[s("div",[t._v(t._s(t.pageInfo.coN))]),s("div",[t._v(t._s(t.pageInfo.mb))])]):t._e()]),s("div",{staticClass:"right"},[s("img",{staticClass:"more",attrs:{src:t.$cdnImageUrl+"/orders/shop-right-arrow.png"}})]),s("img",{staticClass:"underline",attrs:{alt:"",src:t.$cdnImageUrl+"/orders/icon-line-red.png"}})]),s("ul",{staticClass:"goods-info-wrap"},t._l(t.pageInfo.sos,(function(e,i){return s("li",{key:i,staticClass:"goods"},[e.sn?s("div",{staticClass:"shop-name",on:{click:function(s){return t.fnGoToStore(e.si)}}},[s("span",{staticClass:"shop-name-left"}),t._v(t._s(e.sn)),s("span",{staticClass:"shop-name-right"})]):t._e(),t._l(e.ops,(function(i,o){return s("div",{key:o,staticClass:"goods-box"},[s("div",{staticClass:"goods-box-inner"},[s("div",{staticClass:"goods-top",class:{pb:i.price*i.num==i.opa}},[s("div",{staticClass:"__new_wrapper"},[s("div",{staticClass:"goods-left"},[s("img",{staticStyle:{"border-radius":"0.08rem"},attrs:{src:t._f("imageToHttps")(i.image)}})]),s("div",{staticClass:"goods-right"},[s("div",{staticClass:"title-container"},[s("div",{staticClass:"goods-name"},[t._v(t._s(i.proN))]),s("div",{staticClass:"goods-sub-name"},[s("span",{staticClass:"sub-name"},[t._v(t._s(i.an))]),t._v(" "),s("span",{staticClass:"goods-count"},[t._v("×"+t._s(i.num))])])]),t.displayCommission&&(i.comPrice||i.bounty)?s("div",{staticClass:"commission-wrap",on:{click:function(e){t.showCommissionInfo=!0}}},[s("commission-label",{attrs:{commission:i.comPrice,bounty:i.bounty}})],1):t._e(),s("div",{staticClass:"goods-message"},[s("div",{staticClass:"price-style"},[t.pageInfo.scene&&1==t.pageInfo.scene.buySceneType?t._e():[s("span",{staticClass:"float-number"},[t._v("¥")]),s("span",[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(i.price))))]),s("span",{staticClass:"float-number"},[t._v(t._s(t._f("formatPriceFloat")(t._f("formatPrice")(i.price))))])],i.pt&&150===i.pt?s("img",{attrs:{src:"//cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/plus.png"}}):t._e(),i.pma?s("span",{staticClass:"order-reduce"},[t._v("下单立减 "+t._s(i.pma)+" 元")]):s("span",{staticClass:"order-reduce quality"},[t._v("品质保障 售后无忧")])],2)])])]),i.deliveryShop?s("div",{staticClass:"distribution-shop"},[s("div",{staticClass:"left"},[t._v("配送门店")]),s("div",{staticClass:"right",on:{click:function(s){return t.openShopList(e.si,i.proId,i.deliveryShop.code,i.lockShopFlag)}}},[s("span",{staticClass:"distribution-name"},[t._v(t._s(i.deliveryShop.name))]),t._m(1,!0)])]):t._e(),t.pageInfo.sht&&(i.dd||i.sd)?s("div",{staticClass:"strip",on:{click:function(e){"B2B2C"===i.shMo&&i.sd?t.fnOpenDelivery(i):t.noop}}},[s("div",{staticClass:"left"},[t._v("配送信息")]),"B2B2C"===i.shMo&&i.sd?s("div",{staticClass:"right"},["B2B2C"!==i.shMo||"WA"!==i.sty&&"OCO"!==i.sty&&"ZJ"!==i.sty?s("div",[1===i.cd?s("div",{staticClass:"delivery"},[t._v("您选择于: "+t._s(t._f("dateFormater")(i.dd?i.dd:i.sd))),s("span",{staticClass:"week"},[t._v("["+t._s(t._f("weekFormater")(i.dd?i.dd:i.sd))+"]")]),t._v("送达")]):s("div",{staticClass:"delivery"},[t._v("标准: 预计于"+t._s(t._f("dateFormater")(i.dd?i.dd:i.sd))),s("span",{staticClass:"week"},[t._v("["+t._s(t._f("weekFormater")(i.dd?i.dd:i.sd))+"]")]),t._v("送达")])]):s("div",[t._m(2,!0),1===i.cd?s("div",{staticClass:"delivery"},[t._v("您选择于: "+t._s(t._f("dateFormater")(i.dd?i.dd:i.sd))),s("span",{staticClass:"week"},[t._v("["+t._s(t._f("weekFormater")(i.dd?i.dd:i.sd))+"]")]),t._v("送达")]):s("div",{staticClass:"delivery"},[t._v("标准: 预计于"+t._s(t._f("dateFormater")(i.dd?i.dd:i.sd))),s("span",{staticClass:"week"},[t._v("["+t._s(t._f("weekFormater")(i.dd?i.dd:i.sd))+"]")]),t._v("送达")])]),"B2B2C"===i.shMo&&i.sd?s("div",{staticClass:"img"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-right-arrow.png",alt:""}})]):t._e()]):s("div",{staticClass:"right"},[s("div",[s("div",{staticClass:"delivery"},[t._v("预计"+t._s(i.sd)),s("span",{staticClass:"week"},[t._v("["+t._s(t._f("weekFormater")(i.sd))+"]")]),t._v("送达")])])])]):t._e(),i.showStoreCoupons&&1!=t.pageInfo.ot?s("div",{staticClass:"goods-bottom",on:{click:function(e){return t.fnOpenAvailableVoucher(i)}}},[s("div",{staticClass:"transport"},[t._v("店铺优惠券")]),s("div",{staticClass:"transport shop-voucher"},[i.ca?s("div",{staticClass:"couponAmt",staticStyle:{"font-size":"0.26rem",color:"#FF2E2E"}},[t._v("-¥"+t._s(i.ca))]):i.leftCouponAvaili?s("div",{staticStyle:{"font-size":"0.26rem",color:"#FF2E2E"}},[t._v("领券购买")]):s("div",{staticStyle:{"font-size":"0.24rem",color:"#999"}},[t._v("暂无可用")]),t._m(3,!0)])]):t._e()]),i.hasS?t._e():s("div",{staticClass:"no-goods"},[s("img",{staticClass:"jinggao",attrs:{alt:"",src:t.$cdnImageUrl+"/order/warning.png"}}),s("span",{staticClass:"title"},[t._v("该商品在当前收货地区无货")])])])])})),e.ops&&e.ops&&e.ops[0].oto?s("div",{staticClass:"remark-row"},[s("div",{staticStyle:{width:".76rem",margin:".36rem .16rem 0 0"}},[t._v("留言")]),s("div",{staticClass:"remarkBox"},[s("van-field",{staticClass:"remark",attrs:{rows:"1",autosize:"",type:"textarea",placeholder:"选填，请先与卖家协商一致，不可超过120个字",maxlength:120,"input-align":"right"},on:{blur:function(s){return t.fieldBlur(s,i,e.remarkText)},input:t.remarkInput},model:{value:e.remarkText,callback:function(s){t.$set(e,"remarkText",s)},expression:"item.remarkText"}})],1)]):t._e()],2)})),0),t.getOrderRightInfos.length&&"0"!==t.newCantNotGetRights?s("div",{staticClass:"purshase-right-area"},[s("div",{staticClass:"main",on:{click:t.chooseRight}},[t._m(4),t._m(5)]),t.selectedRights.length&&!t.getGiveupStatus?s("div",{staticClass:"right-details"},t._l(t.getSelectedRights,(function(e,i){return s("div",{key:i,staticClass:"rights-container"},[s("p",{staticClass:"item-info rights-name"},[t._v(t._s(e.giftDesc))]),s("p",{staticClass:"item-info rights-detail"},[t._v("数量："+t._s(e.giftNum))])])})),0):t._e()]):t._e(),s("div",{staticClass:"coupon-option pay-details"},[t.pageInfo.showPlatformCoupons&&21!=t.pageInfo.ot&&1!=t.pageInfo.ot?s("div",{staticClass:"strip",on:{click:t.fnOpenAvailableVoucher}},[s("div",{staticClass:"left"},[t._v(" 优惠券 ")]),s("div",{staticClass:"right"},[t.pageInfo.coAmt?s("div",{staticClass:"couponAmt",staticStyle:{color:"#FF2E2E"}},[t._v("-¥"+t._s(t.pageInfo.coAmt))]):t.pageInfo.leftCouponAvaili?s("div",{staticStyle:{"font-size":"0.24rem",color:"#FF2E2E"}},[t._v("领券购买")]):s("div",{staticStyle:{"font-size":"0.24rem",color:"#999"}},[t._v("暂无可用")]),t._m(6)])]):t._e(),t.isShowUserEcard?s("div",{staticClass:"strip",on:{click:t.fnShowEcardPop}},[s("div",{staticClass:"left"},[t._v(" 礼品卡(智家e卡) "),t.ecardSelectNum?s("span",{staticClass:"card-select-tag"},[t._v("已选"+t._s(t.ecardSelectNum)+"张")]):t._e()]),s("div",{staticClass:"right"},[t.ecardListYHPrice?s("div",{staticClass:"couponAmt",staticStyle:{color:"#FF2E2E"}},[t._v("-￥"+t._s(t.ecardListYHPrice))]):t.pageInfo.usableEcardCount?s("div",{staticStyle:{"font-size":"0.24rem",color:"#999"}},[t._v(t._s(t.pageInfo.usableEcardCount)+"张可用")]):s("div",{staticStyle:{"font-size":"0.24rem",color:"#999"}},[t._v("暂无可用")]),t._m(7)])]):t._e(),t._l(t.calculationList,(function(e,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:1!=t.pageInfo.ot,expression:"pageInfo.ot != 1"}],key:i,staticClass:"pay-type"},[t._e(),t._e(),"diamond"==e.detail.benefitType?s("div",{staticClass:"strip"},[s("div",{staticClass:"left"},[e.detail.icon?s("img",{attrs:{src:e.detail.icon,alt:""}}):t._e(),s("div",{staticClass:"left-left"},[t._v("钻石")]),s("div",{staticClass:"left-right"},[s("div",[t._v("共"+t._s(e.detail.count||0)+"钻石 可用"+t._s(Math.floor(e.canUseMoney))+"钻石 抵"),s("span",{staticStyle:{color:"#FF2E2E"}},[t._v(t._s(Math.floor(e.purposeMoney))+"元")])])])]),s("van-switch",{attrs:{"active-color":"#2878ff",size:"15px",disabled:!(e.canUseMoney&&e.canUseMoney>0)},on:{change:function(s){return t.fnSwitchChange(e)}},model:{value:e.canUse,callback:function(s){t.$set(e,"canUse",s)},expression:"item.canUse"}})],1):t._e()])}))],2),s("div",{staticClass:"shop-price"},[s("div",{staticClass:"strip"},[s("div",{staticClass:"left"},[t._v("商品金额")]),s("div",{staticClass:"right"},[t._v("¥"+t._s(t._f("formatPrice")(t.pageInfo.pam||0)))])]),s("div",{staticClass:"strip freight"},[s("div",{staticClass:"left"},[t._v("运费 "),0!==t.validateFreight.length?s("span",{staticClass:"tips-icon",on:{click:function(e){t.freightPopupShow=!0}}}):t._e()]),s("div",{staticClass:"right"},[t._v("¥"+t._s(t._f("formatPrice")(t.pageInfo.sam||0)))])]),t.pageInfo.showPlatformCoupons&&t.pageInfo.tca?s("div",{staticClass:"strip"},[s("div",{staticClass:"left"},[t._v("优惠金额")]),s("div",{staticClass:"right"},[t._v("-¥"+t._s(t._f("formatPrice")(t.pageInfo.tca)))])]):t._e(),t.pageInfo.ipm?s("div",{staticClass:"strip"},[s("div",{staticClass:"left"},[t._v("满减")]),s("div",{staticClass:"right"},[t._v("-¥"+t._s(t._f("formatPrice")(t.pageInfo.ipm)))])]):t._e(),t.isUseSGBPay?s("div",{staticClass:"strip"},[s("div",{staticClass:"left"},[t._v("智家宝")]),s("div",{staticClass:"right"},[t._v("-¥"+t._s(t._f("formatPrice")(t.sgbPurposeMoney)))])]):t._e(),t.isUseSeaShellPay?s("div",{staticClass:"strip"},[s("div",{staticClass:"left"},[t._v("积分")]),s("div",{staticClass:"right"},[t._v("-¥"+t._s(t._f("formatPrice")(t.seashellPurposeMoney)))])]):t._e(),t.isUseDiamondPay?s("div",{staticClass:"strip"},[s("div",{staticClass:"left"},[t._v("钻石")]),s("div",{staticClass:"right"},[t._v("-¥"+t._s(t._f("formatPrice")(t.diamondPurposeMoney)))])]):t._e(),t.reduceAfOrder?s("div",{staticClass:"strip"},[s("div",{staticClass:"left"},[t._v("下单立减")]),s("div",{staticClass:"right"},[t._v("-¥"+t._s(t._f("formatPrice")(t.reduceAfOrder)))])]):t._e(),1==t.pageInfo.ot?s("div",{staticClass:"comfirm-box"},[s("div",{staticClass:"left"},[t._v("我已同意订金作为预定凭证，支付尾款前不予退还")]),s("div",{staticClass:"right"},[s("van-switch",{attrs:{"active-color":"#2878ff",size:"15px"},model:{value:t.isEarnest,callback:function(e){t.isEarnest=e},expression:"isEarnest"}})],1)]):t._e()]),s("div",{staticClass:"pay-details"},[s("div",{staticClass:"strip fp",on:{click:t.fnOpenInvoice}},[s("div",{staticClass:"left"},[t._v("发票信息")]),s("div",{staticClass:"right"},[s("div",{staticClass:"invoice"},[t._v(" "+t._s(t.invoiceText)+" ")]),t._m(8)])]),s("div",{staticClass:"strip no-border",on:{click:t.fnOpenPaymentMode}},[s("div",{staticClass:"left"},[t._v("支付方式")]),s("div",{staticClass:"right"},[s("div",{staticClass:"invoice"},[t._v(" "+t._s(t.confirmedOption||"支付方式")+" ")]),t._m(9)])]),s("div",{staticClass:"payment-wraper"},[s("van-popup",{staticClass:"payment-popup",attrs:{position:"bottom"},model:{value:t.showPaymentOption,callback:function(e){t.showPaymentOption=e},expression:"showPaymentOption"}},[s("div",{staticClass:"choose-payment-mode"},[s("h4",[t._v("选择支付方式 "),s("img",{staticClass:"close-btn",attrs:{src:t.$cdnImageUrl+"/common/control-close.png",alt:""},on:{click:function(e){t.showPaymentOption=!t.showPaymentOption}}})]),s("div",{staticClass:"contents"},t._l(t.paymentOptions,(function(e,i){return s("span",{key:i,class:t.currentOption===e.name?"actived":"",on:{click:function(s){return t.choosePay(e)}}},[t._v(" "+t._s(e.name)+" ")])})),0),s("p",{staticClass:"confirm-btn",on:{click:t.confirmPaymentMode}},[t._v(" 确定 ")])])])],1)]),t.bottomAddrShow&&t.pageInfo&&t.pageInfo.rn&&t.pageInfo.addr?s("div",{staticClass:"addr-tips"},[t._v(t._s(t.pageInfo.rn)+" "+t._s(t.pageInfo.addr))]):t._e(),s("div",{staticClass:"pay-money"},[s("div",{staticClass:"left"},[t._v(" 实付款： "),s("div",{staticClass:"final-pay price-style"},[s("span",{staticClass:"float-number"},[t._v("¥")]),s("span",[t._v(t._s(t._f("formatPriceInt")(t._f("formatPrice")(t.actPayMoney||0))))]),s("span",{staticClass:"float-number"},[t._v(t._s(t._f("formatPriceFloat")(t._f("formatPrice")(t.actPayMoney||0))))])])]),s("div",{staticClass:"right",on:{click:t.fnSubmit}},[t._v("立即支付")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.popupShow,expression:"popupShow"}],staticClass:"dialog-container"},[s("div",{staticClass:"bg"}),s("CaptchaDialog",{staticClass:"dialog",attrs:{show:t.popupShow,preGetTime:t.preGetTime,desc:"当使用虚拟资产时，需获取当前登录手机号的验证码核实用户身份"},on:{submit:t.onSubmitCaptcha,close:t.onCloseCaptchaDialog,resend:t.sendSmsCaptch}})],1),s("van-popup",{style:{height:"10.08rem"},attrs:{position:"bottom"},model:{value:t.showSignToast,callback:function(e){t.showSignToast=e},expression:"showSignToast"}},[s("iframe",{staticStyle:{width:"100%",height:"8rem"},attrs:{src:t.signUrl}}),s("div",{staticClass:"protocol-btn"},[s("div",{staticClass:"cancel-btn",on:{click:t.protocolCancel}},[t._v("取消")]),s("div",{staticClass:"agreen-btn",on:{click:t.signContract}},[t._v("阅读并同意")])])]),s("van-popup",{attrs:{position:"bottom"},on:{close:t.closeEcardPop},model:{value:t.eCardPicker,callback:function(e){t.eCardPicker=e},expression:"eCardPicker"}},[s("ecard-pop",{attrs:{isChangeAddress:t.isChangeAddress},on:{close:t.closeEcardPop,add:t.addEcard,reset:t.resetEcard,selectchange:t.ecardSelectChange}})],1),s("van-popup",{attrs:{position:"bottom"},on:{close:t.bgClosePicker},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[s("picker",{ref:"pickers",attrs:{pickerData:t.deliveryList,isWaOcO:t.isWaOcO,currentDate:t.delivery?t.delivery:t.pageInfo.dd},on:{closePicker:t.closePicker,confirm:t.fnSelectDelivery}})],1),s("van-popup",{attrs:{position:"bottom"},on:{close:function(e){t.showShopList=!1}},model:{value:t.showShopList,callback:function(e){t.showShopList=e},expression:"showShopList"}},[s("shop-list",{ref:"shopList",attrs:{currentShopCode:t.selectShopObj.code,canCheck:!0,addressList:t.shopListAddr},on:{changeCheck:t.changeShop,closeModel:function(e){t.showShopList=!1}}})],1),s("van-popup",{attrs:{position:"bottom"},model:{value:t.couponListShow,callback:function(e){t.couponListShow=e},expression:"couponListShow"}},[s("order-coupon",{attrs:{display:t.couponListShow,streetId:t.pageInfo.sid||"",couponListData:t.couponListData,defaultSelect:t.couponTabSelect,reqOrderInfo:t.reqOrderInfo,storeProdList:t.pageInfo.sos},on:{"update:display":function(e){t.couponListShow=e},chooseCoupon:t.chooseCoupon}})],1),s("van-dialog",{attrs:{title:"权益占用提醒",showConfirmButton:!1,showCancelButton:!1},model:{value:t.showRightPicker,callback:function(e){t.showRightPicker=e},expression:"showRightPicker"}},[s("right-dialog",{attrs:{noRepertoryRight:t.noRepertoryRight},on:{giveUp:t.giveUp,goBack:t.goBack}})],1),s("van-popup",{attrs:{position:"bottom"},on:{open:t.openRightPopup,"click-overlay":t.handleOverlay},model:{value:t.showChoosePicker,callback:function(e){t.showChoosePicker=e},expression:"showChoosePicker"}},[s("choose-right-popup",{on:{rightFinished:t.rightFinished}})],1),s("van-popup",{staticClass:"freight-popup",on:{close:function(e){t.freightPopupShow=!1},click:function(e){t.freightPopupShow=!1}},model:{value:t.freightPopupShow,callback:function(e){t.freightPopupShow=e},expression:"freightPopupShow"}},[t.freightPopupShow?s("freight-popup",{attrs:{parentData:t.validateFreight},on:{freightClose:function(e){t.freightPopupShow=!1}}}):t._e()],1),s("van-popup",{staticClass:"leave-popup",on:{close:function(e){t.leaveOrderTip=!1}},model:{value:t.leaveOrderTip,callback:function(e){t.leaveOrderTip=e},expression:"leaveOrderTip"}},[s("leave-tip",{attrs:{title:"真的要放弃吗？",desc:"如您在下单过程中遇到任何疑问，都可联系我们的在线客服进行实时解答哦",sceneId:"cj101"},on:{continuePay:function(e){t.leaveOrderTip=!1},giveUp:t.goBackUpOne,close:function(e){t.leaveOrderTip=!1}}})],1),s("van-popup",{attrs:{position:"bottom","get-container":"#good-component-container"},on:{click:function(e){t.showCommissionInfo=!1}},model:{value:t.showCommissionInfo,callback:function(e){t.showCommissionInfo=e},expression:"showCommissionInfo"}},[s("div",{staticClass:"description"},[s("div",{staticClass:"des-content",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"title"},[s("div",{staticClass:"left"},[t._v("说明")]),s("div",{staticClass:"right",on:{click:function(e){t.showCommissionInfo=!1}}},[s("img",{attrs:{src:t.$cdnImageUrl+"/common/control-close.png",alt:""}})])]),s("div",{staticClass:"commission-info"},[s("p",{staticClass:"com"},[s("span",{staticClass:"bold"},[t._v("佣金：")]),t._v("当前展示的佣金金额为单价*佣金比例，实际结算金额按照实际支付金额*佣金比例计算。")]),s("p",{staticClass:"bounty"},[s("span",{staticClass:"bold"},[t._v("奖励：")]),t._v("按平台标准进行奖励，不同型号奖励金额不同，金额有限发完即止，当前展示金额为单台奖励金额。")])]),s("div",{staticClass:"des-devider"})]),s("div",{staticClass:"des-btn-box"},[s("div",{staticClass:"des-btn",on:{click:function(e){t.showCommissionInfo=!1}}},[s("span",[t._v("我知道了")])])])])]),s("van-popup",{on:{click:function(e){t.showLimitPurchaseProduct=!1}},model:{value:t.showLimitPurchaseProduct,callback:function(e){t.showLimitPurchaseProduct=e},expression:"showLimitPurchaseProduct"}},[s("div",{staticClass:"purchase-product-container",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"close-icon",on:{click:function(e){t.showLimitPurchaseProduct=!1}}}),s("div",{staticClass:"purchase-product-title"},[t._v("提示")]),s("div",{staticClass:"purchase-product-message"},[t._v("以下商品促销期间限购哦，您已超出限购数量，请返回修改数量后再下单~")]),s("div",{staticClass:"purchase-product-content"},t._l(t.limitPurchaseProduct,(function(e){return s("div",{key:e.productId,staticClass:"purchase-product-item"},[s("img",{staticClass:"product-pic",attrs:{src:t._f("imageToWebp")(t._f("imageToHttps")(e.image),t.$webpSurpport)}}),s("div",{staticClass:"product-info"},[s("div",{staticClass:"info-name"},[t._v(t._s(e.productName))]),s("div",{staticClass:"info-num"},[t._v("限购"+t._s(e.purchaseNum)+"件")])])])})),0),s("div",{staticClass:"purchase-product-btn",on:{click:function(e){t.showLimitPurchaseProduct=!1}}},[t._v("返回")])])]),s("van-overlay",{staticClass:"defaultOverlay",attrs:{show:t.isOrderFailure}},[s("div",{staticClass:"network-mask"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/order/orderFailure.png",alt:""}}),t.orderFailueMsg?s("div",[s("h2",[t._v("生成订单出现问题")]),s("p",[t._v(t._s(t.orderFailueMsg))])]):s("div",[s("h2",[t._v("生成订单出现问题")]),s("p",[t._v("请稍后再试吧~")])]),s("div",{staticClass:"close-network",on:{click:t.goBackUpOne}},[s("a",{attrs:{href:"javascript:;"}},[t._v("返回上一页")])])])])],1)]):s("div",[t.IdentifyText?s("div",[s("Header",{attrs:{leftClick:t.headerBack}},[t.isSyBird?t._e():s("span",{attrs:{slot:"right"},on:{click:function(e){return t.toService()}},slot:"right"})]),s("identity-tip",{attrs:{info:t.IdentifyText}})],1):s("div",{staticClass:"content"},[s("Header",{attrs:{leftClick:t.headerBack}},[t.isSyBird?t._e():s("span",{attrs:{slot:"right"},on:{click:function(e){return t.toService()}},slot:"right"},[s("div",{staticClass:"service-container"},[s("span",{staticClass:"kefu-icon"}),s("span",{staticClass:"kefu-text"},[t._v("客服")])])])]),s("skeleton",{attrs:{goodsCount:1,listNum:2,listItemNum:5}}),t._m(0)],1)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pay-money"},[s("div",{staticClass:"left"},[t._v(" 实付款： "),s("div",{staticClass:"final-pay price-style"},[s("span",{staticClass:"float-number"},[t._v("¥")]),s("span",[t._v("0")]),s("span",{staticClass:"float-number"},[t._v(".00")])])]),s("div",{staticClass:"right"},[t._v("立即支付")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-right-arrow.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"track-title"},[t._v("日日顺物流"),s("span",{staticClass:"track-tips"},[t._v("送装一体")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-right-arrow.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-le"},[s("img",{staticClass:"right-icon",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAkCAYAAAAdFbNSAAAJZElEQVRYR61Ye3BU1Rn/fedu3oSHAaIk+0gISUhBaFJ5ThkQitXB6UiLIpaipa1lqEXGOrwbbelkBmyVaBFo1VFbbYtALcgMMmJQIdlNAmSDC8RJQgAVgRRIwiu7e0/n3HOfuxsIndw/YPdm73d+33d+3+/7nUvo42vMmDE5ke6rm0BUQMxVfvRo6D0Aal8uQ30ZrLCwMMel8C0AHiAiEOESMeWJxsZj/+7LdfoMdG5ubtqAzLTnVY6niZAkQYvwvFkB5jV83hToK+DkducsAmglY6gGlGVtbW1t/8d20siRwx8Bp9dBlGZUwgBOhN1RVVkYCoXO3i7wyZOLMqPh9McAdRURa0xRXT8VoNsA8ohgClEjGNZkZQ3dXV9fH+7tAqOKC2ZGON4mwlBAo4V22UBHCWxzRKWloVCou7dxJ0/+9rBoOLqagx4nIE2LqbAZ5Hbn7gcwRV+EM4YLRPT71tZTL/cmeHFx/mji7J8cfKQBkovgOmgRg4ksCGFiyh+CwdDvBGduFXv8+LEjuMr/DvCxBEoSAYkozBSMI7fbvRbgq2R1ZJUkF7FJUZLKm5ubz/e0SHFxcRZ4ZDOA2QAn+ZwVQ+e0uCNjEi6C8PNg8PiOnihYVlaWpCA6E0zdDI4cAVYkzbmG6wslSZlBXm/u/aqKD2Rh9AXlImEi7HElsdVNTa0NsZWZM2eOEgweqgDH0xCNF0MLix5aGlrptfhAgwrMb2w83hgbs6ysLJ14969AWELAMD1RPWkN4W5i4fmUk5NTyBgdADDYCVrbQ5Uxdhpgi1taWkRi5lVYkL8UDBUESjEA6XslAZq0cHJc7BoRC2TDNf3DYPCKEXD8+FHZkW56mYg/SESpRtL25EGo7OgMP0s+n+/OaDSygwgTdFoY9NAbSXusk4hWZmRkvhEMBq8VFg6/j3P+FhENtrjLzcazN6FMRKuS2aAax4F3B95Bv6iqCl25Z0xJCVdoAwfdq+Urd8SBA0A3IzxTHWh4hYYMGdIvLS1lIzjmOypm6qyhAhDA3wL4VkZsHQfGxQa2q4aDHvof7EUhoqsEqlAYTqnAMgAlMTTSkzR6hLUT2GPVgUN7tHU9ntw1nKOcETFZFpN/zmwJUSK6AGAIETGdo/rv9cokrpK9wQ1uiwe6ZH+in2OX42JosduYyzX94MH6Zg2i2+1+lIhvBijTph7WFtmCJK6mzNTxrG2nYpvSiCEpE0MbOUX1xGRGumTWp6YNmlBVVRUxQN9DhPcB3CUz17vd4JUlg/YqSZCmahjPOGTTAcpJD5vEJhhIcY0IvrGmNrjY7BGfzzcwGo0EiGiEWS2hi8yooCWFiStqUcrehKZO2/VbL4SYLnpD2ienSU0TtFFEzh/11wX/YYIWHzwez38AVchNgkrLbrZpbSzX7VpqtIUFxgbUKIpdURw7YCqNThM5M9QUJPs+qa097QDt9eY+yzmtM/hmVMHkXQxocb8obyjKRntwrr0TVf4v9OGcwHvoz35ntAc+dxY+b/oaTa1i0Op9YNJRf9beiILTYM01tUcK5H7qEio++Hy+CaoarU7IaZv5MZpkaFYm3tmwAFmDMnDjRgR//Os+7PgwqFU3kfe4d9IIrFg0E/3Sk3Gp4xoWLn8X59q7JGqj8WzSaMqp1ojszZrAkcfjQJeUlCR3dXX+lwgZ2nZpnLY3peGP5ToTS33YsvYRM+2z5zuxuHwbWk63mypicDoneyBeKZ8Nz7BB4LpXWr7uA+wPNOvT06YSJj2stRVSflYdOPxaHGhxw+v17AP4NEvkjQ63cVrv9Iz0FPxl7cMYVZitxYqqKnbsPYqX3vgU125IVytAp6a48Mu5EzF31li4FKbdbz1zEYue246OzutW4+mjX/oNayIS4TrjNKm6ruFwQtAej+c5Il7es/mxZE1sRem33Niw8kH075ei1e/a9TCWrd+Ngw2nTO9xd/FdeHH5LPTL0CwKrt2IYOVLe+Bv0Hoq3nvHjm/CiagamVlfHzqVEHRenud7qsr36B7T0lhpCy0J1FdLTXbhqR9PxNwH7obCFI2bp7++jCdWbUPHlRvISEvGpvIfoNA3WAOscmDX/uPY8PZBDbxodkM5zCFi0MOcEbQrOUX9yWefNV5MCHr48NyCSIQdAPhQ64xnjXTZ5M4Oz8u9Ay/85j74cgYZMfH+x8dQ+bcaLHyoFPNmjTHvf3W+E6srP0JTm857XRztFtQuq3I99mKUu5bZT1KOg21eXl62qka3A3yS4SucnsCegKySYOn0CfmoWDJDAydocuVqNz4OnMR3yzwYkJmqQRP3X3izGjurTpjqYji/OEdncJrRdQKe8dcGN5qZ2yVP3MzOzs5ISUn+M2O0wNDDBI1hNY9NCn/75BTcP7nAnHJS9oRWSMgHG77E8sqPbGPfsKs38x7sAoHm+euO7O0RtJisXq97BUDPE0Gxa2XiqWXRxZ3dHxVPTcPwXJ0mmmxqzYAz33RgzaufoOXLS2bCjuNdT94DdJIlsWk1NUdO3gw0fD63EN8t4Oh/O96DMcJDUwux+OEyiAaVF0d3WMXrOxvxr73HoXJZd2MA3cp7MKKAJ69o0tatW6M3Be31eksJfCcIw6xK9857ZKQloWLxFJQWSe0Wz4da27Hi1U/R0dUtuWydFc3TTE/egxEq/bXBJXbARlzHvfz8/AGqGqkmYKQhpKbZj13QrqlMJibosWrBOOQN648z57qw/p16hFraHWbL8DOGTltW2KlMjOhH/rrgtluCFjh8Pu97AJ8df5yyfIJc0Gnije+DB6ZhUGYKOq+Gce7i1djTuGPi3cx7MFf6nX6//5vegEZ+vm+pGlX/dDPvEXPeM03PLd57xHPaduiIcZZNtXXBoljACekhbhYUeEsjEV5vdXi894izrL1/76FzWY9pPx1ZUxBEbEttXcOTvQY9depUV9vJlloAY+MqalRGKLDGY+tFjKyCdVSTZ7u49x4xrxokLJNq8nOYOH0/cCi4r9egxQ/z870/5ByvEWGAZlMTeA/n1Ly99x7GcSvOexAJedvFlPDCQOB4+22B9vl8qUTqfIB+TUSjzONWjPeIP6w6X7LEntCtquq7YqMHI+rgRNtdLtd6v/9wKBHgHjlt/Fi8DLx8+Ww2UXK+qqKIMUq3B2Kas4uCQfwvL80ya1+ld5b/Gh+Y/l0x/6D9lKCSwr9SojjmSo+cPnDgRGdPgMX9/wGbyIy5IkTm4gAAAABJRU5ErkJggg=="}}),s("span",{staticClass:"title"},[t._v("权益")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-ri"},[s("span",{staticClass:"title"},[t._v("数量有限，先到先得")]),s("img",{staticClass:"img",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-right-arrow.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-right-arrow.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-right-arrow.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-right-arrow.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-right-arrow.png",alt:""}})])}],n=(s("480b"),s("a37c")),a=(s("be7f"),s("565f")),r=(s("e7e5"),s("d399")),c=(s("8a58"),s("e41f")),l=(s("9e6b"),s("c41f")),u=(s("8fec"),s("7bd9")),d=(s("b000"),s("1a23")),p=s("a34a"),h=s.n(p),f=s("bc3a"),g=s.n(f),m=s("85e4"),v=s("bbc2"),C=s("fa7d"),y=s("2f62"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-coupon",on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[s("div",{staticClass:"coupon-list-wrap",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"title"},[s("span",{staticClass:"title-text"},[t._v("优惠券")]),s("img",{staticClass:"close",attrs:{src:t.$cdnImageUrl+"/common/control-close.png",alt:""},on:{click:t.close}})]),s("p",{staticClass:"text"},[s("span",{class:{active:"kl"===t.activeTab},on:{click:function(e){return t.changeTab("kl")}}},[t._v("可领优惠券")]),s("span",{class:{active:"ky"===t.activeTab},on:{click:function(e){return t.changeTab("ky")}}},[t._v("可用优惠券")])]),"kl"===t.activeTab?[s("coupon-list-avali",{attrs:{"voucher-list":t.list,streetId:t.streetId},on:{received:t.received}})]:[s("coupon-list",{attrs:{list:t.list},on:{fnSelectVoucher:t.fnSelectVoucher,received:t.received}})],0!=t.list.length||t.loading?t._e():s("div",{staticClass:"yhqNo"},[s("img",{attrs:{alt:"",src:t.$cdnImageUrl+"/cart/yhq-no.png"}}),s("p",[t._v(t._s("您目前没有"+t.tipText+"的优惠券哦~"))])]),t.loading?s("van-loading",{staticClass:"vanLoding",attrs:{type:"",color:"#1989fa"}}):t._e(),s("div",{staticClass:"btn-wrap"},[s("div",{staticClass:"btn",on:{click:t.fnConfirm}},[t._v("确定")])])],2)])},S=[],_=s("0622"),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"voucher-list__wrapper"},t._l(t.voucherList,(function(e,i){return s("div",{key:i,staticClass:"li voucher-list-item"},[s("coupon-item",{attrs:{couponData:e},on:{receive:function(s){return t.fnReceiveVoucher(e,i,s)}}})],1)})),0)},P=[],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"coupon-item"},[s("div",{staticClass:"content-wrapper"},[s("div",{staticClass:"value-wrapper"},[s("coupon-value-label",{attrs:{couponValue:t.couponData.couponValue,textColor:"#ffffff",couponType:t.couponData.couponType}})],1),s("div",{staticClass:"info-wrapper"},[s("div",{staticClass:"info"},[s("p",{staticClass:"info-text"},["PRODUCT"===t.couponData.scope?s("span",{staticClass:"singleItem"},[t._v("单品")]):t._e(),"ORDER"===t.couponData.scope?s("span",{staticClass:"singleItem"},[t._v("订单")]):t._e(),t._v(" "+t._s(t.couponData.description)+" ")]),s("p",{staticClass:"info-text"},[t._v(t._s(t.couponData.couponTemplateName))]),t.couponData.startTime?s("p",{staticClass:"info-text"},[t._v(t._s(t._f("formatDateEndOfDay")(t.couponData.startTime))+" — "+t._s(t._f("formatDateEndOfDay")(t.couponData.endTime)))]):s("p",{staticClass:"info-text"},[t._v(t._s(t.couponData.validityPeriod))])]),s("div",{staticClass:"receive"},[1==t.couponData.displayType?s("div",{staticClass:"not-received"},[s("span",{staticClass:"receive-btn",on:{click:t.receive}},[t._v("点击领取")])]):t._e(),2==t.couponData.displayType?s("div",{staticClass:"received"}):t._e(),5==t.couponData.displayType?s("div",{staticClass:"sold-out"},[s("img",{staticClass:"sold-out-img",attrs:{src:t.$cdnImageUrl+"/shop/coupon-sold-out.png"}})]):t._e()])])]),s("img",{staticClass:"type-icon",attrs:{src:t.iconSrc,alt:""}}),s("img",{staticClass:"new-coupon-bg",attrs:{src:t.$cdnImageUrl+"/shop/order-voucher-bg.png"}})])},I=[],O=s("25e9"),A={name:"couponListAvaliItem",components:{couponValueLabel:O["a"]},props:{couponData:Object},data:function(){return{}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{receive:function(){var t={startTime:this.couponData.startTime?this.couponData.startTime.split(" ")[0]:"",endTime:this.couponData.endTime?this.couponData.endTime.split(" ")[0]:""};this.$emit("receive",t)}},computed:{isBigVal:function(){return this.couponData.couponValue>1e3},couponIcon:function(){var t={ORDER:"".concat(this.$cdnImageUrl,"/shop/kaquan.png"),SCENE:"".concat(this.$cdnImageUrl,"/mine/mine-voucher-scene.png"),SHOP:"".concat(this.$cdnImageUrl,"/shop/dianpuquan.png")};return t},iconSrc:function(){var t=this.couponData.couponUseType;return this.couponData.applyType&&(t="SCENE"),this.couponIcon[t]||t}},watch:{}},T=A,x=(s("c791"),s("2877")),E=Object(x["a"])(T,k,I,!1,null,"075f8a30",null),U=E.exports,M={props:{streetId:String,voucherList:{type:Array}},components:{couponItem:U},methods:{fnReceiveVoucher:function(t,e,s){console.log(t,"-- item --"),2!==t.displayType&&this.receiveCoupon(t,e,s)},receiveCoupon:function(t,e,s){var i=this;Object(m["xb"])({activityCode:t.activityCode,couponTemplateCode:t.couponTemplateCode,sourceChannel:t.sourceChannel,streetId:this.streetId}).then((function(o){o.success?(i.$emit("received",t,e,"2"),i.receiveToast("".concat(s.startTime,"-").concat(s.endTime))):(i.$emit("received",t,e,"5"),i.$toast(o.message))}))},receiveToast:function(t){var e=s(t?"90a0":"b402"),i=t?"领取成功":"领取失败";this.$toast({message:i,icon:e,duration:1500}),t&&this.$nextTick((function(){var e=document.querySelector(".van-toast");if(!e.querySelectorAll(".toast-add-text").length){var s=document.createElement("span");s.className="toast-add-text",s.innerHTML="".concat(t,"可用"),e.appendChild(s);var i=window.setTimeout((function(){e.removeChild(s),window.clearTimeout(i)}),1550)}}))}}},R=M,D=(s("fe49"),Object(x["a"])(R,w,P,!1,null,"6a30d28c",null)),j=D.exports;s("9914");function L(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function B(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?L(Object(s),!0).forEach((function(e){V(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function V(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function N(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=H(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,r=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return a=t.done,t},e:function(t){r=!0,n=t},f:function(){try{a||null==s["return"]||s["return"]()}finally{if(r)throw n}}}}function F(t){return G(t)||q(t)||H(t)||$()}function $(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(t,e){if(t){if("string"===typeof t)return W(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?W(t,e):void 0}}function q(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function G(t){if(Array.isArray(t))return W(t)}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}var z={components:{couponList:_["a"],couponListAvali:j},props:{streetId:String,couponListData:Object,reqOrderInfo:{default:function(){return[]}},storeProdList:Array,defaultSelect:String},data:function(){return{activeTab:this.defaultSelect||"kl",type:"",productId:"",orderSn:"",list:[],showVoucherTypeFlag:!1,plantType:"",activityId:"",itemType:"",couponFrom:"",showYhq:!1,loading:!1,sku:""}},created:function(){},methods:{getCouponForAnyScene:function(){this.list=[],"kl"===this.activeTab?"1"===this.type?this.storeCouponList():this.platCouponList():"1"===this.type?this.getStoreCoupon():this.getOrderCoupon()},received:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.couponListData&&"1"===this.couponListData.type?this.$util.gioTrackWithVariable("MB15627",{ad_coupon_id:t.couponTemplateCode+""}):this.$util.gioTrackWithVariable("MB15629",{ad_coupon_id:t.couponTemplateCode+""}),this.list[e].displayType=s},platCouponList:function(){var t=this;this.loading=!0,Object(m["pb"])(this.reqOrderInfo).then((function(e){e.success&&"kl"===t.activeTab&&(t.list=e.data||[])}))["finally"]((function(){t.loading=!1}))},storeCouponList:function(){var t=this,e=this.reqOrderInfo.find((function(e){return e.productId===t.couponListData.productId}));this.loading=!0,Object(m["Kb"])(e).then((function(e){e.success&&"kl"===t.activeTab&&(t.list=e.data||[])}))["finally"]((function(){t.loading=!1}))},changeTab:function(t){this.activeTab=t},getStoreCoupon:function(){var t=this;this.loading=!0,Object(m["fb"])({productId:this.productId}).then((function(e){e.success?(e.data.forEach((function(t,e){t.voucherType=1})),"ky"===t.activeTab&&(t.list=F(e.data)),t.showYhq=!(t.list.length>0),t.loading=!1):(t.loading=!1,t.showYhq=!0,t.$toast(e.message))}))},getOrderCoupon:function(){var t=this;this.loading=!0,Object(m["P"])().then((function(e){e.success&&e.data?(e.data.forEach((function(t,e){t.voucherType=2})),"ky"===t.activeTab&&(t.list=F(e.data)),t.loading=!1,t.showYhq=!(t.list.length>0)):e.success?t.loading=!1:(t.loading=!1,t.showYhq=!0,t.$toast(e.message))}))},getTailCoupons:function(){var t=this;Object(m["gb"])({orderSn:this.orderSn}).then((function(e){e.success?(e.data.forEach((function(t,e){t.voucherType=2,t.memberCouponId&&(t.couponCode=t.memberCouponId+"")})),t.list=F(e.data)):t.$toast(e.message)}))},fnSelectVoucher:function(t){var e=this;this.couponListData&&"1"===this.couponListData.type?this.$util.gioTrackWithVariable("MB15627",{ad_coupon_id:t.couponTemplateCode+""}):this.$util.gioTrackWithVariable("MB15629",{ad_coupon_id:t.couponTemplateCode+""});var s={couponList:this.list,changeCoupon:t},i=null;"1"===this.type?(s.price=this.couponListData.prodInfo.price*this.couponListData.prodInfo.num,i=Object(m["j"])(s)):(s.sos=this.storeProdList,i=Object(m["h"])(s)),i.then((function(t){if(t.success){var s,i=N(e.list);try{var o=function(){var e=s.value,i=t.data.couponCodeList.findIndex((function(t){return t===e.couponCode}));i>=0?(e.isForUse=1,e.sortIndex=i):e.isForUse=0;var o=t.data.supCouponCodeList.findIndex((function(t){return t===e.couponCode}));o>=0?(e.isSuperposed=1,e.sortIndex=o):e.isSuperposed=0};for(i.s();!(s=i.n()).done;)o()}catch(n){i.e(n)}finally{i.f()}e.list=F(e.list),t.message&&e.$toast(t.message)}}))},fnConfirm:function(){var t=this;if("ky"===this.activeTab)if("tailOrder"===this.$route.query.from){var e=function(){var e,s,i="1"===t.type?{couponCode:"couponCodeProductList",supCouponCode:"supCouponCodeProductList"}:{couponCode:"couponCodeOrderList",supCouponCode:"supCouponCodeOrderList"},o=(e={},V(e,i.couponCode,[]),V(e,i.supCouponCode,[]),e),n=N(t.list);try{for(n.s();!(s=n.n()).done;){var a=s.value;a.isForUse&&o[i.couponCode].push(a),a.isSuperposed&&o[i.supCouponCode].push(a)}}catch(r){n.e(r)}finally{n.f()}return o[i.couponCode].length>1&&o[i.couponCode].sort((function(t,e){return t.sortIndex-e.sortIndex})),o[i.supCouponCode].length>1&&o[i.supCouponCode].sort((function(t,e){return t.sortIndex-e.sortIndex})),o[i.couponCode]=o[i.couponCode].map((function(t){return t.couponCode})),o[i.supCouponCode]=o[i.supCouponCode].map((function(t){return t.couponCode})),o}();this.chooseTailCouponsByType(e)}else{var s=function(){var e,s={couponCodeList:[],supCouponCodeList:[]},i=N(t.list);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.isForUse&&s.couponCodeList.push(o),o.isSuperposed&&s.supCouponCodeList.push(o)}}catch(n){i.e(n)}finally{i.f()}return s.couponCodeList.length>1&&s.couponCodeList.sort((function(t,e){return t.sortIndex-e.sortIndex})),s.supCouponCodeList.length>1&&s.supCouponCodeList.sort((function(t,e){return t.sortIndex-e.sortIndex})),s.couponCodeList=s.couponCodeList.map((function(t){return t.couponCode})),s.supCouponCodeList=s.supCouponCodeList.map((function(t){return t.couponCode})),s}();this.choiceCouponByType(s)}else this.$emit("update:display",!1)},chooseTailCouponsByType:function(t){var e=this,s="1"===this.type?B(B({},t),{},{orderSn:this.orderSn}):B(B({},t),{},{orderSn:this.orderSn,scope:"ORDER"});Object(m["t"])(s).then((function(t){t.success&&e.fnShowVoucherType(),t.message&&e.$toast(t.message)}))},choiceCouponByType:function(t){var e=this,s="1"===this.type?Object(m["r"])(B(B({},t),{},{sku:this.sku})):Object(m["q"])(t);s.then((function(t){t.success&&e.fnShowVoucherType(),t.message&&e.$toast(t.message)}))},fnShowVoucherType:function(){this.showVoucherTypeFlag=!1,this.$emit("chooseCoupon")},close:function(){this.$emit("update:display",!1)}},computed:{tipText:function(){return"kl"===this.activeTab?"可领":"可用"}},watch:{tipText:{handler:function(){this.getCouponForAnyScene()}},couponListData:{handler:function(t){t&&Object.keys(t).length&&(this.type=t.type,this.productId=t.productId,this.sku=t.sku,this.getCouponForAnyScene())},immediate:!0,deep:!0},display:function(t){t||(this.list=[]),t!==this.showVoucherTypeFlag&&(this.showVoucherTypeFlag=t)},showVoucherTypeFlag:function(t){t!==this.display&&this.$emit("update:display",t)}}},J=z,Y=(s("f858"),Object(x["a"])(J,b,S,!1,null,"72004e3a",null)),Q=Y.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"picker-container"},[s("div",{staticClass:"content"},[s("div",{staticClass:"track-info"},[s("div",{staticClass:"header"},[s("span",{staticClass:"title"},[t._v("配送")]),s("span",{staticClass:"close-btn",on:{click:t.close}})]),t.isWaOcO?s("div",{staticClass:"track-btn-container"},[s("div",{staticClass:"track-btn"},[t._v("日日顺物流")])]):t._e()]),s("div",{staticClass:"time-info"},[s("div",{staticClass:"header"},[t._v(" 送货时间 ")]),s("div",{staticClass:"time-content"},[t._l(t.pickerData,(function(e,i){return s("div",{key:e,staticClass:"time-item",class:{active:t.pickerChangeStatus?e.split("(")[0]===t.dateSelect.split("(")[0]:t.dateSelect?e===t.dateSelect:0===i},on:{click:function(s){return t.changeDate(e)}}},[t._v(t._s(e))])})),s("div",{staticClass:"time-bottom"})],2)])]),s("div",{staticClass:"btn-wrap"},[s("div",{staticClass:"btn",on:{click:t.fnConfirm}},[t._v("确定")])])])},K=[],X={props:["pickerData","currentDate","isWaOcO"],data:function(){return{pickerChangeStatus:!1,dateSelect:""}},watch:{currentDate:{handler:function(t,e){this.dateSelect=t}}},mounted:function(){},methods:{close:function(){this.pickerChangeStatus?this.dateSelect=this.currentDate:this.dateSelect=this.pickerData[0],this.$emit("closePicker")},fnConfirm:function(){this.$emit("confirm",this.dateSelect),this.pickerChangeStatus=!0},changeDate:function(t){this.dateSelect=t},showCurrentDate:function(){this.$el.querySelector(".active").scrollIntoView({block:"start"})}}},tt=X,et=(s("3717"),Object(x["a"])(tt,Z,K,!1,null,"4c93e1ca",null)),st=et.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip-container"},[s("div",{staticClass:"logo-area"},[s("img",{attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/common/common-identity-tip.png"}})]),s("div",{staticClass:"text-area"},[t._v(" "+t._s(t.info)+" ")])])},ot=[],nt={props:["info"],data:function(){return{}}},at=nt,rt=(s("65d4"),Object(x["a"])(at,it,ot,!1,null,"f5a4a8ae",null)),ct=rt.exports,lt=s("f057"),ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-list-container"},[s("div",{staticClass:"header"},[s("span",{staticClass:"title"},[t._v("配送门店")]),s("span",{staticClass:"close",on:{click:t.closeModel}})]),s("div",{staticClass:"content"},t._l(t.addressList,(function(e,i){return s("div",{key:e.code,staticClass:"item"},[s("div",{staticClass:"check"},[t.canCheck?s("common-checkbox",{attrs:{checked:e.code===t.currentShopCode},on:{changeCheck:function(s){return t.changeCheck(e.code)}}}):t._e()],1),s("div",{staticClass:"left"},[s("h6",{staticClass:"item-title"},[t._v(" "+t._s(e.name)+" "),i?t._e():s("span",{staticClass:"nearest-flag"},[s("span",{staticClass:"text"},[t._v("距离最近")])])]),s("div",{staticClass:"item-desc"},[s("div",{staticClass:"location-area"},[s("img",{staticClass:"location",attrs:{src:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile/orders/shop-addr.png"}})]),s("span",[t._v(t._s(e.address))])])]),s("div",{staticClass:"right",on:{click:function(s){return t.goAddress(e)}}},[s("span",{staticClass:"navigation-icon"}),s("span",{staticClass:"navigation-text"},[t._v("导航")])])])})),0)])},dt=[],pt=s("6d84"),ht={components:{commonCheckbox:pt["a"]},props:{currentShopCode:{type:String,default:""},addressList:{type:Array,default:function(){return[]}},canCheck:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},methods:{changeCheck:function(t){t!==this.currentShopCode&&this.$emit("changeCheck",t)},closeModel:function(){this.$emit("closeModel")},fnConfirm:function(){this.$emit("confirm",this.dateSelect)},goAddress:function(t){var e=this,s={latitude:t.latitude,longitude:t.longitude,name:t.name};if(!s.latitude||!s.longitude)return"";var i=s.latitude,o=s.longitude,n=encodeURI("".concat(o,",").concat(i)),a=s.name;if(this.$util.isSgRn()){var r=-1!==(i+"").indexOf(".")?i:i.toFixed(6),c=-1!==(o+"").indexOf(".")?o:o.toFixed(6);window.postMessage(JSON.stringify({type:"goNewWebview",data:{newUrl:"https://uri.amap.com/marker?position=".concat(encodeURI("".concat(c,",").concat(r)),"&name=").concat(a)}}))}else this.$util.isIos()||this.$util.isAndroid()?setTimeout((function(){e.$util.openNewWindow("https://uri.amap.com/marker?position=".concat(n,"&name=").concat(a),!0)}),500):this.$util.openNewWindow(this.getAmapURL(s),!0)},getAmapURL:function(t){if(!t.latitude||!t.longitude)return"";var e=t.latitude,s=t.longitude;if(!this.$util.isIos()&&!this.$util.isAndroid()){var i=encodeURI("".concat(s,",").concat(e)),o=encodeURI(t.name);return this.$util.openNewWindow("https://uri.amap.com/marker?position=".concat(i,"&name=").concat(o),!0)}var n=this.$util.isIos()?"iosamap://path":this.$util.isAndroid?"amapuri://route/plan":"",a=n+"?t=0&dlat="+e+"&dlon="+s+"&dname="+encodeURI(t.name);return a}}},ft=ht,gt=(s("e52d"),Object(x["a"])(ft,ut,dt,!1,null,"64282868",null)),mt=gt.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"freight-container"},[s("div",{staticClass:"header"},[t._v("运费详情")]),s("div",{staticClass:"content"},t._l(t.parentData,(function(e){return s("div",{key:e.si,staticClass:"goods-item"},[e.sn?s("div",{staticClass:"item-title"},[s("span",{staticClass:"shop-name"},[t._v(t._s(e.sn))]),s("span",{staticClass:"fee"},[t._v("合计运费"),s("span",{staticClass:"price"},[t._v("￥"+t._s(e.ssf.toFixed(2)))])])]):t._e(),s("div",{staticClass:"item-content"},t._l(e.ops,(function(e){return s("img",{key:e.proId,staticClass:"img-item",attrs:{src:t._f("imageToHttps")(e.image)}})})),0)])})),0),s("div",{staticClass:"btn-wrap"},[s("div",{staticClass:"btn",on:{click:t.freightClose}},[t._v("我知道了")])])])},Ct=[],yt={props:{parentData:{type:Array,default:function(){return[]}}},data:function(){return{pickerChangeStatus:!1,dateSelect:"",orders:[]}},created:function(){},methods:{freightClose:function(){this.$emit("freightClose")}}},bt=yt,St=(s("d045"),Object(x["a"])(bt,vt,Ct,!1,null,"90d6133c",null)),_t=St.exports,wt=function(t,e){var s=e._c;return s("div",{staticClass:"skeleton-container"},[e._m(0),e._l(e.props.goodsCount,(function(t){return s("div",{key:"g"+t,staticClass:"goods-info-wrap card"},[s("div",{staticClass:"title line"}),e._m(1,!0)])})),e._l(e.props.listNum,(function(t){return s("div",{key:"list"+t,staticClass:"list-container card"},e._l(e.props.listItemNum,(function(t){return s("div",{key:"item"+t,staticClass:"list-item line"})})),0)}))],2)},Pt=[function(t,e){var s=e._c;return s("div",{staticClass:"address card"},[s("div",{staticClass:"address-top line"}),s("div",{staticClass:"address-bottom line"}),s("div",{staticClass:"address-name line"})])},function(t,e){var s=e._c;return s("div",{staticClass:"good-content"},[s("div",{staticClass:"avatar"}),s("div",{staticClass:"info"},[s("div",{staticClass:"line1 line"}),s("div",{staticClass:"line2 line"}),s("div",{staticClass:"line3 line"})])])}],kt=(s("76f6"),{}),It=Object(x["a"])(kt,wt,Pt,!0,null,"fb8b0fb8",null),Ot=It.exports,At=s("e725"),Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right-dialog-page"},[s("div",{staticClass:"type-main"},t._l(t.noRepertoryRight,(function(e,i){return s("div",{key:i,staticClass:"main-items"},[s("p",{staticClass:"right-name"},[t._v(t._s(e.rightsName))]),t._m(0,!0)])})),0),s("div",{staticClass:"btn-area"},[s("van-button",{attrs:{type:"info",round:""},on:{click:t.goBack}},[t._v("重新选择权益")]),s("van-button",{staticClass:"btn-giveup",attrs:{type:"default",round:""},on:{click:t.giveUp}},[t._v("放弃无库存的权益，提交订单")])],1)])},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right-tag"},[s("img",{staticClass:"right-img",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAACeklEQVQ4T62Uz08TURDHZ3+1aW2ghKolbbfBLbDRgzGeqLRpvYAHa12CJw7G9q4Hjf4HxHjRO3pqDBFZSblggpYAgYvG+LstJaSVotESBY2kv3bNLH3NttQYjS+Z5O3L7Od9Z97MUPCfFvUbjv6c7FWdr36vHTeDyDcVAKBjguTjOPokOpbLyvPRNXlxHkABAAKqA1vdTL/sDnkcBmNMATBWQEkgiAU6SAMU86Xi6PH1eAb2gLg0WF1B7ZBecA8eOmZqW9mplG93Z6bvTnT5nXYDZw1kn7xZ94QjbSx35e3uTr8/+/izHqYH4Z751Dd8q6KqnDMt3wAAOiWEomaGFV1p+SrevtErjbEUVbanpq4BQLWmSNWDGAQVxJHUyu6WdDb7dA0VvxfORQ8wjMinZfxRmXGfFvpNnbItOdlXA2kwAqIRgrYlXti+mF9yzHzfrGC4KSEcMTM0KkIQnLHYuZjTv9GZfNCuAykIQiMgtiCOvFv8WRg+n0tgQuHZkcEBC23kxUz8Pvo+4oOCz2ybsiUnjwIAXoaKGkAsKvrQK91UVWD4VS1H8JA/5ToMpg5fbu4VgnI90hhFQdWVlq/XIAjbr2i8y3sw3O5Y+Fop3unJxMcnXF7eQZmtvtzc61VPKNLBGi9Pb+f90Y/LX5oV4cX1HGHJyI6gMGCx3VMBDCW1Oo8OBooJUAClpR+FS1I+gQ9BwqqHRupJSzYxKwAz6x7y2gzGE+hQKBVfDGVnl7/t5aTZGp5fqyOdoUryGKSCsYqxovUgPGsAkRBJmH8CIbDeJi17TVcSBEYUkZ+Jsn29RiZEc8u0Ck0LRd+wrcZIM1Dv81fz6J/n5S/2aecXiEDqRQAAAABJRU5ErkJggg=="}}),s("span",{staticClass:"tag-name"},[t._v("当前权益库存不足")])])}],Et={props:{noRepertoryRight:{type:Array,default:function(){return[]}}},data:function(){return{arr:[]}},methods:{giveUp:function(){this.$emit("giveUp")},goBack:function(){this.$emit("goBack")}}},Ut=Et,Mt=(s("eeae"),Object(x["a"])(Ut,Tt,xt,!1,null,"04241508",null)),Rt=Mt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right-content"},[s("p",{staticClass:"title"},[t._v("选择权益")]),s("div",{staticClass:"main"},[t._l(t.getOrderRightInfos,(function(e,i){return s("div",{key:i,staticClass:"main-box",on:{click:function(s){return s.stopPropagation(),t.handleChecked(e)}}},[s("div",{staticClass:"main-l"},[s("div",{staticClass:"main-item"},[s("span",{staticClass:"main-title"},[t._v("权益名称：")]),s("span",{staticClass:"main-info"},[t._v(t._s(e.rightsName))])]),s("div",{staticClass:"main-item"},[s("span",{staticClass:"main-title"},[t._v("权益类型：")]),s("span",{staticClass:"main-info"},[t._v(t._s(t._f("giftTypeFilter")(e.giftType)))])]),s("div",{staticClass:"main-item"},[s("span",{staticClass:"main-title"},[t._v("活动时间：")]),s("span",{staticClass:"main-info"},[t._v(t._s(e.activityStartDate)+" 至 "+t._s(e.activityEndDate))])]),s("div",{staticClass:"main-item"},[s("span",{staticClass:"main-title"},[t._v("激活方式：")]),s("span",{staticClass:"main-info"},[t._v(t._s(t._f("activedFilter")(e.activationType)))])]),s("div",{staticClass:"main-item right-desc"},[s("span",{staticClass:"main-title"},[t._v("权益描述：")]),s("span",{staticClass:"main-info right-desc-info",on:{click:function(s){return s.stopPropagation(),t.handleShowDesc(e)}}},[s("div",{staticClass:"content",class:e.showDesc?"":"wrap",domProps:{innerHTML:t._s(t.filterRightsDesc(e.rightsDesc))}}),s("img",{staticClass:"img",class:e.showDesc?"yes":"no",attrs:{src:t.$cdnImageUrl+"/cart/icon-arrow-up1.png"}})])]),e.isShare?t._e():s("div",{staticClass:"un-superposition"},[s("img",{staticClass:"img",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAhCAYAAADOHBvaAAAEMElEQVRYR8WXXUybVRzGn+eUNrTIx1uV4FKSKRu0OMkM6rJo1ItdkThjtrYg0yzGERMTo/FGTTToEjUxfsSoWYibqJsMajI/ErzZxTTq4iZxIREQQUkgi3H0AxiUUd7zN28pWqAthQicu/ec857fef5f5xxiixrz5Y56/M7iYuUzNapAGKQY1r8ijEIQtSkMT03p/sqxUDyfNVcFS31LaXRm8gkR2Q/IdgDXAbADcKQAcwASAK4CHCH5leEqOcaetolcG8gKnqxuukHb5EET+hUItuWj4t85xGUb1EvK5Jclgx3jmf7NCJ6oDt5p2qQVgn2SUkZAAxgDcEnAvygSTZqaNAipALAbgEcAZfUTmANx1maytXSw8+Jy+BKwQBj1NTWIyNuA7ExTMEjiqFI8D9oiU9HErGcMlokx5oGj2LAXQky31rJXBC9CUP0fiL+TfMbo7+gmKIv9S8DR2sbbTdEhCqosMQCukHzXiDvf5Ej7bD7mlu2HC6PO+LMi8hSAGy3xQgzbqPxG3+lfVoBj1Q/fIrb5Di24a2GQA0rhuWFnafcdPW1W8CxpEa//NoG6Sc1eu2CMfBFLH/y5vsVeFZ9o0BqvA+K1xhRxgWZBU9ngZ3+kXAFIfYs9MhPrhOChZCcRVeC+0n7fJaLV8u1S6K4DdWLaPobAQ+Ato6L2DZ5rnU+fJGhVE77+3RpyVgTJ1ANxxu0qC7KnLWEZnVGfv0GEnwBwA5wk5JB7oOvrbKYN1zQeBPWHAEpBdCFhP3L90KnJTPMj3sADAp4EpARAhJRHjf5QN6/U7C+mKvyAgmbLr4o8UWZ3PM3eT6ezg4N+UCxwCSAhzDsezwaWukeKYom5d7TIY0ljkidNHX+SsRr/zVqpb0WkEsDfCipoDJw+lyuQwjX5g611ot7G+zV0J4BykqNK6/sY9gYOAPh8wbf8yaC+l32hZKr8H4qtNaTW74iK+k5E9qTWPMiwN/gRIIdTkfaCe6DrtVxQa2ytiq1/It7A8wK8urA22xnxBn4UYG/y04Z73L92/bAh4FsDd4uJ71MCz1umHrVKndXhnLdXuoZOWWUxZ1uP4pkdzZ54QcJiWW2M477ANAUu68tdVFbEnraZjQBLfYsrMh1LZooQM0sVO+yVrt4NUlzX7InPpSlel48XMuH4QgFhp1sXHeFvJ6ZyWSqy0sdrj+qpXUHfnCntENSAePlPV9l7mep5+kZWRPV68tiqw5Edvdt0gd0lSl8u7wtdzaU2Yx6vp3KtFnzLxzNWLqtW25TzfRE5lG+tXjx5TK3K7Zy9WDJwJpxtM1lr9XpOp/Haxj3U5nGCFSCPhROTR3cOfXMtEzzr6ZTMqzWex/mAVz2PF3e5lhvIaqbO+wayCN+SO1fS5Ft1y1xUvun36vSo3JKXRPoGNv3ttDwnN/21uNbymO/8fwDMkuMmc7ZEFgAAAABJRU5ErkJggg=="}}),s("span",{staticClass:"no-s-text"},[t._v("此权益不能与其他权益同时选择")])])]),s("div",{staticClass:"main-r"},[s("van-checkbox",{class:t.getGiveupStatus&&e.isSelected?"low-light":"",attrs:{disabled:!e.isOptional&&!e.isSelected},model:{value:e.isSelected,callback:function(s){t.$set(e,"isSelected",s)},expression:"item.isSelected"}})],1)])})),s("div",{staticClass:"main-box giveup-area",on:{click:t.handleGiveUp}},[s("span",{staticClass:"giveup-text"},[t._v("放弃权益")]),s("van-checkbox",{staticClass:"giveup-checked",model:{value:t.noRights,callback:function(e){t.noRights=e},expression:"noRights"}})],1)],2),s("div",{staticClass:"btn-area"},[s("van-button",{attrs:{round:"",type:"info"},on:{click:t.finish}},[t._v("完成")])],1),t.loading?s("van-loading",{staticClass:"loading",attrs:{type:"",color:"#1989fa"}}):t._e()],1)},jt=[];function Lt(t,e,s,i,o,n,a){try{var r=t[n](a),c=r.value}catch(l){return void s(l)}r.done?e(c):Promise.resolve(c).then(i,o)}function Bt(t){return function(){var e=this,s=arguments;return new Promise((function(i,o){var n=t.apply(e,s);function a(t){Lt(n,i,o,a,r,"next",t)}function r(t){Lt(n,i,o,a,r,"throw",t)}a(void 0)}))}}function Vt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Nt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(s),!0).forEach((function(e){Ft(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Vt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Ft(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var $t,Ht={props:{orderRightInfos:{type:Array,default:function(){return[]}}},computed:Nt(Nt({},Object(y["d"])("orderRight",["getOrderRightInfos","getOrderProInfo","getGiveupStatus"])),{},{noRights:{get:function(t){return this.getGiveupStatus},set:function(t){this.setGiveupStatus(t)}}}),filters:{activedFilter:function(t){switch(t){case"S":return"扫码";case"F":return"发票";case"AUTO":return"自动";default:return""}},giftTypeFilter:function(t){switch(t){case"jfmall":return"海贝积分";case"casarte":return"卡萨帝积分";case"entity":return"实物礼品";case"virtual":return"虚拟礼品";default:return""}},limitTypeFilter:function(t){switch(t){case"model":return"权益计算排除型号";case"price":return"价格限制约束";case"appoint":return"指定型号限制约束";default:return""}}},data:function(){return{loading:!1,checked:!1}},watch:{getOrderRightInfos:function(t){if(t){var e=t.every((function(t){return 0===t.isSelected}));this.setGiveupStatus(e)}}},methods:Nt(Nt(Nt({},Object(y["c"])("orderRight",["selectOrderRights"])),Object(y["e"])("orderRight",["setSelectedRights","setGiveupStatus","showDesc"])),{},{finish:function(){this.setSelectedRights(),this.$emit("rightFinished")},handleChecked:function(t){var e=this;return Bt(h.a.mark((function s(){var i,o;return h.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!(t.isOptional||!t.isOptional&&t.isSelected)){s.next=10;break}return t.isSelected=!t.isSelected,e.loading=!0,i={sourceSn:e.$route.query.orderTempSn,rightsNo:t.rightsNo,operationType:t.isSelected?"checked":"uncheck"},s.next=6,e.selectOrderRights(i);case 6:o=s.sent,o||(t.isSelected=!t.isSelected),e.loading=!1,e.setSelectedRights();case 10:case"end":return s.stop()}}),s)})))()},handleGiveUp:function(){this.noRights=!this.noRights},handleShowDesc:function(t){this.showDesc(t)},filterRightsDesc:function(t){if(t)return t=t.replace(/\r\n/gim,"<br>").replace(/\r|\n/gim,"<br>").replace(/&nbsp;/g," "),"<div>".concat(t,"</div>")}})},qt=Ht,Gt=(s("e252"),s("76f1"),Object(x["a"])(qt,Dt,jt,!1,null,"52cb7d30",null)),Wt=Gt.exports,zt=s("e845"),Jt=s("d3c8");function Yt(t){return Xt(t)||Kt(t)||Zt(t)||Qt()}function Qt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zt(t,e){if(t){if("string"===typeof t)return te(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?te(t,e):void 0}}function Kt(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Xt(t){if(Array.isArray(t))return te(t)}function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function ee(t,e,s,i,o,n,a){try{var r=t[n](a),c=r.value}catch(l){return void s(l)}r.done?e(c):Promise.resolve(c).then(i,o)}function se(t){return function(){var e=this,s=arguments;return new Promise((function(i,o){var n=t.apply(e,s);function a(t){ee(n,i,o,a,r,"next",t)}function r(t){ee(n,i,o,a,r,"throw",t)}a(void 0)}))}}function ie(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function oe(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(s),!0).forEach((function(e){ne(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ie(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function ne(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function ae(t){var e,s,i,o=2;"undefined"!==typeof Symbol&&(s=Symbol.asyncIterator,i=Symbol.iterator);while(o--){if(s&&null!=(e=t[s]))return e.call(t);if(i&&null!=(e=t[i]))return new re(e.call(t));s="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function re(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return re=function(t){this.s=t,this.n=t.next},re.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var s=this.s["return"];return void 0===s?Promise.resolve({value:t,done:!0}):e(s.apply(this.s,arguments))},throw:function(t){var s=this.s["return"];return void 0===s?Promise.reject(t):e(s.apply(this.s,arguments))}},new re(t)}var ce=function(){return s.e("chunk-0c525e4c").then(s.bind(null,"116e"))},le=function(){return s.e("chunk-674b1746").then(s.bind(null,"3300"))},ue="",de=null,pe={components:($t={},ne($t,d["a"].name,d["a"]),ne($t,u["a"].name,u["a"]),ne($t,l["a"].name,l["a"]),ne($t,c["a"].name,c["a"]),ne($t,r["a"].name,r["a"]),ne($t,a["a"].name,a["a"]),ne($t,"orderCoupon",Q),ne($t,"rightDialog",Rt),ne($t,"chooseRightPopup",Wt),ne($t,"CaptchaDialog",zt["a"]),ne($t,"NoticeBar",n["a"]),ne($t,"ecardPop",le),ne($t,"picker",st),ne($t,"skeleton",Ot),ne($t,"freightPopup",_t),ne($t,"shopList",mt),ne($t,"Header",At["a"]),ne($t,"leaveTip",lt["a"]),ne($t,"commissionLabel",ce),ne($t,"identityTip",ct),$t),data:function(){return{isSyBird:C["a"].isSyBird(),reqOrderInfo:null,showPaymentOption:!1,paymentOptions:[],useCouponList:[],currentOption:"",confirmedOption:"",pageInfo:{},finalPrice:0,isValidateAddress:!0,isValitateMsg:"",calculationList:[],sgbDetail:"",sgbPurposeMoney:0,sgbUseMoney:0,insuranceDetail:"",insurancePurposeMoney:0,insuranceUseMoney:0,seaShellDetail:"",seashellPurposeMoney:0,seaShellUseMoney:0,diamondDetail:"",diamondPurposeMoney:0,diamondUseMoney:0,initCheckStatus:[!1,!1,!1,!1],isUseSGBPay:!1,isUseJBPay:!1,isUseSeaShellPay:!1,isUseDiamondPay:!1,isEarnest:!1,eCardPicker:!1,popupShow:!1,isShowUserEcard:!1,isChangeAddress:!1,pushComputedPrice:[],value:"",showKeyboard:!0,isSubmit:!1,paying:!1,needSign:!1,signUrl:"",contractTlpId:"",ctmMtNo:"",isSigning:!1,showSignToast:!1,showPicker:!1,deliveryList:[],delivery:"",couponListShow:!1,couponListData:{},showRightPicker:!1,showChoosePicker:!1,noRepertoryRight:[],newCantNotGetRights:"",isOrderFailure:!1,orderFailueMsg:"",preGetTime:0,remarkTextArr:[],submitCAPTCHAOnce:0,pickerDate:"",isWaOcO:!0,deliveryProId:"",originSource:null,freightPopupShow:!1,validateFreight:[],RootEM:0,bottomAddrShow:!1,showShopList:!1,selectShopObj:{},shopListAddr:[],leaveOrderTip:!1,reduceAfOrder:0,showCommissionInfo:!1,showLimitPurchaseProduct:!1,limitPurchaseProduct:[],couponTabSelect:"",IdentifyText:"",rightLoadFail:!1,rightLoding:!1,source:null}},filters:{dateFormater:function(t){var e="";if(-1!==t.indexOf("-")){var s=t.split("-");e="".concat(s[0],"年").concat(s[1],"月").concat(s[2],"日")}else e=t;return e.split("年")[1]},weekFormater:function(t){var e="";if(t){var s=t.replace(/年|月|\//g,"-").replace("日",""),i=["周日","周一","周二","周三","周四","周五","周六"];e=i[new Date(s).getDay()]}return e},formatPriceInt:function(t){return t.split(".")[0]},formatPriceFloat:function(t){return"."+t.split(".")[1]}},beforeRouteEnter:function(t,e,s){s((function(t){"/orderInvoice"===e.path&&sessionStorage.getItem("remarkText")?t.remarkTextArr=C["a"].strJSONParse(sessionStorage.getItem("remarkText"),[]):sessionStorage.removeItem("remarkText")}))},beforeRouteLeave:function(t,e,s){"/orderInvoice"===t.path&&sessionStorage.removeItem("remarkText"),"/orderInvoice"===t.path&&0!==this.remarkTextArr.length&&sessionStorage.setItem("remarkText",JSON.stringify(this.remarkTextArr)),de&&(de.cancel("cancel requet"),de=null),s()},computed:oe(oe(oe(oe({actPayMoney:function(){console.log("diamondPurposeMoney ==>",this.diamondPurposeMoney);var t=this.pageInfo.initPam+this.pageInfo.sam-this.ecardListYHPrice-this.diamondPurposeMoney;return console.log(t<0?0:t.toFixed(2),"actPayMoney"),t<0?0:t.toFixed(2)},enableUseEcard:function(){return this.actPayMoney-this.pageInfo.sam>0},ecardSelectNum:function(){return this.pushComputedPrice.filter((function(t){return t.cardNo})).length},ecardListYHPrice:function(){var t=0;return this.pushComputedPrice.forEach((function(e){e.cardNo&&(t+=e.price)})),t>this.pageInfo.initPam?this.pageInfo.initPam:(console.log(t,"ecardListYHPrice"),t>0?t.toFixed(2):t)},invoiceText:function(){var t=this.pageInfo;return null!==t&&void 0!==t&&t.inv?0===t.inv.invoiceFlag?"本次不开发票":2===t.inv.it?"增值税电子普通发票-"+(t.inv.iti||""):3===t.inv.it?"增值税纸质普通发票-"+(t.inv.iti||""):1===t.inv.it?"增值税专用发票-"+(t.inv.bc||""):4===t.inv.it?"增值税电子专用发票-"+(t.inv.bc||""):"":""},isExclusive:function(){return this.$route.query.isExclusive||this.getExclusiveStatus},isWDZ:function(){return console.log("this.$store.getters.getHasStore",this.$store.getters.getHasStore),this.$store.getters.getHasStore},location:function(){return this.$store.getters["getlocationInfo"]}},Object(y["f"])("orderRight",["selectedRights"])),Object(y["d"])(["getShareId"])),Object(y["d"])("mymanage",["displayCommission"])),Object(y["d"])("orderRight",["getOrderRightInfos","getSelectedRights","getGiveupStatus","getExclusiveStatus"])),activated:function(){var t=this;this.$util.isHaierApp()?this.$store.dispatch("handleUpAuth").then((function(e){e?t.init():t.isSyBird?t.$store.dispatch("doLogin"):Object(r["a"])("获取订单信息异常")})):this.init()},created:function(){if(this.setOrderRightInfos([]),this.setSelectedRights([]),this.setGiveupStatus(!1),this.$route.query.coupon)if(Array.isArray(this.$route.query.coupon))this.useCouponList=this.$route.query.coupon;else{var t=decodeURIComponent(this.$route.query.coupon);try{this.useCouponList=JSON.parse(t)}catch(e){}}console.log(this.useCouponList,"+++query coupon+++"),this.originSource=this.$route.query.originSource,this.RootEM=this.getREM()},beforeMount:function(){this.debouncedBuyAction=this.$util.debounceImmediate(this.doSubmitAction)},beforeDestroy:function(){},watch:{couponListShow:function(t){t?this.$modalHelper.afterOpen():this.$modalHelper.beforeClose()}},methods:oe(oe({changeShop:function(t){var e=this;Object(m["i"])({shopCode:t,productId:this.selectShopObj.productId,storeId:this.selectShopObj.storeId}).then((function(s){s.success?s.data&&(e.getPageInfo(),e.selectShopObj.code=t):e.$toast(s.message)}))},noop:function(){this.$util.gioTrackWithVariable("MB15628")},dealRemark:function(t,e){e.map((function(e,s){t.length>0&&t[s].remarkText?e.remarkText=t[s].remarkText:e.remarkText=""}))},toService:function(){this.$store.dispatch("goPageByType",{type:29,params:{sceneId:"cj100"}})},openShopList:function(t,e,s,i){var o=this;i||Object(m["db"])({storeId:t,productId:e}).then((function(i){i.success?(o.selectShopObj={storeId:t,productId:e,code:s},o.shopListAddr=i.data,o.showShopList=!0):o.$toast(i.message)}))["catch"]((function(t){console.log(t)}))},fieldBlur:function(t,e,s){var i=this;0===this.remarkTextArr.length?this.remarkTextArr.push({key:e,remarkText:s}):this.remarkTextArr.map((function(t){t.key!==e?i.remarkTextArr.push({key:e,remarkText:s}):i.remarkTextArr[e].remarkText=s}))},remarkInput:function(){this.$forceUpdate()}},Object(y["e"])("orderRight",["setOrderRightInfos","setOrderProInfo","setSelectedRights","setGiveupStatus"])),{},{platCouponAvali:function(t){var e=this;Object(m["ob"])(t).then((function(t){t.success&&(e.pageInfo.leftCouponAvaili=t.data)}))},storeCouponAvali:function(t){var e=this;return se(h.a.mark((function s(){var i,o,n,a,r,c,l;return h.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:i=!1,o=!1,s.prev=2,a=h.a.mark((function t(){var s,i;return h.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=c.value,t.next=3,Object(m["Jb"])(s);case 3:if(i=t.sent,i.success){t.next=6;break}return t.abrupt("return","continue");case 6:e.pageInfo.sos.forEach((function(t){t.ops.forEach((function(t){s.productId===t.proId&&(t.leftCouponAvaili=i.data)}))})),e.pageInfo=oe({},e.pageInfo);case 8:case"end":return t.stop()}}),t)})),r=ae(t);case 5:return s.next=7,r.next();case 7:if(!(i=!(c=s.sent).done)){s.next=15;break}return s.delegateYield(a(),"t0",9);case 9:if(l=s.t0,"continue"!==l){s.next=12;break}return s.abrupt("continue",12);case 12:i=!1,s.next=5;break;case 15:s.next=21;break;case 17:s.prev=17,s.t1=s["catch"](2),o=!0,n=s.t1;case 21:if(s.prev=21,s.prev=22,!i||null==r["return"]){s.next=26;break}return s.next=26,r["return"]();case 26:if(s.prev=26,!o){s.next=29;break}throw n;case 29:return s.finish(26);case 30:return s.finish(21);case 31:case"end":return s.stop()}}),s,null,[[2,17,21,31],[22,,26,30]])})))()},init:function(){var t=this;if(console.log("======init======"),this.resetEcard(),!this.paying)if(this.isUseSGBPay=!1,this.isUseJBPay=!1,this.isUseSeaShellPay=!1,this.isUseDiamondPay=!1,this.$route.query.productIds){var e=this.$route.query.productIds,s=e.split(",").map((function(t){return{proId:t,num:1}}));this.createOrder(s,"1")}else if(this.$route.query._proList){var i=this.$route.query._proList;if(!Array.isArray(i)){var o=decodeURIComponent(i);try{i=JSON.parse(o)}catch(r){}}var n=this.$util.strJSONParse(localStorage.getItem("location"),{});if(n.aId){var a={address:n.aId};Jt["a"].changeAddressId(a).then((function(e){t.createOrder(i,t.$route.query.ac,!0)}))["catch"]((function(e){t.createOrder(i,t.$route.query.ac)}))}else this.createOrder(i,this.$route.query.ac)}else this.$route.query.redkey?this.createOrder([],"1"):this.getPageInfo(!0)},handleScroll:function(t){var e=this;this.$util.throttle((function(){var t=e.$refs.addrContainer.getBoundingClientRect().top/e.RootEM;e.$nextTick((function(){t<=-1.24&&!e.bottomAddrShow?e.bottomAddrShow=!0:t>-1.24&&e.bottomAddrShow&&(e.bottomAddrShow=!1)}))}),200)()},getREM:function(){var t=parseInt(window.getComputedStyle(document.documentElement,null).getPropertyValue("font-size"));return t},fnOpenPaymentMode:function(){this.confirmedOption&&(this.currentOption=this.confirmedOption),this.showPaymentOption=!0},addCloseWebViewParams:function(){var t={title:"",url:window.location.href},e=this.$util.isHaierApp()&&-1!==window.location.href.indexOf("closewebview")?"".concat(Object({NODE_ENV:"production",VUE_APP_ENV:"development",VUE_APP_V_CONSLOE:"hide",VUE_APP_LOG:"hide",VUE_APP_PUBLIC_PATH:"/sgmobile",VUE_APP_HOST_PIC:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile",VUE_APP_HOST4:"https://m-test.ehaier.com",VUE_APP_MHOSTA:"https://m-test.ehaier.com",VUE_APP_PHOST:"https://m-test.ehaier.com",VUE_APP_DHOST:"https://d-test.ehaier.com",VUE_APP_OHOST:"https://o-test.ehaier.com",VUE_APP_SHOST:"https://s-test.ehaier.com",VUE_APP_FHOST:"https://m-test.ehaier.com",VUE_APP_THOST:"https://m-test.ehaier.com",VUE_APP_ADMINEHOST:"https://uadmin.testehaier.com",VUE_APP_STOREHOST:"https://store-test.ehaier.com",VUE_APP_SYNHOST:"https://sanyiniao-test.haier.net",BASE_URL:"/sgmobile/"}).VITE_ENV?"":"/sgmobile","/orderCreate?closewebview=1"):"".concat(Object({NODE_ENV:"production",VUE_APP_ENV:"development",VUE_APP_V_CONSLOE:"hide",VUE_APP_LOG:"hide",VUE_APP_PUBLIC_PATH:"/sgmobile",VUE_APP_HOST_PIC:"https://cdn09.ehaier.com/shunguang/H5/www/img/sgmobile",VUE_APP_HOST4:"https://m-test.ehaier.com",VUE_APP_MHOSTA:"https://m-test.ehaier.com",VUE_APP_PHOST:"https://m-test.ehaier.com",VUE_APP_DHOST:"https://d-test.ehaier.com",VUE_APP_OHOST:"https://o-test.ehaier.com",VUE_APP_SHOST:"https://s-test.ehaier.com",VUE_APP_FHOST:"https://m-test.ehaier.com",VUE_APP_THOST:"https://m-test.ehaier.com",VUE_APP_ADMINEHOST:"https://uadmin.testehaier.com",VUE_APP_STOREHOST:"https://store-test.ehaier.com",VUE_APP_SYNHOST:"https://sanyiniao-test.haier.net",BASE_URL:"/sgmobile/"}).VITE_ENV?"":"/sgmobile","/orderCreate");history.replaceState(t,"",e)},choosePay:function(t){this.currentOption=t.name},confirmPaymentMode:function(){this.confirmedOption=this.currentOption,this.showPaymentOption=!this.showPaymentOption,this.updatePay()},chooseCoupon:function(){var t=this;return se(h.a.mark((function e(){var s;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isUseSGBPay=!1,t.isUseJBPay=!1,t.isUseSeaShellPay=!1,t.isUseDiamondPay=!1,!t.$util.isHaierApp()){e.next=11;break}return e.next=7,t.$store.dispatch("handleUpAuth");case 7:if(s=e.sent,s){e.next=11;break}return Object(r["a"])("获取订单信息异常"),e.abrupt("return");case 11:t.paying||t.getPageInfo(),t.couponListShow=!1;case 13:case"end":return e.stop()}}),e)})))()},checkOrderRight:function(t){var e=this;this.rightLoding=!0,de&&(de.cancel("cancel requet"),de=null),de=g.a.CancelToken.source(),Object(m["n"])({timeout:t?1e4:5e3},{CancelToken:de.token}).then((function(s){de=null,s.success?(s.data&&(e.setOrderRightInfos(s.data.orderRightInfos||[]),e.setSelectedRights(s.data.orderRightInfos||[]),e.setGiveupStatus(!1),e.newCantNotGetRights=s.data.rightResCode,"0"===e.newCantNotGetRights?e.cantNotGetRights():t&&e.$toast("权益加载成功！")),e.rightLoadFail=!1):(t&&e.$toast("权益加载失败！"),e.rightLoadFail=!0),e.rightLoding=!1}))["catch"]((function(){de=null,t&&e.$toast("权益加载失败！"),e.rightLoadFail=!0,e.rightLoding=!1}))},getEcardInfo:function(){var t=this,e={cardType:1,pageNo:1,pageSize:20};this.$http.post(v["a"].getSmartEcardListForOrder,e).then((function(e){var s=e.data,i=s;i.success&&(t.pageInfo=oe(oe({},t.pageInfo),{},{usableEcardCount:i.totalCount||0}))}))},handdleOrderInfo:function(t){var e=this;if(this.isOrderFailure=!1,console.log("++++++aaaaaaaa+++++++"),t.success){this.validateAddress(),this.addCloseWebViewParams(),this.pageInfo=Object.assign({},t.data),this.pageInfo.initPam=this.pageInfo.oam-this.pageInfo.sam,this.isShowUserEcard=this.pageInfo.canUseEcard,console.log("this.pageInfo:",this.pageInfo),this.paymentOptions=this.pageInfo.pays,this.confirmedOption=this.pageInfo.pyw,this.diamondPurposeMoney=0,t.data&&t.data.bl&&(this.calculationList=t.data.bl.map((function(t){return"diamond"===t.benefitType?(e.diamondUseMoney=t.count>e.pageInfo.initPam?e.pageInfo.initPam:t.count,{purposeMoney:Math.floor(e.diamondUseMoney),canUseMoney:Math.floor(e.diamondUseMoney),detail:t,canUse:!1}):{purposeMoney:"",canUseMoney:"",detail:t,canUse:!1}}))),this.setOrderRightInfos(t.data.orderRightInfos||[]),this.setSelectedRights(t.data.orderRightInfos||[]),this.setGiveupStatus(!1),this.validateFreight=this.pageInfo.sos.filter((function(t){return!!t.ssf}));var s=[];if(!this.pageInfo.sos)return;var i=0;this.pageInfo.sos.forEach((function(t){t.ops&&t.ops.forEach((function(t){s.push({storeId:t.osId,productId:t.proId,sku:t.sku,price:t.price,num:t.num,sceneCode:e.pageInfo.sceneCode}),t.pma&&!isNaN(t.pma)&&(i+=Number(t.pma))}))})),this.reduceAfOrder=i,this.dealRemark(this.remarkTextArr,this.pageInfo.sos),this.reqOrderInfo=s,this.platCouponAvali(s),this.storeCouponAvali(s),this.pageInfo.dd&&!this.pageInfo.book&&this.isWaOcOCalc(this.pageInfo.sos)}else this.isOrderFailure=!0,this.orderFailueMsg=t.message||""},createOrder:function(t,e,s){var i=this;console.log(t,"---proList----");var o=this.$route.query;delete o._proList,Object(m["v"])(oe({ac:Number(e),ch:this.isSyBird?62:this.$util.isUplus()?61:60,proList:t,street:this.location.townshipId,isOrderRight:"1",v:2,coupon:this.useCouponList,sourceName:this.isSyBird?"三翼鸟":this.$util.isSyBirdMP()?"三翼鸟小程序":"",sceneSource:this.isSyBird||this.$util.isSyBirdMP()?"SYN":"",shareId:sessionStorage.getItem("shareUserId")||this.$route.query.storeId||"",originSource:this.originSource||this.$store.state.traceSource||""},o)).then((function(t){t.success?(t.message&&i.$toast(t.message),s?i.getPageInfo(!0):(i.checkOrderRight(),i.handdleOrderInfo(t))):("IdentifyNoSee"===t.errorCode?i.IdentifyText=t.message:i.$toast(t.message),i.handdleOrderInfo(t)),i.getEcardInfo()}))["catch"]((function(){i.$router.back()}))},isWaOcOCalc:function(t){if(t&&t.length>0){var e=t.filter((function(t){var e=t.ops.filter((function(t){return!("B2B2C"===t.shMo&&("WA"===t.sty||"OCO"===t.sty))})).length;return e>0})).length;e>0&&(this.isWaOcO=!1)}else this.isWaOcO=!1},cantNotGetRights:function(){var t=this;this.$dialog.confirm({message:"权益加载失败！",confirmButtonText:"确定",showCancelButton:!1,closeOnPopstate:!0}).then((function(){}))["catch"]((function(){t.$store.dispatch("goPageByType",{type:29,params:{sceneId:"cj104"}})}))},fnShowEcardPop:function(){this.eCardPicker=!0},closeEcardPop:function(){this.eCardPicker=!1},resetEcard:function(){console.log(this.pageInfo.oam),console.log("reset pop pop pop"),this.eCardPicker=!1,this.pushComputedPrice=[],this.computedDiamondUseMoney()},addEcard:function(){this.getEcardInfo(),this.resetEcard()},ecardSelectChange:function(t){if(this.enableUseEcard)if(this.actPayMoney>this.pageInfo.sam&&!t.isSelected){var e=this.actPayMoney-this.pageInfo.sam;console.log(e),this.pushComputedPrice.push({cardNo:t.cardNo,id:t.smartEcardId,balance:t.balance,price:t.balance>e?e:t.balance}),t.isSelected=!0,console.log(this.pushComputedPrice,"pushComputedPrice")}else this.removeArrElm(this.pushComputedPrice,"cardNo",t.cardNo),t.isSelected=!1;else{if(!t.isSelected)return void this.$toast("目前订单中已没有可用于充抵的金额");this.removeArrElm(this.pushComputedPrice,"cardNo",t.cardNo),t.isSelected=!1,console.log("delete")}this.computedDiamondUseMoney()},computedDiamondUseMoney:function(){var t=this;console.log("computedDiamondUseMoney",this.calculationList),this.isUseDiamondPay?(console.log(this.diamondPurposeMoney,this.actPayMoney,"aa"),this.calculationList.forEach((function(e){if("diamond"===e.detail.benefitType&&e.detail.count>t.diamondPurposeMoney&&t.actPayMoney-t.pageInfo.sam>=1){e.canUse=!1,t.isUseDiamondPay=!1,t.diamondPurposeMoney=0;var s=e.detail.count>t.actPayMoney-t.pageInfo.sam?t.actPayMoney-t.pageInfo.sam:e.detail.count;console.log(t.diamondPurposeMoney,"bbb=======>>>>>>"),e.purposeMoney=Math.floor(s),e.canUseMoney=Math.floor(s)}}))):this.calculationList.forEach((function(e){"diamond"===e.detail.benefitType&&(t.diamondUseMoney=e.detail.count>t.actPayMoney-t.pageInfo.sam?t.actPayMoney-t.pageInfo.sam:e.detail.count,console.log(t.diamondUseMoney,"aaa=======>>>>>>"),e.purposeMoney=Math.floor(t.diamondUseMoney),e.canUseMoney=Math.floor(t.diamondUseMoney))}))},getPageInfo:function(t){var e=this;Object(m["Q"])({}).then((function(s){e.isChangeAddress=t||!1,e.handdleOrderInfo(s),t&&s.success&&s.data&&(s.data.orderRightInfos&&s.data.orderRightInfos.length?(e.setOrderRightInfos(s.data.orderRightInfos||[]),e.setSelectedRights(s.data.orderRightInfos||[]),e.setGiveupStatus(!1),e.newCantNotGetRights=s.data.rightResCode,"0"===e.newCantNotGetRights&&e.cantNotGetRights()):e.checkOrderRight()),e.getEcardInfo()}))},calculationSgbData:function(t){console.log("获取智家宝可用钱===============");var e=this,s=[],i="",o="",n="",a="",r=0,c=0,l=0,u=0,d=0,p=0,h=0,f=0;if(t.bl&&t.bl.length>0)for(var g=0;g<t.bl.length;g++)"sgb"===t.bl[g].benefitType?(console.log("获取智家宝的数据：",t.bl[g]),i=t.bl[g],r=e.mul((t.oam||0)-(t.sam||0),i.quota||0),r>(t.oam||0)-(t.sam||0)&&(r=(t.oam||0)-(t.sam||0)),r>(i.count||0)/(i.proportion||0)&&(r=i.count/i.proportion),r<.01&&(r=0),d=e.mul(r,i.proportion),s.push({purposeMoney:r,canUseMoney:d,detail:i,canUse:!1})):"insurance"===t.bl[g].benefitType?(o=t.bl[g],c=e.mul((t.oam||0)-(t.sam||0),o.quota||0),c>(t.oam||0)-(t.sam||0)&&(c=(t.oam||0)-(t.sam||0)),c>(o.count||0)/(o.proportion||0)&&(c=o.count/o.proportion),p=Math.floor(e.mul(c,o.proportion)),c=p/o.proportion||0,s.push({purposeMoney:c,canUseMoney:p,detail:o,canUse:!1})):"seashell"===t.bl[g].benefitType?(n=t.bl[g],l=e.mul((t.oam||0)-(t.sam||0),n.quota||0),l>(t.oam||0)-(t.sam||0)&&(l=(t.oam||0)-(t.sam||0)),l>(n.count||0)/(n.proportion||0)&&(l=n.count/n.proportion),h=Math.floor(e.mul(l,n.proportion)),l=h/n.proportion||0,s.push({purposeMoney:l,canUseMoney:h,detail:n,canUse:!1})):"diamond"===t.bl[g].benefitType&&(a=t.bl[g],u=e.mul((t.oam||0)-(t.sam||0),a.quota||0),u>(t.oam||0)-(t.sam||0)&&(u=(t.oam||0)-(t.sam||0)),u>(a.count||0)/(a.proportion||0)&&(u=a.count/a.proportion),f=Math.floor(e.mul(u,a.proportion)),u=f/a.proportion||0,s.push({purposeMoney:u,canUseMoney:f,detail:a,canUse:!1})),this.calculationList=s,console.log("calculationList",this.calculationList);this.sgbDetail=i,this.sgbPurposeMoney=r.toFixed(2),this.sgbUseMoney=d.toFixed(2),this.insuranceDetail=o,this.insurancePurposeMoney=c.toFixed(2),this.insuranceUseMoney=Math.floor(p),this.seaShellDetail=n,this.seashellPurposeMoney=l.toFixed(2),this.seaShellUseMoney=Math.floor(h),this.diamondDetail=a,this.diamondPurposeMoney=u.toFixed(2),this.diamondUseMoney=Math.floor(f),this.initCheckStatus=[!1,!1,!1,!1],console.log("sgbDetail:",i,"sgbPurposeMoney: ",r,"sgbUseMoney: ",d)},mul:function(t,e){var s=0,i="",o="";t&&null!=t&&(i=t.toString()),e&&null!=e&&(o=e.toString());try{s+=i.split(".")[1].length}catch(n){}try{s+=o.split(".")[1].length}catch(n){}return Number(i.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,s)},validateAddress:function(){var t=this;if(this.pageInfo.sid){var e=this.pageInfo.pid+","+this.pageInfo.cid+","+this.pageInfo.rid+","+this.pageInfo.sid;Object(m["Ub"])({addressIds:e}).then((function(e){e.success?e.result?t.isValidateAddress=!0:(t.isValidateAddress=!1,t.isValitateMsg=e.message||""):Object(r["a"])(e.message)}))}},fnGoToStore:function(t){this.$router.push({path:"/shopDetail",query:{storeId:t}})},fnChangeAddress:function(){this.pushComputedPrice=[],this.isChangeAddress=!1,this.$router.push({path:"/address",query:{from:1}})},fnOpenAvailableVoucher:function(t){console.log("优惠券和店铺优惠券");var e,s=t.sku;t.proId?(e={type:"1",productId:t.proId,sku:s,prodInfo:{price:t.price,num:t.num}},t.ca?this.couponTabSelect="ky":t.leftCouponAvaili?this.couponTabSelect="kl":this.couponTabSelect="ky"):(e={type:"2"},this.pageInfo.coAmt?this.couponTabSelect="ky":this.pageInfo.leftCouponAvaili?this.couponTabSelect="kl":this.couponTabSelect="ky"),this.couponListData=e,this.couponListShow=!0},updatePay:function(){var t=this,e={};this.pageInfo.pays.forEach((function(s){s.name===t.confirmedOption&&(e=oe({},s))})),Object(m["Tb"])(oe({},e)).then((function(t){t.success||Object(r["a"])(t.message)}))},fnOpenInvoice:function(){this.$util.gioTrackWithVariable("mall_orderCreate_click_invoice"),this.$router.push({name:"invoice",params:{}})},fnOpenDelivery:function(t){var e=this;return se(h.a.mark((function s(){return h.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.$util.gioTrackWithVariable("MB15628"),s.next=3,e.getCanChoiceDate(t);case 3:e.isWaOcO="B2B2C"===t.shMo&&("WA"===t.sty||"OCO"===t.sty||"ZJ"===t.sty),e.showPicker=!0,e.$refs.pickers&&e.$nextTick((function(){e.$refs.pickers.showCurrentDate()}));case 6:case"end":return s.stop()}}),s)})))()},bgClosePicker:function(){this.$refs.pickers.close()},closePicker:function(){this.showPicker=!1},pickerConfirm:function(){},getCanChoiceDate:function(t){var e=this;return new Promise((function(s,i){Object(m["F"])({productId:t.proId}).then((function(i){i.success?(e.deliveryProId=t.proId,e.deliveryList=i.data?Yt(i.data):[],s()):Object(r["a"])(i.message)}))}))},fnSelectDelivery:function(t){this.pickerDate=t,this.delivery=t.split("(")[0],this.showPicker=!1,this.choiceDate()},choiceDate:function(){var t=this;Object(m["p"])({cd:1,day:this.delivery,time:"",productId:this.deliveryProId}).then((function(e){t.deliveryProId="",e.success?(e.data||Object(r["a"])(e.message),t.getPageInfo()):Object(r["a"])(e.message)}))},fnSwitchChange:function(t){console.log("fnSwitchChange"),"diamond"===t.detail.benefitType&&(this.isUseDiamondPay=t.canUse,t.canUse?this.diamondPurposeMoney=t.purposeMoney:(this.diamondPurposeMoney=0,this.pushComputedPrice.forEach((function(t){t.cardNo&&(t.price=t.balance)})),this.computedDiamondUseMoney()))},checkAuthThree:function(){var t=this,e=this;return new Promise((function(s,i){t.$http.get(v["a"].TRUE_REALNAMEAUTH).then((function(t){var i=t.data;!0===i.success?i.data.authCode&&i.data.authCode>=4||i.data.isAuth&&null!=i.data.bankCard?s():e.$router.push({name:"bindcard"}):Object(r["a"])(i.message)}))}))},rightRemind:function(){var t=this;return new Promise((function(e,s){t.$dialog.confirm({title:"权益选择提醒",message:"此订单存在可选择的权益",confirmButtonText:"直接提交",cancelButtonText:"选择权益",cancelButtonColor:"#999",closeOnPopstate:!0}).then((function(){e(!0)}))["catch"]((function(){e(!1)}))}))},fnSubmit:function(){this.doSubmitAction()},doSubmitAction:function(){var t=this;return se(h.a.mark((function e(){var s,i,o,n,a,c,l;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.pageInfo.aid){e.next=3;break}return Object(r["a"])("请选择收货地址"),e.abrupt("return");case 3:if(t.pageInfo.sid){e.next=6;break}return Object(r["a"])("街道/乡镇地址为空，请完善地址后提交订单"),e.abrupt("return");case 6:if(t.isValidateAddress){e.next=10;break}return s={type:"validateAddress",title:"温馨提示",message:t.isValitateMsg},t.fnShowDialogConfirm(s),e.abrupt("return");case 10:if(i=[],t.pageInfo.sos.map((function(t){var e=t.ops.filter((function(t){return!1===t.hasS&&!1===t.book}));i.push.apply(i,Yt(e))})),!i.length){e.next=15;break}return Object(r["a"])("商品".concat(i[0].proN,"库存不足")),e.abrupt("return");case 15:if(!(t.getOrderRightInfos.length>0&&0===t.getSelectedRights.length)||t.getGiveupStatus){e.next=24;break}return e.next=18,t.rightRemind();case 18:if(e.sent){e.next=23;break}return t.showChoosePicker=!0,e.abrupt("return");case 23:t.setGiveupStatus(!0);case 24:return e.next=26,t.checkMemberContract();case 26:if(o=e.sent,!o.needSign){e.next=37;break}console.log("协议签订"),t.needSign=!0,o.url&&o.url.indexOf("http:")>-1&&(o.url=o.url.replace("http:","")),t.signUrl=o.url,t.contractTlpId=o.contractTlpId,t.ctmMtNo=o.ctmMtNo,t.showSignToast=!0,e.next=52;break;case 37:if(o.needSign){e.next=52;break}if(1!==t.pageInfo.ot||t.isEarnest){e.next=44;break}return n="尾款支付时间：".concat(t.pageInfo.tailTime," -- ").concat("1"===t.pageInfo.longTerm?"长期":t.pageInfo.tailEndTime,"，逾期不付尾款则订单无效，订金退还。"),a={type:"isEarnest",title:"温馨提示",message:"我已同意订金作为预定凭证，支付尾款前不予退还。"+n},e.next=43,t.fnShowDialogConfirm(a);case 43:t.isEarnest;case 44:return e.next=46,t.getPriceChange();case 46:if(c=e.sent,!c.result){e.next=51;break}return l={type:"priceChange",title:"温馨提示",message:"商品价格存在变动，是否继续支付?",confirmButtonText:"继续支付",cancelButtonText:"重新下单"},e.next=51,t.fnShowDialogConfirm(l);case 51:t.isUseSGBPay||t.isUseJBPay||t.isUseSeaShellPay||t.isUseDiamondPay||-1!==t.pushComputedPrice.findIndex((function(t){return t.cardNo}))?(console.log("提交订单--使用智家宝"),t.popupShow=!0,t.sendSmsCaptch()):(console.log("提交订单--不使用智家宝"),t.asynSubmitOrder());case 52:case"end":return e.stop()}}),e)})))()},checkMemberContract:function(){return new Promise((function(t,e){Object(m["k"])({}).then((function(e){e.success?t(e.data):Object(r["a"])(e.message)}))}))},getPriceChange:function(){return new Promise((function(t,e){Object(m["W"])({}).then((function(e){e.success?t(e):Object(r["a"])(e.message)}))}))},fnShowSignContent:function(){this.$util.openNewWindow(encodeURIComponent(this.signUrl),!0)},signContract:function(){var t=this;this.isSigning||(this.isSigning=!0,Object(m["Hb"])({contractTlpId:this.contractTlpId,ctmMtNo:this.ctmMtNo,needSign:!0,url:this.signUrl}).then((function(e){t.isSigning=!1,t.showSignToast=!1,e.success?(Object(r["a"])("签订成功"),t.needSign=!1,t.fnSubmit()):Object(r["a"])(e.message)})))},fnShowDialogConfirm:function(t){var e=this;return new Promise((function(s,i){e.$dialog.confirm({title:t.title||"提示",message:t.message||"",confirmButtonText:t.confirmButtonText||"确定",cancelButtonText:t.cancelButtonText||"取消"}).then((function(){"isEarnest"===t.type&&(e.isEarnest=!0),s()}))["catch"]((function(){"isEarnest"===t.type&&(e.isEarnest=!1),"priceChange"!==t.type?s():e.$router.go(-1)}))}))},sendSmsCaptch:function(){var t=this;this.submitCAPTCHAOnce<=5&&Date.now()-this.preGetTime<=6e4||(this.submitCAPTCHAOnce=0,Object(m["Eb"])({}).then((function(e){e.success?t.preGetTime=Date.now():Object(r["a"])(e.message)})))},onInput:function(t){this.value=(this.value+t).slice(0,6),6===this.value.length&&(this.popupShow=!1,this.asynSubmitOrder())},onDelete:function(){this.value=this.value.slice(0,this.value.length-1)},onSubmitCaptcha:function(t){this.value=t,this.asynSubmitOrder()},onCloseCaptchaDialog:function(){this.popupShow=!1},asynSubmitOrder:function(){var t=this;if(!this.isSubmit){this.isSubmit=!0;var e=[];if(this.isUseSGBPay){var s={amt:this.sgbPurposeMoney||0,benefitType:"sgb",count:this.sgbPurposeMoney||0};e.push(s)}if(this.isUseJBPay){var i={amt:this.insurancePurposeMoney||0,benefitType:"insurance",count:(this.insurancePurposeMoney*this.insuranceDetail.proportion||0).toFixed(0)};e.push(i)}if(this.isUseSeaShellPay){var o={amt:this.seashellPurposeMoney||0,benefitType:"seashell",count:(this.seashellPurposeMoney*this.seaShellDetail.proportion||0).toFixed(0)};e.push(o)}if(this.isUseDiamondPay){var n={amt:this.diamondPurposeMoney||0,benefitType:"diamond",count:this.diamondPurposeMoney||0};e.push(n)}if(-1!==this.pushComputedPrice.findIndex((function(t){return t.cardNo}))){var a={amt:this.ecardListYHPrice,benefitType:"ecard",count:this.ecardListYHPrice,bids:[]};this.pushComputedPrice.forEach((function(t){t.cardNo&&a.bids.push(t.id)})),e.push(a)}console.log(this.pushComputedPrice,"to submit");var c=[];this.pageInfo.sos.map((function(t){c.push({storeId:t.si,remarkInfo:t.remarkText})})),de&&(de.cancel("cancel requet"),de=null),Object(m["e"])({captcha:this.value,ch:1,isBooking:0,benefitList:e,remarkInfoList:c,isOrderRight:this.getGiveupStatus||0===this.getOrderRightInfos.length?"0":"1"}).then((function(e){var s=0;t.pageInfo.sos.length>1?t.pageInfo.sos.map((function(t){s+=t.ops[0].num})):1===t.pageInfo.sos.length&&(s=t.pageInfo.sos[0].ops[0].num);var i=0;t.pageInfo.sos.length>1?t.pageInfo.sos.map((function(t){i+=t.ops[0].pca||0})):1===t.pageInfo.sos.length&&(i=null===t.pageInfo.sos[0].ops[0].pca?0:t.pageInfo.sos[0].ops[0].pca);var o="";if(t.pageInfo.sos.length>1?t.pageInfo.sos.map((function(t){o=o+","+t.ops[0].proId})):1===t.pageInfo.sos.length&&(o=t.pageInfo.sos[0].ops[0].proId),t.$util.gioTrackWithVariable("SubmitOrder",{member_id:localStorage.getItem("mId")?localStorage.getItem("mId")+"":"null",orderId:e.data?e.data.os:"null"}),t.isUseJBPay?gio("track","SubmitOrder",{productId:o+"",orderId:e.data?e.data.os:"",memberId:t.pageInfo.mid+"",productCount:s+"",couponDiscount:i+"",totalPrice:t.pageInfo.oam+"",deductionWay:"gold"}):t.isUseSeaShellPay?gio("track","SubmitOrder",{productId:o+"",orderId:e.data?e.data.os:"",memberId:t.pageInfo.mid+"",productCount:s+"",couponDiscount:i+"",totalPrice:t.pageInfo.oam+"",deductionWay:"integral"}):t.isUseDiamondPay?gio("track","SubmitOrder",{productId:o+"",orderId:e.data?e.data.os:"",memberId:t.pageInfo.mid+"",productCount:s+"",couponDiscount:i+"",totalPrice:t.pageInfo.oam+"",deductionWay:"diamond"}):t.isUseSGBPay||gio("track","SubmitOrder",{productId:o+"",orderId:e.data?e.data.os:"",memberId:t.pageInfo.mid+"",productCount:s+"",couponDiscount:i+"",totalPrice:t.pageInfo.oam+"",deductionWay:"unused"}),t.value="",e.success)if(t.$util.gioTrackWithVariable("mall_orderCreate_click_submit",{order_id:e.data.os?e.data.os+"":"null"}),t.submitCAPTCHAOnce=0,t.popupShow=!1,t.paying=!0,"online"===e.data.pyc)if(t.$util.isHaierApp()){var n=function(){t.$util.isHaierApp()&&-1!==window.location.href.indexOf("closewebview")?t.$router.replace({path:"/orderCashier/".concat(e.data.os,"?closewebview=1")}):t.$router.replace({path:"/orderCashier/".concat(e.data.os)})};try{t.$util.uplusReportPageClickEvent({actionCode:"1001",extentInfo:{OrderNumber:e.data.os,sg_refer_url:ue}}).then((function(){console.log(history.state,"history state")}))["catch"]((function(){}))["finally"]((function(){n()}))}catch(a){n()}}else t.$router.replace({path:"/orderCashier/".concat(e.data.os)});else if(t.paying=!1,t.$util.isHaierApp())try{t.$util.uplusReportPageClickEvent({actionCode:"1001",extentInfo:{OrderNumber:e.data.os,sg_refer_url:ue}}).then((function(){t.fnOpenPayStatus("submit")}))["catch"]((function(e){console.log(e,"uplus report"),t.fnOpenPayStatus("submit")}))}catch(c){console.log(c,"catch"),t.fnOpenPayStatus("submit")}else t.fnOpenPayStatus("submit");else t.isSubmit=!1,"smsCodeError"===e.errorCode?(Object(r["a"])(e.message),t.submitCAPTCHAOnce>=5?(t.$toast("验证码输入错误，请重新获取"),t.removeSmsCaptcha()):t.submitCAPTCHAOnce=t.submitCAPTCHAOnce+1):"999"===e.errorCode?e.data?(t.showRightPicker=!0,t.noRepertoryRight=e.data.orderRightStorages||[]):Object(r["a"])(e.message||"请求错误"):"1002"===e.errorCode?(t.limitPurchaseProduct=e.data.purchaseProduct,t.showLimitPurchaseProduct=!0):Object(r["a"])(e.message||"请求错误")}))}},removeSmsCaptcha:function(){Object(m["Bb"])({}).then((function(t){t.success}))["catch"]((function(t){Object(r["a"])(t.message)}))},goBackUpOne:function(){this.$store.dispatch("doHistoryBack")},fnOpenPayStatus:function(t){this.$router.replace({path:"/orderPay",query:{type:t}})},protocolCancel:function(){this.showSignToast=!1},goBack:function(){this.showRightPicker=!1,this.showChoosePicker=!0},removeArrElm:function(t,e,s){t.splice(t.findIndex((function(t){return t[e]===s})),1),this.pushComputedPrice.forEach((function(t){t.cardNo&&(t.price=t.balance)}))},giveUp:function(){var t=this;Promise.all(this.noRepertoryRight.map((function(t){return Object(m["Gb"])({operationType:"uncheck",rightsNo:t.rightsNo})}))).then((function(e){var s=Yt(t.getOrderRightInfos),i=!0;e.forEach((function(e,o){e.success&&s.forEach((function(e){e.rightsNo===t.noRepertoryRight[o].rightsNo&&(e.isSelected=0),e.isSelected&&(i=!1)}))})),t.setOrderRightInfos(s),t.setSelectedRights(),i&&t.setGiveupStatus(!0),t.asynSubmitOrder()}))},rightFinished:function(){this.showChoosePicker=!1},chooseRight:function(){this.showChoosePicker=!0},handleOverlay:function(){},openRightPopup:function(){console.log(1111)},remToPx:function(t){return document.body.clientWidth/7.5*t},headerBack:function(){console.log("headerBack"),this.pageInfo.sos?this.leaveOrderTip=!0:this.$store.dispatch("doHistoryBack")}})},he=pe,fe=(s("ab2f"),s("5468"),Object(x["a"])(he,i,o,!1,null,"7a3f5c35",null));e["default"]=fe.exports},c791:function(t,e,s){"use strict";s("fbed")},d045:function(t,e,s){"use strict";s("6205")},e252:function(t,e,s){"use strict";s("b6df")},e52d:function(t,e,s){"use strict";s("e6b2")},e6b2:function(t,e,s){},e845:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"captcha-dialog-page"},[s("div",{staticClass:"close-btn",on:{click:t.close}},[s("img",{staticClass:"close",attrs:{src:t.$cdnImageUrl+"/order/home_common_control-close.png",alt:""}})]),t._m(0),s("div",{staticClass:"des"},[t._v(t._s(t.desc))]),s("div",{staticClass:"input-field flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"inputSMS",staticClass:"password-input",attrs:{inputmode:"search"},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},t.change]}}),s("div",{staticClass:"get-messge",style:{color:t.color},on:{click:t.resend}},[t._v(" "+t._s(t.canResendMSG?"重新获取验证码":t.farToResend+"s后获取"))])]),s("div",{staticClass:"divider"}),t.phone?s("div",{staticClass:"phone"},[t._v("验证码已发送至"+t._s(t.isBankPhone?"银行预留":"")+"手机号"+t._s(t.phone))]):t._e(),s("div",{staticClass:"btn-area",style:{"background-color":6===t.inputValue.length?"#2878FF":"#dddddd"},on:{click:t.sumitCaptcha}},[t._v(" 确定 ")])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"title-name"},[t._v("身份校验")])])}],n={props:{show:{type:Boolean},preGetTime:{type:Number},desc:{type:String,default:function(){return""}},isBankPhone:{type:Boolean,default:function(){return!0}},phone:{type:String,defalut:function(){return""}}},data:function(){return{inputValue:"",now:null,fdInterval:null}},computed:{color:function(){return this.canResendMSG?"#2878FF":"#999"},farToResend:function(){return Number(this.now-this.preGetTime)<0?60:this.now-this.preGetTime>=6e4?0:60-Number((this.now-this.preGetTime)/1e3).toFixed(0)},canResendMSG:function(){return 0===this.farToResend}},watch:{show:{handler:function(t,e){var s=this;t?(this.now=Date.now(),this.fdInterval=setInterval((function(){s.now=Date.now()}),1e3),this.$nextTick((function(){s.$refs.inputSMS.focus()}))):this.fdInterval&&clearInterval(this.fdInterval)},immediate:!0}},created:function(){var t=this;this.now=Date.now(),this.fdInterval=setInterval((function(){t.now=Date.now()}),1e3)},mounted:function(){},destroyed:function(){this.fdInterval&&clearInterval(this.fdInterval)},methods:{resend:function(){this.$emit("resend")},change:function(t){console.log(t.keyCode),this.inputValue=this.inputValue.replace(/[^\d]/g,""),this.inputValue=this.inputValue.replace("e",""),console.log(this.inputValue),this.inputValue.length>6&&(this.inputValue=this.inputValue.slice(0,6))},sumitCaptcha:function(){console.log("submit"),this.inputValue.length<6||(this.$emit("submit",this.inputValue),this.inputValue="")},close:function(){this.$emit("close")}}},a=n,r=(s("ebe9"),s("2877")),c=Object(r["a"])(a,i,o,!1,null,"11a4f73d",null);e["a"]=c.exports},ebe9:function(t,e,s){"use strict";s("1727")},eeae:function(t,e,s){"use strict";s("af7d")},f057:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("span",{staticClass:"title"},[t._v(t._s(t.title))]),s("span",{staticClass:"close-icon",on:{click:t.close}})]),t._m(0),s("div",{staticClass:"desc-cantainer"},[s("span",[t._v(t._s(t.desc))])]),s("div",{staticClass:"option"},[s("div",{staticClass:"btn give-up",on:{click:t.giveUp}},[t._v("暂时放弃")]),"cj101"===t.sceneId&&t.isSyBird?t._e():s("div",{staticClass:"btn to-service",on:{click:t.toService}},[t._v("联系客服")]),s("div",{staticClass:"btn continue",on:{click:t.continuePay}},[t._v("继续支付")])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo-cantainer"},[s("span",{staticClass:"logo"})])}],n={props:["title","desc","sceneId"],data:function(){return{isSyBird:!1}},created:function(){this.isSyBird=this.$util.isSyBird()},methods:{close:function(){this.$emit("close")},giveUp:function(){this.$emit("giveUp")},toService:function(){this.$store.dispatch("goPageByType",{type:29,params:{sceneId:this.sceneId}})},continuePay:function(){this.$emit("continuePay")}}},a=n,r=(s("65d7"),s("2877")),c=Object(r["a"])(a,i,o,!1,null,"f20e3b98",null);e["a"]=c.exports},f213:function(t,e,s){},f43d:function(t,e,s){},f858:function(t,e,s){"use strict";s("04be")},fbed:function(t,e,s){},fe49:function(t,e,s){"use strict";s("1b4b")}}]);
//# sourceMappingURL=chunk-9cf76800.b9412a1a.js.map